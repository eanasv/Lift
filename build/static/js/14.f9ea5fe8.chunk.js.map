{"version":3,"sources":["components/Header.tsx","util/ClearReduxStore.js","components/PopUp/SlideUpModal.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toArray.js","components/Avatar/RoundedAvatar.tsx","components/alert/Alert.tsx","pages/myBooking/containerDetails/containerCard/ContainerCard.tsx","pages/myBooking/containerDetails/ContainerDetails.tsx"],"names":["Header","HeaderParam","useState","search","check","close","home","info","actionType","setActionType","userDetails","Store","getState","CheckUserStatus","user","checked","setChecked","checkedLabel","setCheckedLabel","backIconProps","name","slot","zoom","useEffect","updateActionType","action","history","useHistory","back","e","customBack","backClick","goBack","myValue","homeButtonClicked","dispatch","type","LoginUserTypes","locationProps","push","selectUserType","a","data","detail","value","url","EndPointURL","agentCode","agentType","endPointHeader","userName","userType","loginWithAgent","response","result","dataItems","success","reduxActions","accessToken","activeCompanyCode","selectedAgent","style","agentHeader","height","className","paddingBottom","checkedProps","hidden","showChecked","fill","onClick","Icon","iconProps","onIonChange","addContainerToCart","checkAndUncheckAll","label","searchClick","icon","minWidth","infoClick","informationCircle","checkClick","closeSharp","agents","interface","disabled","showAgent","length","backgroundColor","interfaceOptions","cssClass","map","item","index","key","agentName","src","SlideUpModal","showModal","openOrCloseModal","content","isOpen","onDidDismiss","_toArray","arr","RoundedAvatar","avatarParam","console","log","color","bookingCard","Alert","props","alertAction","alertProps","id","isShow","header","message","itemName","inputs","buttons","text","role","handler","React","memo","BookingContainerParam","setShowModal","ContainerDetails","size","initials","container_number","closeOutline","boeNumber","containerWeight","isoCode","storageValidity","holdAuthority","pickUpLocation","dropLocation","containerStatus","cancelRemarks","bookingStatus","closeClick","status","border","padding","containerType","maxWidth","consigneeName","dropZone","whiteSpace","paddingRight","stroke","dropTime","noEvent","trackClick","viewClick","ref","setData","groupedData","setGroupedData","alertPopup","setAlertPopup","setMessage","deleteContainer","setDeleteContainer","showPaymentModal","setShowPaymentModal","containerDetails","setContainerDetails","isInProgress","setIsInProgress","isDelivered","setIsDelivered","isCompleted","setIsCompleted","setPaymentPage","options","fetchData","location","state","bookingNumber","bookingDetails","referenceNumber","appUrl","httpGetCallWithoutHeader","OnInProgress","conts","containerList","list","groupingByDeclaration","cont","inProgressStatus","undefined","filter","cL","includes","refStatus","code","deliveredStatus","completedStatus","containers","reduce","acc","orderValidity","canCellationRequest","ctn","JSON","stringify","httpPostCallWithoutHeaderAndWithBody","booking","r","cardStatus","cancellationReason","placeholder","PaymentDetails","margin","fontSize","grossAmount","paymentDetails","pd","paymentType","borderBottom","chargeDescription","subTotalAmount","totalVat","totalAmount","totalContainerTariff","paddingTop","totalTokenTariff","BookingDetails","paddingLeft","requesterName","requesterContact","importerComments","setTimeout","paymentInfo","postToExternalSite","txnId","InAppBrowser","create","on","subscribe","event","checkPaymentSuccess","paymentCompl","checkPaymentStatus","err","test","httpPostCallWithoutHeaderAndBody","transactionId","ConfirmScreenTabs","BookingNumberTab","boe","split","ContainerToolbar","containerCount","padStart","truckCount","fullscreen","scrollEvents","Object","keys","consigneeDetails","pickupLocation","dropAddress","dropZoneLabel","date_time","iso_code","storagePaidTill","contact","consigneeContactNumber","consigneeContactName","phoneNumber","addressLine1","dropZoneCode","selectedDropZoneLabel","ctnNumber","dpwTransactionId","requestDetailsNumber","latLng","details","isContainerEdit","viewContactDetails","viewTrack","deleteData","closeContainer","constructor"],"mappings":"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","file":"static/js/14.f9ea5fe8.chunk.js","sourcesContent":["import {\r\n  IonButton,\r\n  IonCheckbox,\r\n  IonHeader,\r\n  IonIcon,\r\n  IonImg,\r\n  IonLabel,\r\n  IonSelect,\r\n  IonSelectOption,\r\n  IonText,\r\n  IonToolbar,\r\n} from \"@ionic/react\";\r\nimport { closeSharp, informationCircle, search } from \"ionicons/icons\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ClearReduxStore from \"../util/ClearReduxStore\";\r\nimport \"./Header.scss\";\r\nimport Icon from \"./Icon\";\r\nimport Store from \"../redux/Store\";\r\nimport * as EndPointURL from \"../util/EndPointURL\";\r\nimport * as reduxActions from \"../redux/actions/AllActions\";\r\nimport { loginWithAgent } from \"../services/EndPointApi\";\r\n\r\ninterface HeaderParam {\r\n  label?: string;\r\n  action?: string;\r\n  showAgent?: boolean;\r\n  agentHeader?: boolean;\r\n  customBack?: boolean;\r\n  searchClick?(e: any): void;\r\n  infoClick?(e: any): void;\r\n  checkClick?(e: any): void;\r\n  backClick?(e: any): void;\r\n  locationProps?: any;\r\n  checkedProps?: any;\r\n}\r\nconst Header: React.FC<HeaderParam> = (HeaderParam) => {\r\n  const [actionType, setActionType] = useState({\r\n    search: true,\r\n    check: true,\r\n    close: true,\r\n    home: true,\r\n    info: false,\r\n  });\r\n\r\n  var userDetails = Store.getState().CheckUserStatus.user;\r\n\r\n  const [checked, setChecked] = useState(false);\r\n  const [checkedLabel, setCheckedLabel] = useState(\"Select All\");\r\n  const backIconProps = {\r\n    name: \"back-arrow\",\r\n    slot: \"icon-only\",\r\n    zoom: \"\",\r\n  };\r\n  const homeIconProps = {\r\n    name: \"home-new\",\r\n    slot: \"icon-only\",\r\n    zoom: \"\",\r\n  };\r\n  const checkIconProps = {\r\n    name: \"Check\",\r\n    slot: \"icon-only\",\r\n    zoom: \"\",\r\n  };\r\n\r\n  function checkAndUncheckAll(checked) {\r\n    setChecked(checked);\r\n    if (checked) {\r\n      setCheckedLabel(\"Unselect All\");\r\n      HeaderParam.checkedProps.addContainerToCart(\"\", \"\", \"checked\");\r\n    } else {\r\n      HeaderParam.checkedProps.addContainerToCart(\"\", \"\", \"unchecked\");\r\n      setCheckedLabel(\"Select All\");\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    updateActionType(HeaderParam.action ? HeaderParam.action : \"none\");\r\n  }, []);\r\n\r\n  let history = useHistory();\r\n  const back = (e: any) => {\r\n    if (HeaderParam.customBack) {\r\n      HeaderParam.backClick(e);\r\n    } else {\r\n      history.goBack();\r\n    }\r\n  };\r\n\r\n  const updateActionType = (myValue: string) => {\r\n    if (myValue) {\r\n      if (myValue === \"search\") {\r\n        setActionType({\r\n          search: false,\r\n          check: true,\r\n          close: true,\r\n          home: true,\r\n          info: true,\r\n        });\r\n      } else if (myValue === \"check\") {\r\n        setActionType({\r\n          search: true,\r\n          check: false,\r\n          close: true,\r\n          home: true,\r\n          info: true,\r\n        });\r\n      } else if (myValue === \"close\") {\r\n        setActionType({\r\n          search: true,\r\n          check: true,\r\n          close: false,\r\n          home: true,\r\n          info: true,\r\n        });\r\n      } else if (myValue === \"home\") {\r\n        setActionType({\r\n          search: true,\r\n          check: true,\r\n          close: true,\r\n          home: false,\r\n          info: true,\r\n        });\r\n      } else if (myValue === \"info\") {\r\n        setActionType({\r\n          search: true,\r\n          check: true,\r\n          close: true,\r\n          home: true,\r\n          info: false,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  function homeButtonClicked() {\r\n    ClearReduxStore();\r\n    HeaderParam.locationProps.history.push(\"/tabs/landing\");\r\n  }\r\n\r\n  const selectUserType = async (e: any) => {\r\n    let data = e.detail.value;\r\n    let url =\r\n      EndPointURL.loginAgent +\r\n      \"?agentCode=\" +\r\n      data.agentCode +\r\n      \"&agentType=\" +\r\n      data.agentType;\r\n\r\n    var endPointHeader = {\r\n      userName: userDetails.userName,\r\n      userType: \"IMPORTER_APP\",\r\n    };\r\n\r\n    var response = await loginWithAgent(url, endPointHeader);\r\n    var result = response.data.data.dataItems[0];\r\n    if (await response.success) {\r\n      var accessToken = await reduxActions.AddAccessToKen(result.accessToken);\r\n      if (accessToken) Store.dispatch(accessToken);\r\n\r\n      var agentType = await reduxActions.AddAgentType(\r\n        result.user.activeCompanyCode\r\n      );\r\n      if (agentType) Store.dispatch(agentType);\r\n\r\n      var selectedAgent = await reduxActions.AddSelectedAgent(data);\r\n\r\n      if (selectedAgent) Store.dispatch(selectedAgent);\r\n\r\n      var test = Store.getState().CheckUserStatus;\r\n    }\r\n  };\r\n\r\n  const agentCodeoptions = {\r\n    cssClass: \"agent-interface\",\r\n  };\r\n\r\n  return (\r\n    <IonHeader\r\n      style={HeaderParam.agentHeader ? { height: \"102px\" } : { height: \"10%\" }}\r\n    >\r\n      <IonToolbar className=\"header\">\r\n        <div\r\n          className=\"mainContainer\"\r\n          style={!HeaderParam.agentHeader ? { paddingBottom: 0 } : {}}\r\n        >\r\n          {HeaderParam.checkedProps ? (\r\n            <div\r\n              className=\"selectAllBg\"\r\n              hidden={!HeaderParam.checkedProps.showChecked}\r\n            >\r\n              <div>\r\n                <IonButton\r\n                  fill=\"clear\"\r\n                  onClick={(e) => {\r\n                    back(e);\r\n                  }}\r\n                >\r\n                  <Icon iconProps={backIconProps} />\r\n                </IonButton>\r\n              </div>\r\n              <div className=\"checkBoxContainer\">\r\n                <IonCheckbox\r\n                  className=\"checkBox\"\r\n                  checked={checked}\r\n                  onIonChange={(e) => checkAndUncheckAll(e.detail.checked)}\r\n                />\r\n              </div>\r\n              <div className=\"checkBoxLabelCol\">\r\n                <IonLabel className=\"checkBoxLabel\">{checkedLabel}</IonLabel>{\" \"}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <></>\r\n          )}\r\n          <div className=\"backArrow\">\r\n            {HeaderParam.label != \"Home\" && actionType.close ? (\r\n              <IonButton\r\n                fill=\"clear\"\r\n                onClick={(e) => {\r\n                  back(e);\r\n                }}\r\n              >\r\n                <Icon iconProps={backIconProps} />\r\n              </IonButton>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </div>\r\n          <div className=\"header-label\">\r\n            {\" \"}\r\n            <IonText>{HeaderParam.label}</IonText>\r\n          </div>\r\n          <div className=\"header-right\">\r\n            <IonButton\r\n              hidden={actionType.search}\r\n              fill=\"clear\"\r\n              onClick={HeaderParam.searchClick}\r\n            >\r\n              <IonIcon\r\n                slot=\"icon-only\"\r\n                icon={search}\r\n                style={{ minWidth: \"30px\" }}\r\n              />\r\n            </IonButton>\r\n            <IonButton\r\n              hidden={actionType.info}\r\n              fill=\"clear\"\r\n              onClick={HeaderParam.infoClick}\r\n            >\r\n              <IonIcon\r\n                slot=\"icon-only\"\r\n                icon={informationCircle}\r\n                style={{ minWidth: \"30px\" }}\r\n              />\r\n            </IonButton>\r\n            <IonButton\r\n              hidden={actionType.check}\r\n              fill=\"clear\"\r\n              onClick={HeaderParam.checkClick}\r\n            >\r\n              {/* <IonIcon slot=\"icon-only\" src=\"\" style={{minWidth:'30px'}}/> */}\r\n              <Icon iconProps={checkIconProps} />\r\n            </IonButton>\r\n            <IonButton\r\n              hidden={actionType.home}\r\n              fill=\"clear\"\r\n              onClick={(e) => homeButtonClicked()}\r\n            >\r\n              <Icon iconProps={homeIconProps} />\r\n            </IonButton>\r\n            <IonButton\r\n              hidden={actionType.close}\r\n              fill=\"clear\"\r\n              onClick={(e) => {\r\n                back(e);\r\n              }}\r\n            >\r\n              <IonIcon slot=\"icon-only\" icon={closeSharp} />\r\n            </IonButton>\r\n            <IonButton hidden={HeaderParam.action !== \"\"} fill=\"clear\">\r\n              <IonIcon />\r\n            </IonButton>\r\n          </div>\r\n        </div>\r\n        {userDetails.agents && HeaderParam.agentHeader && (\r\n          <IonToolbar className=\"agent-code-header\">\r\n            <IonSelect\r\n              value={userDetails.selectedAgent}\r\n              interface=\"popover\"\r\n              onIonChange={(e) => selectUserType(e)}\r\n              disabled={\r\n                !HeaderParam.showAgent || userDetails.agents.length == 1\r\n              }\r\n              style={\r\n                !HeaderParam.showAgent ? { backgroundColor: \"#DDF1FF\" } : {}\r\n              }\r\n              interfaceOptions={agentCodeoptions}\r\n            >\r\n              {userDetails.agents.map((item, index) => {\r\n                return (\r\n                  <IonSelectOption\r\n                    value={item}\r\n                    key={index}\r\n                    className=\"select-agent-opt\"\r\n                  >\r\n                    {item.agentCode + \"-\" + item.agentName}\r\n                  </IonSelectOption>\r\n                );\r\n              })}\r\n            </IonSelect>\r\n            <IonIcon\r\n              src=\"assets/icon/arrow-down.svg\"\r\n              className=\"arrow-down-icon\"\r\n              hidden={!HeaderParam.showAgent || userDetails.agents.length == 1}\r\n            />\r\n          </IonToolbar>\r\n        )}\r\n        {/* </IonImg> */}\r\n      </IonToolbar>\r\n    </IonHeader>\r\n  );\r\n};\r\nexport default Header;\r\n","import Store from \"../redux/Store\";\nimport * as LoginUserTypes from \"../redux/actionTypes/AllActionTypes\";\n\nexport default function ClearReduxStore() {\n  Store.dispatch({ type: LoginUserTypes.BOOK_TRUCK_CLEAR });\n  Store.dispatch({ type: LoginUserTypes.REMOVE_ALL_CONTAINERS });\n  Store.dispatch({ type: LoginUserTypes.REMOVE_ALL_TRUCK });\n}\n","import { IonModal } from \"@ionic/react\";\r\nimport React from \"react\";\r\nimport \"./SearchBoeByDate.scss\";\r\n\r\ninterface slideUpModalProps {\r\n  showModal;\r\n  openOrCloseModal?: (modalState) => void;\r\n  content?;\r\n  leftHeaderIcon?: any;\r\n}\r\nconst SlideUpModal: React.FC<slideUpModalProps> = ({\r\n  showModal,\r\n  openOrCloseModal,\r\n  content,\r\n}) => {\r\n  return (\r\n    <IonModal\r\n      isOpen={showModal}\r\n      cssClass=\"popup-container\"\r\n      onDidDismiss={() => openOrCloseModal(false)}\r\n    >\r\n      {content}\r\n    </IonModal>\r\n  );\r\n};\r\nexport default SlideUpModal;\r\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}","import React from \"react\";\r\nimport \"./Avatar.scss\";\r\ninterface avatarParam {\r\n  color: string;\r\n  name?: string;\r\n  bookingCard?: boolean;\r\n}\r\n\r\nconst RoundedAvatar: React.FC<avatarParam> = (avatarParam) => {\r\n  console.log(avatarParam.color);\r\n  return (\r\n    <div className={avatarParam.bookingCard? \"booking-avatar\" :\"avatar\"} style={{ backgroundColor: `${avatarParam.color}`}}>\r\n      {avatarParam.name}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoundedAvatar;\r\n","import { IonAlert, IonInput, IonIcon } from \"@ionic/react\";\r\nimport React, { useState } from \"react\";\r\nimport InappBrowser from \"../../components/InappBrowser\";\r\nimport \"./Alert.scss\";\r\n\r\nexport default function Alert(props: any) {\r\n  const [error, setError] = useState<boolean>(false);\r\n\r\n  function alertAction(item, actionType) {\r\n    props.alertProps.alertAction(item, actionType);\r\n  }\r\n  return (\r\n    <IonAlert\r\n      id=\"alert\"\r\n      isOpen={props.alertProps.isShow}\r\n      // onDidDismiss={() => !props.alertProps.isShow}\r\n      header={props.alertProps.header}\r\n      message={\r\n        \"<div class='text-style'> \" + props.alertProps.icon + \"<br/> Are you sure to  \" +\r\n        props.alertProps.content +\r\n        \"<div class='redColor'> \" +\r\n        props.alertProps.message +\r\n        \"</div>\" +\r\n        \"<div class='row message2-text'>\"+props.alertProps.itemName+\"</div>\"\r\n        + \"</div>\"\r\n      }\r\n      inputs={props.alertProps.inputs}\r\n      buttons={\r\n        [\r\n          {\r\n            text: \"Continue\",\r\n            role: \"confirm\",\r\n            handler: (e) => {\r\n              console.log(\"data\",e)\r\n              alertAction(e, true);\r\n            },\r\n          },\r\n          {\r\n            text: \"Cancel\",\r\n            role: \"cancel\",\r\n            handler: () => {\r\n              alertAction(\"\",false);\r\n            },\r\n          },\r\n        ]}\r\n    />\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  IonButton,\r\n  IonCard,\r\n  IonCardContent,\r\n  IonRow,\r\n  IonCol,\r\n  IonIcon,\r\n  IonGrid,\r\n  IonLabel, IonTabs, IonTabBar, IonTabButton, IonRouterOutlet} from \"@ionic/react\";\r\nimport \"../containerCard/ContainerCard.scss\";\r\nimport { closeOutline } from \"ionicons/icons\";\r\nimport RoundedAvatar from \"../../../../components/Avatar/RoundedAvatar\";\r\nimport SlideUpModal from \"../../../../components/PopUp/SlideUpModal\";\r\n\r\ninterface BookingContainerParam {\r\n  container_number?: string;\r\n  consigneeName?: string;\r\n  pickUpLocation?: string;\r\n  dropLocation?: string;\r\n  bookingStatus?: string;\r\n  trackClick?(e: any): void;\r\n  closeClick?(e: any): void;\r\n  viewClick?(e: any): void;\r\n  noEvent?(e: any): void;\r\n  userType?: string;\r\n  bookingNumber?: string;\r\n  dropZone?: string;\r\n  dropTime?: string;\r\n  boeNumber?: string;\r\n  containerWeight?: string;\r\n  isoCode?: string;\r\n  storageValidity?: string;\r\n  holdAuthority?: string;\r\n  initials?: string;\r\n  cancelRemarks?: string;\r\n  containerStatus?: string;\r\n  containerType?: string;\r\n}\r\n\r\nconst ContainerCard: React.FC<BookingContainerParam> = (\r\n  BookingContainerParam\r\n) => {\r\n  const [showModal, setShowModal] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    console.log(\"BookingContainerParam\", BookingContainerParam)\r\n  }, []);\r\n\r\n  function ContainerDetails() {\r\n    return (\r\n      <div id=\"slide-up-details\">\r\n        <IonGrid>\r\n          <IonRow>\r\n            <IonCol size=\"1\">\r\n              <RoundedAvatar color={\"#1DB3FE\"} name={BookingContainerParam?.initials} />\r\n            </IonCol>\r\n            <IonCol size=\"10\">\r\n              <span className=\"label-text\">{BookingContainerParam?.container_number}</span>\r\n              <hr className=\"header-text\" />\r\n            </IonCol>\r\n            <IonCol size=\"1\">\r\n              <IonIcon icon={closeOutline} className=\"close-icon\" onClick={() => setShowModal(false)} />\r\n            </IonCol>\r\n          </IonRow>\r\n          <IonRow className=\"row-text\">\r\n            <IonCol className=\"column-space\" size=\"5\">\r\n              <IonLabel>\r\n                Declaration Number\r\n              </IonLabel>\r\n            </IonCol>\r\n            <IonCol className=\"column-space\" size=\"4\">\r\n              <IonLabel>\r\n                Container Wt\r\n              </IonLabel>\r\n            </IonCol>\r\n            <IonCol className=\"column-space\">\r\n              <IonLabel>\r\n                ISO Code\r\n              </IonLabel>\r\n            </IonCol>\r\n          </IonRow>\r\n          <IonRow className=\"data-text\">\r\n            <IonCol className=\"column-space\" size=\"5\">\r\n              <IonLabel>\r\n                {BookingContainerParam?.boeNumber}\r\n              </IonLabel>\r\n            </IonCol>\r\n            <IonCol className=\"column-space\" size=\"4\">\r\n              <IonLabel>\r\n                {BookingContainerParam?.containerWeight}\r\n              </IonLabel>\r\n            </IonCol>\r\n            <IonCol className=\"column-space\" >\r\n              <IonLabel>\r\n                {BookingContainerParam?.isoCode}\r\n              </IonLabel>\r\n            </IonCol>\r\n          </IonRow>\r\n          <IonRow className=\"row-text\">\r\n            <IonCol className=\"column-space\" size=\"5\">\r\n              <IonLabel>\r\n                Storage Validity\r\n              </IonLabel>\r\n            </IonCol>\r\n            <IonCol className=\"column-space\" size=\"4\">\r\n              <IonLabel>\r\n                Hold Authority\r\n              </IonLabel>\r\n            </IonCol>\r\n            <IonCol className=\"column-space\">\r\n              <IonLabel>\r\n                Pickup\r\n              </IonLabel>\r\n            </IonCol>\r\n          </IonRow>\r\n          <IonRow className=\"data-text\">\r\n            <IonCol className=\"column-space\" size=\"5\">\r\n              <IonLabel>\r\n                {BookingContainerParam?.storageValidity}\r\n              </IonLabel>\r\n            </IonCol>\r\n            <IonCol className=\"column-space\" size=\"4\">\r\n              <IonLabel>\r\n                {BookingContainerParam?.holdAuthority}\r\n              </IonLabel>\r\n            </IonCol>\r\n            <IonCol className=\"column-space\">\r\n              <IonLabel>\r\n                {BookingContainerParam?.pickUpLocation}\r\n              </IonLabel>\r\n            </IonCol>\r\n          </IonRow>\r\n          <IonRow className=\"row-text\">\r\n            <IonCol className=\"column-space\">\r\n              <IonLabel>\r\n                Drop Location\r\n              </IonLabel>\r\n            </IonCol>\r\n          </IonRow>\r\n          <IonRow className=\"data-text\">\r\n            <IonCol className=\"column-space\">\r\n              <IonLabel>\r\n                {BookingContainerParam?.dropLocation}\r\n              </IonLabel>\r\n            </IonCol>\r\n          </IonRow>\r\n          {BookingContainerParam?.containerStatus == \"CNCL\" &&\r\n            <>\r\n              <IonRow className=\"row-text\">\r\n                <IonCol className=\"column-space\" size=\"5\">\r\n                  <IonLabel>\r\n                    Cancelled on\r\n                  </IonLabel>\r\n                </IonCol>\r\n                <IonCol className=\"column-space\">\r\n                  <IonLabel>\r\n                    Reason for cancellation\r\n                  </IonLabel>\r\n                </IonCol>\r\n              </IonRow>\r\n              <IonRow className=\"data-text\">\r\n                <IonCol className=\"column-space\" size=\"5\">\r\n                  <IonLabel>\r\n                    {BookingContainerParam?.storageValidity}\r\n                  </IonLabel>\r\n                </IonCol>\r\n                <IonCol className=\"column-space\">\r\n                  <IonLabel>\r\n                    {BookingContainerParam?.cancelRemarks}\r\n                  </IonLabel>\r\n                </IonCol>\r\n              </IonRow>\r\n            </>}\r\n            {(BookingContainerParam.bookingStatus == \"SUCC\" && BookingContainerParam?.containerStatus !== \"CNCL\") && <IonRow>\r\n              <IonButton\r\n                className=\"link-text\"\r\n                fill=\"clear\"\r\n                onClick={BookingContainerParam.closeClick}\r\n              >\r\n                Delete Container\r\n              </IonButton>\r\n            </IonRow>}\r\n        </IonGrid>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div id=\"container-card\">\r\n      <SlideUpModal\r\n        showModal={showModal}\r\n        openOrCloseModal={(status) => setShowModal(status)}\r\n        content={<ContainerDetails />}\r\n      />\r\n      <IonCard className=\"lightShadow\"\r\n        style={BookingContainerParam?.containerStatus == \"CNCL\" ? { border: \"1px solid #707070\" } : {}}>\r\n        <IonCardContent style={{ padding: 0 }} onClick={() => setShowModal(true)}>\r\n          <IonRow className=\"bottomDivider-truck\" >\r\n            <IonCol className=\"marginLeftTop-truck\">\r\n              <div className=\"ion-float-left\">\r\n                <sub className=\"data-font\">Container No</sub>\r\n                <div className=\"data-font\">\r\n                  {BookingContainerParam.container_number}\r\n                </div>\r\n              </div>\r\n            </IonCol>\r\n            <IonCol className=\"marginLeftTop-truck\">\r\n              <div>\r\n                <sub className=\"regular-font\">Container Type</sub>\r\n                <div className=\"data-font\">\r\n                  {BookingContainerParam.containerType}\r\n                </div>\r\n              </div>\r\n            </IonCol>\r\n            <IonCol className=\"marginLeftTop-truck\">\r\n              {BookingContainerParam.userType !== \"CLEARING_AGENT\" &&\r\n                <div>\r\n                  <sub className=\"regular-font\">Consignee Details</sub>\r\n                  <div className=\"data-font\" style={{ maxWidth: \"100px\" }}>\r\n                    {BookingContainerParam.consigneeName}\r\n                  </div>\r\n                </div>}\r\n            </IonCol>\r\n          </IonRow>\r\n          <IonRow className=\"bottomDivider-truck\">\r\n            <IonCol className=\"margin-2nd-row\">\r\n              <div className=\"ion-float-left\">\r\n                <sub className=\"regular-font\">Pickup</sub>\r\n                <div className=\"data-font\">\r\n                  {BookingContainerParam.pickUpLocation}\r\n                </div>\r\n              </div>\r\n            </IonCol>\r\n            <IonCol className=\"margin-2nd-row\">\r\n              <div className=\"ion-float-right\">\r\n                <sub className=\"regular-font\">Drop Details</sub>\r\n                <div className=\"data-font\">\r\n                  {BookingContainerParam.dropZone}\r\n                </div>\r\n              </div>\r\n            </IonCol>\r\n            <IonCol className=\"margin-2nd-row\">\r\n              <div className=\"ion-float-right\">\r\n                <IonRow className=\"data-font\" style={{ whiteSpace: \"pre-wrap\" }}>\r\n                  <IonCol size=\"2\" style={{ paddingRight: \"20px\" }}>\r\n                    <IonIcon src=\"/assets/icon/calendar.svg\" style={BookingContainerParam.containerStatus == \"CNCL\" ? { stroke: \"#5B5B5B\" } : {}} />\r\n                  </IonCol>\r\n                  <IonCol>{BookingContainerParam.dropTime}</IonCol>\r\n                </IonRow>\r\n              </div>\r\n            </IonCol>\r\n          </IonRow>\r\n        </IonCardContent>\r\n        <IonCardContent style={{ padding: 0 }}>\r\n          <IonRow className=\"booking-row\">\r\n            <IonCol className=\"right-divider\">\r\n              <IonIcon src={BookingContainerParam.containerStatus == \"CNCL\" ? \"assets/icon/track-truck-grey.svg\" : \"assets/icon/track-truck.svg\"}\r\n                className=\"right-divide-button\"\r\n                onClick={BookingContainerParam.containerStatus == \"CNCL\" ? BookingContainerParam.noEvent : BookingContainerParam.trackClick} />\r\n            </IonCol>\r\n            <IonCol className=\"right-divider\"\r\n              style={BookingContainerParam.bookingStatus !== \"SUCC\" ? { border: \"none\" } : {}}>\r\n              <IonIcon\r\n                src={BookingContainerParam.containerStatus == \"CNCL\" ? \"assets/icon/edit-contact-grey.svg\" : \"assets/icon/edit-contact.svg\"}\r\n                className=\"right-divide-button\"\r\n                onClick={BookingContainerParam.containerStatus == \"CNCL\" ? BookingContainerParam.noEvent : BookingContainerParam.viewClick} />\r\n            </IonCol>\r\n            {BookingContainerParam.bookingStatus == \"SUCC\" && <IonCol\r\n              className=\"right-divider\"\r\n              style={{ border: \"none\" }}\r\n            >\r\n              <IonIcon src=\"assets/icon/delete.svg\" className=\"delete-button\" onClick={BookingContainerParam.closeClick} />\r\n            </IonCol>}\r\n            {BookingContainerParam.containerStatus == \"CNCL\" && <IonCol\r\n              className=\"right-divider\"\r\n              style={{ border: \"none\", color: \"#FF3E3E\" }}\r\n            >\r\n              <div className=\"data-font\" style={{ maxWidth: \"100px\" }}>\r\n                Cancelled\r\n              </div>\r\n            </IonCol>}\r\n          </IonRow>\r\n        </IonCardContent>\r\n      </IonCard>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(ContainerCard);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { IonGrid, IonCol, IonContent, IonIcon, IonLabel, IonPage, IonRow, IonText, IonToolbar, IonButton, IonCard, IonCardContent } from \"@ionic/react\";\r\nimport ContainerCard from \"../containerDetails/containerCard/ContainerCard\";\r\nimport Header from \"../../../components/Header\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { httpPostCallWithoutHeaderAndWithBody, httpGetCallWithoutHeader, httpPostCallWithoutHeaderAndBody } from \"../../../services/EndPointApi\";\r\nimport * as EndPointURL from \"../../../util/EndPointURL\";\r\nimport \"./ContainerDetails.scss\";\r\nimport Alert from \"../../../components/alert/Alert\";\r\nimport SlideUpModal from \"../../../components/PopUp/SlideUpModal\";\r\nimport { closeOutline } from \"ionicons/icons\";\r\nimport RoundedAvatar from \"../../../components/Avatar/RoundedAvatar\";\r\nimport { InAppBrowser } from \"@ionic-native/in-app-browser\";\r\n\r\nexport default function ContainerDetails(value) {\r\n  const [data, setData] = useState<any>({});\r\n  const [groupedData, setGroupedData] = useState<any>({});\r\n  const [] = useState(false);\r\n  const [alertPopup, setAlertPopup] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [deleteContainer, setDeleteContainer] = useState<any>({});\r\n  const [showModal, setShowModal] = useState<boolean>(false);\r\n  const [showPaymentModal, setShowPaymentModal] = useState<boolean>(false);\r\n  const [containerDetails, setContainerDetails] = useState<any>();\r\n  const [isInProgress, setIsInProgress] = useState<boolean>(false);\r\n  const [isDelivered, setIsDelivered] = useState<boolean>(false);\r\n  const [isCompleted, setIsCompleted] = useState<boolean>(false);\r\n  const [paymentPage, setPaymentPage] = useState(\"\");\r\n  let history = useHistory();\r\n  var ref;\r\n  var txnIds;\r\n  var options = \"zoom=no,footer=no,location=no\";\r\n\r\n  useEffect(() => {\r\n    fetchData(value?.history?.location?.state?.bookingNumber);\r\n    console.log(\"booking\", data?.bookingDetails);\r\n    console.log(\"containerDetails\", containerDetails);\r\n  }, []);\r\n\r\n  const fetchData = async (referenceNumber) => {\r\n    let appUrl = EndPointURL.containerDetails + \"refNo=\" + referenceNumber;\r\n    var response = await httpGetCallWithoutHeader(appUrl);\r\n    if (await response.success) {\r\n      console.log(\"response\", response);\r\n      setData({\r\n        ...data,\r\n        bookingDetails: value?.history?.location?.state\r\n      });\r\n      let bookingStatus = value?.history?.location?.state?.bookingStatus;\r\n      setContainerDetails(response?.data);\r\n      if (bookingStatus == \"TRANSCONF\") {\r\n        OnInProgress(\"inProgress\", response?.data)\r\n      } else {\r\n        var conts = response?.data.containerList;\r\n        var list = groupingByDeclaration(conts)\r\n        console.log('list', list);\r\n        setGroupedData(list);\r\n      }\r\n    }\r\n  }\r\n\r\n  const OnInProgress = (status, ...cont) => {\r\n    console.log(\"cont\", cont);\r\n    let conts;\r\n    if (status == \"inProgress\") {\r\n      setIsCompleted(false);\r\n      setIsDelivered(false);\r\n      setIsInProgress(true);\r\n      let inProgressStatus = [\"PEND\", \"PENTRUCK\"];\r\n      conts = containerDetails == undefined\r\n        ? cont[0].containerList.filter(cL => inProgressStatus.includes(cL.refStatus?.code))\r\n        : containerDetails.containerList.filter(cL => inProgressStatus.includes(cL.refStatus?.code));\r\n    } else if (status == \"delivered\") {\r\n      setIsInProgress(false);\r\n      setIsCompleted(false);\r\n      setIsDelivered(true);\r\n      let deliveredStatus = [\"FCL_DEL\", \"PMTTOK\", \"MTTOKASGN\"];\r\n      conts = containerDetails.containerList.filter(cL => deliveredStatus.includes(cL.refStatus?.code));\r\n    } else {\r\n      setIsInProgress(false);\r\n      setIsDelivered(false);\r\n      setIsCompleted(true);\r\n      let completedStatus = [\"MT_DEL\", \"COMPL\"];\r\n      conts = containerDetails.containerList.filter(cL => completedStatus.includes(cL.refStatus?.code));\r\n    }\r\n    console.log(\"d\", conts)\r\n    var list = groupingByDeclaration(conts)\r\n    console.log('list', list);\r\n    setGroupedData(list);\r\n  }\r\n\r\n  const groupingByDeclaration = (containers: any) => {\r\n    return containers.reduce(function (acc, { ...item }) {\r\n      const key = `${item.boeNumber},${item.orderValidity}`;\r\n      (acc[key] = acc[key] || []).push(item);\r\n      return acc;\r\n    }, {});\r\n  }\r\n\r\n  const canCellationRequest = async (ctn) => {\r\n\r\n    try {\r\n      await console.info(\"BEFORE DELETE \", JSON.stringify(data.containers));\r\n      let response = await httpPostCallWithoutHeaderAndWithBody(EndPointURL.cancelRequestContainerUrl, ctn);\r\n      await console.info(\"DELETE \", JSON.stringify(ctn.key));\r\n      if (response?.success) {\r\n        await delete data.containers[ctn.key];\r\n        let r = await { booking: data.booking, containers: data.containers };\r\n        console.info(\"AFTER DELETED  \", r);\r\n        await setData(r);\r\n        history.push(\"/bookingDetails/\" + data?.bookingDetails?.cardStatus);\r\n      }\r\n    } catch (error) {\r\n      await console.log(\"ERROR +++ {} \", error);\r\n    }\r\n  };\r\n\r\n  const handleDelete = (item, actionType) => {\r\n    console.log(\"delete\", actionType)\r\n    if (actionType) {\r\n      setAlertPopup(false);\r\n      deleteContainer.cancelRemarks = item.cancellationReason;\r\n      console.log(deleteContainer);\r\n      canCellationRequest(deleteContainer);\r\n      console.log(\"status\", data?.bookingDetails?.cardStatus);\r\n    } else {\r\n\r\n    }\r\n  };\r\n\r\n  const alertProps = {\r\n    isShow: alertPopup,\r\n    message: message,\r\n    content: \"cancel the container?\",\r\n    icon: \"<img src='/assets/icon/are-you-sure.svg'/>\",\r\n    alertAction: handleDelete,\r\n    inputs: [\r\n      {\r\n        name: \"cancellationReason\",\r\n        type: 'textarea',\r\n        placeholder: 'Reason for cancellaltion',\r\n        cssClass: 'input-class',\r\n      }\r\n    ],\r\n    itemName: \"Kindly check our <a href=`https://www.google.com/`> className='link-text'>cancellation policy</a> <br/>before proceeding.\",\r\n    // cancelPolicy: true  \r\n  };\r\n\r\n  const viewContactDetails = (ctn) => {\r\n    console.log(\"   -----    \", ctn);\r\n    let value = {\r\n      contact: {\r\n        consigneeContactNumber: ctn.consigneeContactNumber,\r\n        consigneeContactName: ctn?.consigneeContactName,\r\n        phoneNumber: ctn?.phoneNumber,\r\n        dropAddress: ctn?.dropAddress,\r\n        addressLine1: ctn?.addressLine1,\r\n        dropZone: ctn?.dropZoneCode,\r\n        selectedDropZoneLabel: ctn?.dropZoneLabel,\r\n        ctnNumber: ctn?.container_number,\r\n        dpwTransactionId: ctn?.dpwTransactionId,\r\n        requestDetailsNumber: ctn?.requestDetailsNumber,\r\n        latLng: ctn?.latLng,\r\n      },\r\n      booking: data.details,\r\n      isContainerEdit: true\r\n    };\r\n    history.push(\"/addAddress\", value);\r\n  };\r\n\r\n  const viewTrack = (item) => {\r\n    history.push(\"/track\", item);\r\n  };\r\n\r\n  const closeContainer = (ctn, id) => {\r\n    console.info(\"data \", JSON.stringify(data.booking));\r\n    console.info(\"ctn \", JSON.stringify(ctn));\r\n    let deleteData = {\r\n      dpwTransactionId: ctn.dpwTransactionId,\r\n      requestDetailsNumber: ctn.requestDetailsNumber,\r\n      container_number: ctn.container_number,\r\n      refStatus: { code: \"CNCL\" },\r\n      key: id,\r\n    };\r\n    setAlertPopup(true);\r\n    setMessage(ctn.container_number);\r\n    setDeleteContainer(deleteData);\r\n  };\r\n\r\n  const goBack = () => {\r\n    history.push(\"/bookingDetails/\" + data?.bookingDetails?.cardStatus);\r\n  }\r\n\r\n  const onInfoClick = () => {\r\n    console.log(\"info\");\r\n    setShowModal(true);\r\n  }\r\n\r\n  function PaymentDetails() {\r\n    return (\r\n      <div id=\"slide-up-details\">\r\n        <IonGrid>\r\n          <IonRow>\r\n            <IonCol size=\"8\">\r\n              <span className=\"label-text\" style={{ margin: 0, fontSize: \"1.1rem\" }}>Payment Breakups</span>\r\n              <hr className=\"header-text\" style={{ margin: 0 }} />\r\n            </IonCol>\r\n            <IonCol size=\"3\" style={{ color: \"#0568AE\" }}>\r\n              {containerDetails.grossAmount} AED\r\n            </IonCol>\r\n            <IonCol size=\"1\">\r\n              <IonIcon icon={closeOutline} className=\"close-icon\" onClick={() => setShowPaymentModal(false)} />\r\n            </IonCol>\r\n          </IonRow>\r\n          {containerDetails.paymentDetails.filter(pd => pd.paymentType === \"transportation\").map((item, index) => (\r\n            <div className=\"data-text\" key={index}\r\n              style={\r\n                containerDetails.paymentDetails.filter(pd => {\r\n                  return (pd.paymentType === \"transportation\")\r\n                }).length == index + 1 ? { padding: \"10px\" } : { borderBottom: \"1px solid #D7D7D7\", padding: \"10px\" }}>\r\n              <IonRow>\r\n                <IonCol className=\"column-space\">\r\n                  Containers\r\n                </IonCol>\r\n                <IonCol className=\"column-space\">\r\n                  {item.chargeDescription}\r\n                </IonCol>\r\n                <IonCol className=\"column-space\">\r\n                  {item.subTotalAmount} AED\r\n                </IonCol>\r\n              </IonRow>\r\n              <IonRow>\r\n                <IonCol className=\"column-space\">\r\n                  Vat %\r\n                </IonCol>\r\n                <IonCol className=\"column-space\">\r\n                  5%\r\n                </IonCol>\r\n                <IonCol className=\"column-space\">\r\n                  {item.totalVat} AED\r\n                </IonCol>\r\n              </IonRow>\r\n              <IonRow>\r\n                <IonCol className=\"column-space\" size=\"8\">\r\n                  Total\r\n                </IonCol>\r\n                <IonCol className=\"column-space\">\r\n                  {item.totalAmount} AED\r\n                </IonCol>\r\n              </IonRow>\r\n            </div>))}\r\n          <IonRow className=\"data-text\" style={{ borderBottom: \"1px solid #D7D7D7\" }}>\r\n            <IonCol className=\"column-space\" size=\"8\">\r\n              Net Amount\r\n            </IonCol>\r\n            <IonCol className=\"column-space\">\r\n              {containerDetails.totalContainerTariff} AED\r\n            </IonCol>\r\n          </IonRow>\r\n          {containerDetails.paymentDetails.filter(pd => pd.paymentType !== \"transportation\").map((item, index) => (\r\n            <div className=\"data-text\" key={index}\r\n              style={\r\n                containerDetails.paymentDetails.filter(pd => { return (pd.paymentType !== \"transportation\") }).length == index + 1 ? {} : { borderBottom: \"1px solid #D7D7D7\" }}>\r\n              <IonRow>\r\n                <IonCol className=\"column-space\">\r\n                  Token Charges\r\n                </IonCol>\r\n                <IonCol className=\"column-space\">\r\n                  {item.chargeDescription}\r\n                </IonCol>\r\n                <IonCol className=\"column-space\">\r\n                  {item.subTotalAmount} AED\r\n                </IonCol>\r\n              </IonRow>\r\n              <IonRow>\r\n                <IonCol className=\"column-space\">\r\n                  Vat %\r\n                </IonCol>\r\n                <IonCol className=\"column-space\">\r\n                  5%\r\n                </IonCol>\r\n                <IonCol className=\"column-space\">\r\n                  {item.totalVat} AED\r\n                </IonCol>\r\n              </IonRow>\r\n              <IonRow>\r\n                <IonCol className=\"column-space\" size=\"8\">\r\n                  Total\r\n                </IonCol>\r\n                <IonCol className=\"column-space\">\r\n                  {item.totalAmount} AED\r\n                </IonCol>\r\n              </IonRow>\r\n            </div>))}\r\n          <IonRow className=\"data-text\" style={{ borderBottom: \"1px solid #D7D7D7\", paddingBottom: \"10px\", paddingTop: \"10px\" }}>\r\n            <IonCol className=\"column-space\" size=\"8\" >\r\n              Net Amount\r\n            </IonCol>\r\n            <IonCol className=\"column-space\">\r\n              {containerDetails.totalTokenTariff} AED\r\n            </IonCol>\r\n          </IonRow>\r\n          <IonRow className=\"data-text\">\r\n            <IonCol className=\"column-space\" size=\"8\" style={{ fontSize: \"1.1rem\" }}>\r\n              Gross Amount\r\n            </IonCol>\r\n            <IonCol className=\"column-space\" style={{ color: \"#0568AE\", fontSize: \"1.1rem\" }}>\r\n              {containerDetails.grossAmount} AED\r\n            </IonCol>\r\n          </IonRow>\r\n        </IonGrid>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  function BookingDetails() {\r\n    return (\r\n      <div id=\"slide-up-details\" style={{ paddingLeft: \"15px\" }}>\r\n        <IonGrid>\r\n          <IonRow>\r\n            <IonCol size=\"1\">\r\n              <RoundedAvatar color={\"#1DB3FE\"} name={\"IA\"} />\r\n            </IonCol>\r\n            <IonCol size=\"10\">\r\n              <span className=\"label-text\">{data?.bookingDetails?.bookingNumber}</span>\r\n              <hr className=\"header-text\" />\r\n            </IonCol>\r\n            <IonCol size=\"1\">\r\n              <IonIcon icon={closeOutline} className=\"close-icon\" onClick={() => setShowModal(false)} />\r\n            </IonCol>\r\n          </IonRow>\r\n          <IonRow className=\"row-text\">\r\n            <IonCol className=\"column-space\" size=\"7\">\r\n              Requestor Name\r\n            </IonCol>\r\n            <IonCol className=\"column-space\">\r\n              Requestor Contact\r\n            </IonCol>\r\n          </IonRow>\r\n          <IonRow className=\"data-text\">\r\n            <IonCol className=\"column-space\" size=\"7\">\r\n              {data?.bookingDetails?.requesterName}\r\n            </IonCol>\r\n            <IonCol className=\"column-space\">\r\n              {data?.bookingDetails?.requesterContact}\r\n            </IonCol>\r\n          </IonRow>\r\n          {data?.bookingDetails?.importerComments !== null && <>\r\n            <IonRow className=\"row-text\">\r\n              <IonCol className=\"column-space\">\r\n                Importer Comments\r\n              </IonCol>\r\n            </IonRow>\r\n            <IonRow className=\"data-text\">\r\n              <IonCol className=\"column-space\">\r\n                {data?.bookingDetails?.importerComments}\r\n              </IonCol>\r\n            </IonRow>\r\n          </>}\r\n          <div style={{ paddingTop: \"15px\", paddingBottom: \"15px\" }}>\r\n            <IonRow className=\"data-text\" style={{ paddingBottom: \"10px\", fontSize: \"1.1rem\" }}>\r\n              <IonCol className=\"column-space\">\r\n                Payment Details\r\n              </IonCol>\r\n            </IonRow>\r\n            {containerDetails.paymentDetails.filter(pd => pd.paymentType === \"transportation\").map((item, index) => (\r\n              <IonRow className=\"data-text\" key={index}>\r\n                <IonCol className=\"column-space\" size=\"7\">\r\n                  {item.chargeDescription}\r\n                </IonCol>\r\n                <IonCol className=\"column-space\" >\r\n                  {item.totalAmount} AED\r\n                </IonCol>\r\n              </IonRow>\r\n            ))}\r\n            {containerDetails.paymentDetails.filter(pd => pd.paymentType === \"tokenIn\" || pd.paymentType === \"tokenOut\").map((item, index) => (\r\n              <IonRow className=\"data-text\" key={index}>\r\n                <IonCol className=\"column-space\" size=\"7\">\r\n                  {item.chargeDescription}\r\n                </IonCol>\r\n                <IonCol className=\"column-space\" >\r\n                  {item.totalAmount} AED\r\n                </IonCol>\r\n              </IonRow>\r\n            ))}\r\n            <IonRow className=\"data-text\">\r\n              <IonCol className=\"column-space\" size=\"7\">\r\n                Gross Amount\r\n              </IonCol>\r\n              <IonCol className=\"column-space\" >\r\n                {containerDetails.grossAmount} AED\r\n              </IonCol>\r\n            </IonRow>\r\n          </div>\r\n          <IonRow>\r\n            <IonCol>\r\n            <IonButton\r\n              className=\"blue-link-text\"\r\n              fill=\"clear\"\r\n              onClick={() => {\r\n                setShowModal(false);\r\n                setTimeout(() => {\r\n                  setShowPaymentModal(true)\r\n                }, 2500);\r\n              }}\r\n            >\r\n              View Detailed Breakups\r\n            </IonButton>\r\n            </IonCol>\r\n            {data?.bookingDetails?.bookingStatus == \"FPAY\" && <IonCol>\r\n            <IonButton\r\n              className=\"link-text\"\r\n              fill=\"clear\"\r\n              onClick={() => paymentInfo(data?.bookingDetails?.bookingNumber)}\r\n            >\r\n              Retry payment\r\n            </IonButton>\r\n            </IonCol>}\r\n          </IonRow>\r\n        </IonGrid>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  async function postToExternalSite(url, txnId) {\r\n    txnIds = txnId;\r\n    var paymentCompl;\r\n    ref = InAppBrowser.create(url, \"_blank\", options);\r\n\r\n    var result = ref.on(\"loadstop\").subscribe(async (event) => {\r\n        paymentCompl = await checkPaymentSuccess(event.url, txnId);\r\n        if (paymentCompl) {\r\n            return await paymentCompl;\r\n        } else {\r\n        }\r\n    });\r\n\r\n    ref.on(\"exit\").subscribe(\r\n        async () => {\r\n            console.log(\"exxxxxxiiiitt\");\r\n            checkPaymentStatus(txnId);\r\n        },\r\n        (err) => {\r\n            console.log(err);\r\n        }\r\n    );\r\n    return await result;\r\n}\r\n\r\nasync function checkPaymentSuccess(url, txnId) {\r\n    if (url.includes(\"/mobileResponseFromRosoomPaymentApp\")) {\r\n        ref.close();\r\n        var roStatus = await ref.on(\"exit\").subscribe(\r\n            async () => { },\r\n            (err) => {\r\n                console.log(err);\r\n            }\r\n        );\r\n        var test = await checkPaymentStatus(txnId);\r\n        return await test;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\nasync function checkPaymentStatus(txnId) {\r\n    var appUrl = EndPointURL.rosoomPaymentStatusCheck + txnId;\r\n    var response = await httpGetCallWithoutHeader(appUrl);\r\n    if (await response.success) {\r\n        if (response.data.data.dataItems[0].status == \"SUCC\") {\r\n            await setPaymentPage(\"success\");\r\n        } else if (response.data.data.dataItems[0].status == \"FAIL\") {\r\n            await setPaymentPage(\"fail\");\r\n        } else {\r\n            await setPaymentPage(\"pending\");\r\n        }\r\n        return response;\r\n    }\r\n    return response;\r\n}\r\n\r\nasync function paymentInfo(bookingNumber) {\r\n    var appUrl = EndPointURL.reinitializeUrl + bookingNumber;\r\n    var response = await httpPostCallWithoutHeaderAndBody(appUrl);\r\n    if (await response.success) {\r\n        var url = await response.data.data.dataItems[0].url;\r\n        var txnId = await response.data.data.dataItems[0].transactionId;\r\n        await postToExternalSite(url, txnId);\r\n    }\r\n}\r\n\r\n  function ConfirmScreenTabs() {\r\n    return (\r\n      <IonRow id=\"confirm-screen\">\r\n        <IonCol className={isInProgress ? \"clicked\" : \"not-clicked\"} onClick={() => OnInProgress(\"inProgress\")}>\r\n          IN PROGRESS\r\n        </IonCol>\r\n        <IonCol className={isDelivered ? \"clicked\" : \"not-clicked\"} onClick={() => OnInProgress(\"delivered\")}>\r\n          DELIVERED\r\n        </IonCol>\r\n        <IonCol className={isCompleted ? \"clicked\" : \"not-clicked\"} onClick={() => OnInProgress(\"completed\")}>\r\n          COMPLETED\r\n        </IonCol>\r\n      </IonRow>\r\n    )\r\n  }\r\n\r\n  function BookingNumberTab(props) {\r\n    return (\r\n      <IonRow className=\"booking-number-row\">\r\n        <IonCol size=\"6\" className=\"number\">\r\n          {props.boe?.split(\",\")[0]}\r\n        </IonCol>\r\n        {props.boe?.split(\",\")[1] !== undefined && <IonCol className=\"date\">\r\n          <IonLabel>DO Validity : </IonLabel>\r\n          <IonLabel>{props.boe?.split(\",\")[1]}</IonLabel>\r\n        </IonCol>}\r\n      </IonRow>\r\n    )\r\n  }\r\n\r\n  function ContainerToolbar() {\r\n    return (\r\n      <IonToolbar>\r\n        <IonRow className=\"container-toolbar-row\">\r\n          <IonCol size=\"1\" className=\"container-col\">\r\n            <IonIcon src=\"/assets/icon/container.svg\" />\r\n          </IonCol>\r\n          <IonCol size=\"2.8\" className=\"padding-left\">\r\n            <IonRow>\r\n              <IonText className=\"data-font\">\r\n                {(data?.bookingDetails?.containerCount + \"\").padStart(2, \"0\") ?? 0}\r\n              </IonText>\r\n            </IonRow>\r\n            <IonRow>\r\n              <IonText className=\"title-font\">Containers</IonText>\r\n            </IonRow>\r\n          </IonCol>\r\n          <IonCol size=\"1\" className=\"container-col\">\r\n            <IonIcon src=\"/assets/icon/truck-grey.svg\" />\r\n          </IonCol>\r\n          <IonCol size=\"2.8\" className=\"padding-left\">\r\n            <IonRow>\r\n              <IonText className=\"data-font\">\r\n                {(data?.bookingDetails?.truckCount + \"\").padStart(2, \"0\") ?? 0}\r\n              </IonText>\r\n            </IonRow>\r\n            <IonRow>\r\n              <IonText className=\"title-font\">Trucks</IonText>\r\n            </IonRow>\r\n          </IonCol>\r\n          <IonCol size=\"2\" className=\"container-col background\">\r\n            <IonIcon src=\"/assets/icon/invoices-download.svg\" />\r\n          </IonCol>\r\n          <IonCol size=\"2.4\" className=\"container-col-amnt\">\r\n            <IonText className=\"amnt-text\">{data?.bookingDetails?.totalAmount} AED </IonText>\r\n          </IonCol>\r\n        </IonRow>\r\n      </IonToolbar>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <IonPage id=\"container-details\">\r\n      <Header label={data?.bookingDetails?.bookingNumber} action=\"info\" customBack={true} backClick={() => goBack()} agentHeader={true} infoClick={onInfoClick} />\r\n      {data?.bookingDetails !== undefined && <ContainerToolbar />}\r\n      <IonContent\r\n        fullscreen\r\n        scrollEvents={true}\r\n      >\r\n        <SlideUpModal\r\n          showModal={showModal}\r\n          openOrCloseModal={(status) => setShowModal(status)}\r\n          content={<BookingDetails />}\r\n        />\r\n        <SlideUpModal\r\n          showModal={showPaymentModal}\r\n          openOrCloseModal={(status) => { setShowPaymentModal(status); }}\r\n          content={<PaymentDetails />}\r\n        />\r\n        {data?.bookingDetails?.bookingStatus == \"TRANSCONF\" &&\r\n          <ConfirmScreenTabs />}\r\n        {groupedData !== undefined && Object.keys(groupedData).map((boe, index) => (\r\n          <div key={index}>\r\n            {data?.bookingDetails?.bookingStatus !== \"TRANSCONF\" &&\r\n              <BookingNumberTab boe={boe} />}\r\n            {groupedData[boe].map((item, index) => (\r\n              <ContainerCard\r\n                bookingStatus={data?.bookingDetails?.bookingStatus}\r\n                key={index}\r\n                userType={value?.location?.state?.userType}\r\n                container_number={item?.container_number}\r\n                consigneeName={item?.consigneeDetails}\r\n                pickUpLocation={item?.pickupLocation}\r\n                dropLocation={item?.dropAddress}\r\n                dropZone={item?.dropZoneLabel}\r\n                bookingNumber={data?.bookingDetails?.bookingNumber}\r\n                dropTime={item?.date_time}\r\n                boeNumber={item?.boeNumber}\r\n                containerWeight={item?.containerWeight}\r\n                isoCode={item?.iso_code}\r\n                holdAuthority={item?.holdAuthority}\r\n                storageValidity={item?.storagePaidTill}\r\n                initials={item?.initials}\r\n                cancelRemarks={item?.cancelRemarks}\r\n                containerStatus={item?.refStatus?.code}\r\n                containerType={item?.containerType}\r\n                viewClick={() => {\r\n                  viewContactDetails(item);\r\n                }}\r\n                trackClick={() => viewTrack(item)}\r\n                closeClick={() => {\r\n                  closeContainer(item, index);\r\n                }}\r\n              />\r\n            ))}\r\n          </div>))}\r\n        {Object.keys(groupedData).length === 0 && groupedData.constructor === Object &&\r\n          <IonCard className=\"noData\">\r\n            <IonCardContent>\r\n              <IonLabel>No Data to show</IonLabel>\r\n            </IonCardContent>\r\n          </IonCard>\r\n\r\n        }\r\n        <Alert alertProps={alertProps} />\r\n      </IonContent>\r\n       {/* <IonContent  fullscreen hidden={paymentPage == \"\"}>\r\n          <div hidden={paymentPage !== \"success\"}>\r\n            <PaymentSuccess \r\n            referenceNumber={referenceNumber}\r\n            locationProps={props.history}/>\r\n          </div>\r\n          <div hidden={paymentPage !== \"fail\"}>\r\n            <PaymentFailed \r\n            referenceNumber={referenceNumber}\r\n            locationProps={props.history}/>\r\n          </div>\r\n          <div hidden={paymentPage !== \"pending\"}>\r\n            <PaymentPending\r\n              hidden={true}\r\n              referenceNumber={referenceNumber}\r\n              locationProps={props.history}\r\n            />\r\n          </div>\r\n          </IonContent> */}\r\n    </IonPage>\r\n  );\r\n}\r\n"],"sourceRoot":""}