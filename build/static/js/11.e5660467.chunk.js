(this["webpackJsonpionic-react-conference-app"]=this["webpackJsonpionic-react-conference-app"]||[]).push([[11],{153:function(e,t,a){"use strict";var n=a(4),o=a.n(n),r=a(10),c=a(22),s=a(2),l=a(16),i=a(0),d=a.n(i),u=a(27),m=a(43),p=a(5);a(155);var h=a(150),f=a(152),b=a(156),g=a(151);t.a=function(e){var t=Object(i.useState)({search:!0,check:!0,close:!0,home:!0,info:!1}),a=Object(c.a)(t,2),n=a[0],v=a[1],y=m.a.getState().CheckUserStatus.user,E=Object(i.useState)(!1),N=Object(c.a)(E,2),C=N[0],k=N[1],D=Object(i.useState)("Select All"),T=Object(c.a)(D,2),O=T[0],w=T[1],P={name:"back-arrow",slot:"icon-only",zoom:""};Object(i.useEffect)((function(){x(e.action?e.action:"none")}),[]);var S=Object(u.e)(),L=function(t){e.customBack?e.backClick(t):S.goBack()},x=function(e){e&&("search"===e?v({search:!1,check:!0,close:!0,home:!0,info:!0}):"check"===e?v({search:!0,check:!1,close:!0,home:!0,info:!0}):"close"===e?v({search:!0,check:!0,close:!1,home:!0,info:!0}):"home"===e?v({search:!0,check:!0,close:!0,home:!1,info:!0}):"info"===e&&v({search:!0,check:!0,close:!0,home:!0,info:!1}))};function A(){m.a.dispatch({type:p.m}),m.a.dispatch({type:p.w}),m.a.dispatch({type:p.y}),e.locationProps.history.push("/tabs/landing")}var I=function(){var e=Object(r.a)(o.a.mark((function e(t){var a,n,r,c,s,l,i,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.detail.value,n=f.loginAgent+"?agentCode="+a.agentCode+"&agentType="+a.agentType,r={userName:y.userName,userType:"IMPORTER_APP"},e.next=5,Object(g.n)(n,r);case 5:return c=e.sent,s=c.data.data.dataItems[0],e.next=9,c.success;case 9:if(!e.sent){e.next=23;break}return e.next=12,b.a(s.accessToken);case 12:return(l=e.sent)&&m.a.dispatch(l),e.next=16,b.b(s.user.activeCompanyCode);case 16:return(i=e.sent)&&m.a.dispatch(i),e.next=20,b.c(a);case 20:(d=e.sent)&&m.a.dispatch(d),m.a.getState().CheckUserStatus;case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return d.a.createElement(s.r,{style:e.agentHeader?{height:"102px"}:{height:"10%"}},d.a.createElement(s.S,{className:"header"},d.a.createElement("div",{className:"mainContainer",style:e.agentHeader?{}:{paddingBottom:0}},e.checkedProps?d.a.createElement("div",{className:"selectAllBg",hidden:!e.checkedProps.showChecked},d.a.createElement("div",null,d.a.createElement(s.e,{fill:"clear",onClick:function(e){L(e)}},d.a.createElement(h.a,{iconProps:P}))),d.a.createElement("div",{className:"checkBoxContainer"},d.a.createElement(s.l,{className:"checkBox",checked:C,onIonChange:function(t){return function(t){k(t),t?(w("Unselect All"),e.checkedProps.addContainerToCart("","","checked")):(e.checkedProps.addContainerToCart("","","unchecked"),w("Select All"))}(t.detail.checked)}})),d.a.createElement("div",{className:"checkBoxLabelCol"},d.a.createElement(s.y,{className:"checkBoxLabel"},O)," ")):d.a.createElement(d.a.Fragment,null),d.a.createElement("div",{className:"backArrow"},"Home"!=e.label&&n.close?d.a.createElement(s.e,{fill:"clear",onClick:function(e){L(e)}},d.a.createElement(h.a,{iconProps:P})):d.a.createElement(d.a.Fragment,null)),d.a.createElement("div",{className:"header-label"}," ",d.a.createElement(s.P,null,e.label)),d.a.createElement("div",{className:"header-right"},d.a.createElement(s.e,{hidden:n.search,fill:"clear",onClick:e.searchClick},d.a.createElement(s.s,{slot:"icon-only",icon:l.y,style:{minWidth:"30px"}})),d.a.createElement(s.e,{hidden:n.info,fill:"clear",onClick:e.infoClick},d.a.createElement(s.s,{slot:"icon-only",icon:l.q,style:{minWidth:"30px"}})),d.a.createElement(s.e,{hidden:n.check,fill:"clear",onClick:e.checkClick},d.a.createElement(h.a,{iconProps:{name:"Check",slot:"icon-only",zoom:""}})),d.a.createElement(s.e,{hidden:n.home,fill:"clear",onClick:function(e){return A()}},d.a.createElement(h.a,{iconProps:{name:"home-new",slot:"icon-only",zoom:""}})),d.a.createElement(s.e,{hidden:n.close,fill:"clear",onClick:function(e){L(e)}},d.a.createElement(s.s,{slot:"icon-only",icon:l.o})),d.a.createElement(s.e,{hidden:""!==e.action,fill:"clear"},d.a.createElement(s.s,null)))),y.agents&&e.agentHeader&&d.a.createElement(s.S,{className:"agent-code-header"},d.a.createElement(s.I,{value:y.selectedAgent,interface:"popover",onIonChange:function(e){return I(e)},disabled:!e.showAgent||1==y.agents.length,style:e.showAgent?{}:{backgroundColor:"#DDF1FF"},interfaceOptions:{cssClass:"agent-interface"}},y.agents.map((function(e,t){return d.a.createElement(s.J,{value:e,key:t,className:"select-agent-opt"},e.agentCode+"-"+e.agentName)}))),d.a.createElement(s.s,{src:"assets/icon/arrow-down.svg",className:"arrow-down-icon",hidden:!e.showAgent||1==y.agents.length}))))}},155:function(e,t,a){},160:function(e,t,a){"use strict";var n=a(2),o=a(0),r=a.n(o);a(162);t.a=function(e){var t=e.showModal,a=e.openOrCloseModal,o=e.content;return r.a.createElement(n.A,{isOpen:t,cssClass:"popup-container",onDidDismiss:function(){return a(!1)}},o)}},162:function(e,t,a){},164:function(e,t,a){"use strict";var n=a(2),o=a(0),r=a.n(o),c=a(59),s=a(150);a(167);t.a=function(e){e.label;var t=e.name,a=(e.type,e.value),o=e.onChange,l=(e.required,e.errors),i=(e.pattern,e.description,e.placeholder),d=e.icon,u=e.max,m=e.minDate,p=e.className,h=e.displayFormat,f=e.disabled;return r.a.createElement(r.a.Fragment,null,r.a.createElement(n.o,{className:p,displayFormat:h,value:a,onIonChange:function(e){return o(e,e.detail.value)},placeholder:i,max:u||c.e,min:m||c.f,name:t,disabled:f||!1}),d&&r.a.createElement(s.a,{iconProps:d}),r.a.createElement("div",{className:""},l&&r.a.createElement(n.P,{color:"danger",className:"validation-message"},r.a.createElement(n.y,{className:"ion-padding-start"},l))))}},165:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){"use strict";var n=a(0),o=a.n(n);a(165);t.a=function(e){var t=e.message;return o.a.createElement("div",{className:"container-count"},"Displaying ",t)}},171:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(22),o=a(2),r=a(0),c=a.n(r);a(172);function s(e){var t={cssClass:"agent-interface-class"},a=Object(r.useState)({}),s=Object(n.a)(a,2),l=s[0],i=s[1];return c.a.createElement(o.H,{className:"horizontal-scroll"},c.a.createElement("div",{className:"filter-buttons"},e.topMenuProps.map((function(e,a){return c.a.createElement("div",{key:a},"button"==e.type&&c.a.createElement(o.e,{className:"circ-button",size:"small",onClick:function(){return e.clickedOnTopMenu()}},e.icon&&c.a.createElement(o.s,{icon:e.icon,slot:e.slot}),e.src&&c.a.createElement(o.s,{slot:e.slot,src:"/assets/icon/"+e.src+".svg",style:{fontSize:e.size,paddingLeft:"5px",paddingRight:"5px",transform:e.rotate}}),e.name&&e.name),"dropDown"==e.type&&c.a.createElement("div",{id:"drop-down-css"},c.a.createElement("fieldset",null,c.a.createElement(o.I,{value:l,selectedText:l.label,interface:"popover",onIonChange:function(t){var a=t.detail.value;i(a),console.log(e.selected),e.clickedOnTopMenu(a)},"cancel-text":!0,placeholder:e.name,interfaceOptions:t,className:"circ-button"},e.list.map((function(e,t){return c.a.createElement(o.J,{value:e,key:t,className:"select-opt"},e.label)}))))))}))))}},172:function(e,t,a){},184:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(2),o=a(0),r=a.n(o),c=(a(185),a(27));function s(){Object(c.e)();return r.a.createElement("div",{className:"footer-container"},r.a.createElement(n.N,{className:"footer-button",href:"/tabs/landing"},r.a.createElement(n.s,{src:"assets/icon/home-new.svg",className:"footer-button"}),r.a.createElement(n.y,null,"Home")),r.a.createElement(n.N,{className:"footer-button",href:"/tabs/addresses"},r.a.createElement(n.s,{src:"assets/icon/address.svg",className:"footer-button"}),r.a.createElement(n.y,null,"Addresses")),r.a.createElement(n.N,{className:"footer-button"}),r.a.createElement(n.N,{className:"footer-button",href:"/tabs/status"},r.a.createElement(n.s,{src:"assets/icon/status.svg",className:"footer-button"}),r.a.createElement(n.y,null,"Status"))," ",r.a.createElement(n.N,{className:"footer-button",href:"/tabs/profile"},r.a.createElement(n.s,{src:"assets/icon/profile.svg",className:"footer-button button"}),r.a.createElement(n.y,null,"Profile")))}},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){"use strict";var n=a(19),o=a(9),r=a(22),c=a(2),s=a(33),l=a.n(s),i=a(0),d=a.n(i),u=a(59),m=a(164);t.a=function(e){var t=e.openOrCloseModal,a=e.headerName,s=Object(i.useState)({fromDate:{value:"",minDate:"",maxdate:""},toDate:{value:u.f,minDate:"",maxdate:""}}),p=Object(r.a)(s,2),h=p[0],f=p[1],b=function(e,t){"fromDate"===e.target.name&&f(Object(o.a)(Object(o.a)({},h),{},{toDate:{value:t,minDate:l()(new Date(t)).format("YYYY-MM-DD"),paramDate:l()(new Date(t)).format("DD/MM/yyyy")}})),f((function(a){return Object(o.a)(Object(o.a)({},a),{},Object(n.a)({},e.target.name,Object(o.a)(Object(o.a)({},h[e.target.name]),{},{paramDate:l()(new Date(t)).format("DD/MM/yyyy"),value:t})))}))},g={name:"calendar",slot:"end",class:"calenderMargin"};return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"popup-header"},d.a.createElement("div",{className:"header-title"},d.a.createElement("span",null,a)),d.a.createElement("div",{onClick:function(){return t(!1)}},d.a.createElement(c.s,{class:"blueCloseIc menuClose blueClose",src:"assets/icon/close.svg"}))),d.a.createElement("div",{className:"popup-content"},d.a.createElement("div",{className:" twoItems"},d.a.createElement(m.a,{name:"fromDate",value:h.fromDate.value,label:"Date",type:"text",required:!0,onChange:b,placeholder:"--/--/----",minDate:u.c,icon:g,className:"leftCalendar",displayFormat:"DD/MMM/YYYY",max:u.f}),d.a.createElement(m.a,{name:"toDate",value:h.toDate.value,label:"Date",type:"text",required:!0,onChange:b,placeholder:"--/--/----",minDate:h.toDate.minDate,icon:g,className:"rightCalendar",displayFormat:"DD/MMM/YYYY",max:u.f})),d.a.createElement("div",{className:"twoItems"},d.a.createElement(c.e,{className:"reset",fill:"clear",onClick:function(){f({fromDate:{value:u.f,minDate:"",maxdate:""},toDate:{value:"",minDate:"",maxdate:""}})}},"Reset"),d.a.createElement(c.e,{className:"apply-filter",fill:"clear",onClick:function(){return t(!1,h.fromDate.paramDate,h.toDate.paramDate)}},"Apply Filter"))))}},198:function(e,t,a){"use strict";var n=a(2),o=a(0),r=a.n(o),c=a(166),s=a(22),l=a(43),i=(a(186),a(5)),d=Object(c.a)((function(e){return{numberOfContainers:e.Cart}}),(function(){return{updateCartNumber:function(e){l.a.dispatch({type:i.L,payLoad:e})}}}))((function(e){var t=e.numberOfContainers,a=e.updateCartNumber,c=Object(o.useState)(0),l=Object(s.a)(c,2),i=l[0],d=l[1],u=Object(o.useState)({showPopover:!1,event:void 0}),m=Object(s.a)(u,2),p=m[0],h=m[1];return Object(o.useEffect)((function(){var e;d(e=0),t.map((function(t,n){t.containerList.map((function(t){t.selected?(e++,d(e),a(e)):(d(e),a(e))}))}))}),[t]),r.a.createElement("div",null,r.a.createElement(n.C,{cssClass:"my-custom-class",event:p.event,isOpen:p.showPopover,onDidDismiss:function(){return h({showPopover:!1,event:void 0})}},r.a.createElement("p",null,i," containers added")),r.a.createElement(n.d,{className:"blueBg"}," ",i))}));a(187),t.a=Object(c.a)((function(e){return{numberOfSelectedContainers:e.VariableValues}}))((function(e){var t=e.iconType,a=e.clickEvent,o=e.numberOfSelectedContainers;return r.a.createElement("div",{className:"menu-button-div",onClick:function(){o.cartNumber>0&&a()}},r.a.createElement("div",{className:"menu-button"},"menu"===t?r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("hr",null),r.a.createElement("hr",null)):"cart"===t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(n.s,{src:"assets/icon/container-crane.svg",className:"button"}),r.a.createElement(d,null))))}))},222:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=c(a(0)),r=c(a(24));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e){return{x:e.clientX,y:e.clientY}}var d=function(e){function t(){var e,a,n;s(this,t);for(var o=arguments.length,r=Array(o),c=0;c<o;c++)r[c]=arguments[c];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),n.isLongPressing=!1,n.startingPosition={x:0,y:0},n.clearTimeout=function(){n.timerID&&(clearTimeout(n.timerID),n.timerID=null)},n.onPointerUp=function(e){n.timerID&&n.cancelLongPress();var t=i(e);n.isLongPressing||n.exceedDragThreshold(t)?n.isLongPressing=!1:n.props.onShortPress(e)},n.onPointerDown=function(e){n.props.primaryMouseButtonOnly&&"mouse"===e.pointerType&&0!==e.button||(n.startingPosition=i(e),n.timerID=setTimeout((function(){n.isLongPressing=!0,n.props.onLongPress(e)}),n.props.longPressTime))},n.onPointerMove=function(e){var t=i(e);n.timerID&&n.exceedDragThreshold(t)&&n.cancelLongPress()},n.onPointerLeave=function(){n.timerID&&n.cancelLongPress()},l(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentWillUnmount",value:function(){this.clearTimeout()}},{key:"cancelLongPress",value:function(){this.clearTimeout()}},{key:"exceedDragThreshold",value:function(e){return t=this.startingPosition,a=e,Math.sqrt(Math.pow(a.x-t.x,2)+Math.pow(a.y-t.y,2))>this.props.dragThreshold;var t,a}},{key:"render",value:function(){return o.default.createElement("div",{onPointerUp:this.onPointerUp,onPointerDown:this.onPointerDown,onPointerMove:this.onPointerMove,onPointerLeave:this.onPointerLeave},this.props.children)}}]),t}(o.default.PureComponent);d.propTypes={onLongPress:r.default.func.isRequired,onShortPress:r.default.func,longPressTime:r.default.number,primaryMouseButtonOnly:r.default.bool,dragThreshold:r.default.number,children:r.default.node},d.defaultProps={longPressTime:500,primaryMouseButtonOnly:!0,dragThreshold:100},t.default=d},223:function(e,t,a){},224:function(e,t,a){},259:function(e,t,a){"use strict";a.r(t);var n,o,r=a(4),c=a.n(r),s=a(17),l=a(10),i=a(11),d=a(12),u=a(13),m=a(14),p=a(2),h=a(0),f=a.n(h),b=a(166),g=a(222),v=a.n(g),y=a(150),E=[{declarationNumber:"boe3010",consigneeDetails:"abc company-43",noOfContainers:3,deliveryOrderValidity:"31/10/2020",status:"New",containerList:[{iso_code:"2000",container_number:"c301002",deliveryOrderValidity:"31/10/2020",boeNumber:"boe3010",dpwTransactionId:"T-0000000266",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"43",status:"NEW",creationDate:1603868759390,pickupLocation:"T1",selected:!1},{iso_code:"4000",container_number:"c301003",deliveryOrderValidity:"31/10/2020",boeNumber:"boe3010",dpwTransactionId:"T-0000000266",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"43",status:"NEW",creationDate:1603868759387,pickupLocation:"T1",selected:!1},{iso_code:"2000",container_number:"c301001",deliveryOrderValidity:"31/10/2020",boeNumber:"boe3010",dpwTransactionId:"T-0000000266",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"43",status:"NEW",creationDate:1603868759389,pickupLocation:"T1",selected:!1}],checked:!1,openCollapsePanel:!1,consigneeCode:null,creationDate:1603868759385},{declarationNumber:"boe0111",consigneeDetails:"abc1 company-44",noOfContainers:3,deliveryOrderValidity:"27/11/2020",status:"New",containerList:[{iso_code:"4000",container_number:"c011103",deliveryOrderValidity:"27/11/2020",boeNumber:"boe0111",dpwTransactionId:"T-0000000266",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"44",status:"NEW",creationDate:1603868759378,pickupLocation:"T1",selected:!1},{iso_code:"2000",container_number:"c011101",deliveryOrderValidity:"27/11/2020",boeNumber:"boe0111",dpwTransactionId:"T-0000000266",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"44",status:"NEW",creationDate:1603868759382,pickupLocation:"T1",selected:!1},{iso_code:"2000",container_number:"c011102",deliveryOrderValidity:"27/11/2020",boeNumber:"boe0111",dpwTransactionId:"T-0000000266",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"44",status:"NEW",creationDate:1603868759384,pickupLocation:"T1",selected:!1}],checked:!1,openCollapsePanel:!1,consigneeCode:null,creationDate:1603868759373},{declarationNumber:"boe3110",consigneeDetails:"abc1 company-44",noOfContainers:3,deliveryOrderValidity:"30/10/2020",status:"New",containerList:[{iso_code:"2000",container_number:"c311002",deliveryOrderValidity:"30/10/2020",boeNumber:"boe3110",dpwTransactionId:"T-0000000266",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"44",status:"NEW",creationDate:1603868759372,pickupLocation:"T1",selected:!1},{iso_code:"2000",container_number:"c311001",deliveryOrderValidity:"30/10/2020",boeNumber:"boe3110",dpwTransactionId:"T-0000000266",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"44",status:"NEW",creationDate:1603868759371,pickupLocation:"T1",selected:!1},{iso_code:"4000",container_number:"c311003",deliveryOrderValidity:"30/10/2020",boeNumber:"boe3110",dpwTransactionId:"T-0000000266",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"44",status:"NEW",creationDate:1603868759367,pickupLocation:"T1",selected:!1}],checked:!1,openCollapsePanel:!1,consigneeCode:null,creationDate:1603868759360},{declarationNumber:"boe6670",consigneeDetails:"abc company-abc",noOfContainers:3,deliveryOrderValidity:"30/11/2020",status:"New",containerList:[{iso_code:"2000",container_number:"c66675",deliveryOrderValidity:"30/11/2020",boeNumber:"boe6670",dpwTransactionId:"T-0000000262",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"abc",status:"NEW",creationDate:1603783964318,pickupLocation:"T1",selected:!1},{iso_code:"3000",container_number:"c66676",deliveryOrderValidity:"30/11/2020",boeNumber:"boe6670",dpwTransactionId:"T-0000000262",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"abc",status:"NEW",creationDate:1603783964314,pickupLocation:"T1",selected:!1},{iso_code:"4000",container_number:"c66678",deliveryOrderValidity:"30/11/2020",boeNumber:"boe6670",dpwTransactionId:"T-0000000262",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"abc",status:"NEW",creationDate:1603783964317,pickupLocation:"T1",selected:!1}],checked:!1,openCollapsePanel:!1,consigneeCode:null,creationDate:1603783964306},{declarationNumber:"boe2710",consigneeDetails:"abc company-43",noOfContainers:1,deliveryOrderValidity:"21/10/2020",status:"Expired",containerList:[{iso_code:"2000",container_number:"c271001",deliveryOrderValidity:"21/10/2020",boeNumber:"boe2710",dpwTransactionId:"T-0000000261",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"43",status:"EXP",creationDate:1603777917024,pickupLocation:"T1",selected:!1}],checked:!1,openCollapsePanel:!1,consigneeCode:null,creationDate:1603777917019}],N=(a(223),a(171)),C=a(152),k=a(151),D=a(43),T=a(5),O=(a(224),function(e){var t=e.status;return"Pending"===t?n="warning":"New"===t?n="#6AC672":"Expired"===t?n="#E91818":"Active"===t&&(n="#6AC672"),f.a.createElement("div",{className:"badge-shape",style:{backgroundColor:n}},f.a.createElement(p.y,{className:"badge-label"},t))}),w=a(153),P=a(184),S=a(198),L=a(168),x=a(188),A=a(160),I=!1,M=0,j=0,_=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).contentRef=f.a.createRef(),n.componentDidMount=function(){var e;n.setState({userType:D.a.getState().CheckUserStatus.user.userType}),I=!1,M=0,j=0;!0,"",n.setState({declarationArray:n.props.allStoreDeclarations}),0===(null===(e=n.props.allStoreDeclarations)||void 0===e?void 0:e.length)&&n.getAllDeclaration("")},n.getAllDeclaration=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,o,r,l,i,d,u,m,p,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t||(t="pgSize=10&pgNo=0&option=ALL&locale=en","pgSize=10&pgNo=0&option=ALL&locale=en"),t,{url:C.declarationUrl+t,callType:"get",header:{headers:""}},n.setState({message:"Loading Data"}),e.next=6,k.c(C.declarationUrl+t);case 6:if((null===(r=e.sent)||void 0===r?void 0:r.success)||(console.log(r,null===r||void 0===r||null===(l=r.data)||void 0===l||null===(i=l.elements)||void 0===i?void 0:i.length),n.setState({message:null===r||void 0===r||null===(d=r.data)||void 0===d?void 0:d.message})),!((null===r||void 0===r||null===(a=r.data)||void 0===a||null===(o=a.elements)||void 0===o?void 0:o.length)>0)){e.next=29;break}if(!((null===r||void 0===r||null===(u=r.data)||void 0===u||null===(m=u.elements)||void 0===m?void 0:m.length)>0)){e.next=19;break}return e.t0=n,e.next=13,[].concat(Object(s.a)(n.state.declarationArray),Object(s.a)(r.data.elements));case 13:e.t1=e.sent,e.t2={declarationArray:e.t1},e.t0.setState.call(e.t0,e.t2),n.setState({disableInfiniteScroll:n.state.declarationArray.length<10}),e.next=22;break;case 19:n.setState({declarationArray:[]}),n.setState({message:"No Declarations to display"}),n.setState({disableInfiniteScroll:!0});case 22:return!1,e.next=25,n.state.declarationArray.forEach((function(e){e.selectedNumber=0}));case 25:n.setState({declarationArray:n.state.declarationArray}),n.props.addDeclarationToCart(n.state.declarationArray),e.next=35;break;case 29:"",n.setState({message:null===r||void 0===r||null===(p=r.data)||void 0===p?void 0:p.message}),n.setState({message:"No Declarations to display"}),n.setState({disableInfiniteScroll:!0}),0===(null===(h=n.props.allStoreDeclarations)||void 0===h?void 0:h.length)&&n.props.addDeclarationToCart(E),n.setState({declarationArray:n.props.allStoreDeclarations});case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.contanerIconProps={name:"container",slot:"",class:"zoom12",zoom:2.8},n.topMenuItems=[{name:"",type:"button",src:"filter",zoom:1.3,slot:"",clickedOnTopMenu:function(){return n.setState({showModal:!0})}},{name:"expired",src:"",type:"button",slot:"start",clickedOnTopMenu:function(){return n.topMenuClick("","","ALL","")}},{name:"active",icon:"",type:"button",slot:"start",clickedOnTopMenu:function(){return n.topMenuClick("","","ACTIVE","")}},{name:"Do Validity",src:"filter-down-arrow",type:"button",slot:"start",size:"0.7rem",clickedOnTopMenu:function(){return console.log("clicked4")}},{name:"Containers",src:"filter-down-arrow",type:"button",slot:"start",size:"0.7rem",clickedOnTopMenu:function(){return console.log("clicked5")}}],n.topMenuClick=function(e,t,a,o){n.setState({showModal:!1}),n.setState({declarationArray:[]}),n.props.removeAllContainersInCart();var r="option=ALL&fromDate="+e+"&toDate="+t+"&consigneeName=&status="+a+"&pgNo=0&pgSize=10&locale=en";n.getAllDeclaration(r)},n.goToContainerList=function(e,t,a){I?a?"checked"===a?n.props.allStoreDeclarations.forEach((function(e,t){e.selected=!0,e.containerList.forEach((function(t,a){e.containerList[a].selected=!0})),M+=e.containerList.length,e.selectedNumber=e.containerList.length,n.props.updateBoesInCart(e)})):n.props.allStoreDeclarations.forEach((function(e,t){e.selected=!1,e.containerList.forEach((function(t,a){e.containerList[a].selected=!1})),M=0,e.selectedNumber=0,n.props.updateBoesInCart(e)})):(e.selected=!e.selected,n.setState({selected:e.selected}),e.selected?(M+=e.containerList.length,e.containerList.forEach((function(e){e.selected=!0,n.setState({selected:!0})})),e.selectedNumber=e.containerList.length,n.props.updateBoesInCart(e)):(M-=e.containerList.length,e.containerList.forEach((function(t){t.selected=!1,n.setState({selected:!1}),e.selectedNumber=0,0===M&&(I=!1,n.setState({showChecked:!1})),n.props.updateBoesInCart(e)})))):(e.currentSelection=!0,e.containerList.index=t,n.props.updateBoesInCart(e),o.history.push("/container",e))},n.declarationLonpressed=function(e){I=!0,n.setState({showChecked:!0}),e.selected=!e.selected,n.setState({selected:e.selected}),M+=e.containerList.length,e.selected&&(e.containerList.forEach((function(e){e.selected=!0,n.setState({selected:!0})})),e.selectedNumber=M,n.props.updateBoesInCart(e))},n.searchNext=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="pgSize=10&pgNo="+(j+=1)+"&option=ALL&locale=en",e.next=4,n.getAllDeclaration(a);case 4:t.target.complete();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onSearchClick=function(){},n.searchByDate=function(e,t,a){n.setState({showModal:e}),t&&a&&n.topMenuClick(t,a)},o=e,n.state={showModal:!1,selected:!1,opened:!0,message:"",disableInfiniteScroll:!1,declarationArray:n.props.allStoreDeclarations,userType:{},showChecked:!1},n.contentRef=f.a.createRef(),n}return Object(d.a)(a,[{key:"goToContainerCart",value:function(){o.history.push("/containerCart")}},{key:"render",value:function(){var e=this,t={showChecked:this.state.showChecked,addContainerToCart:this.goToContainerList},a=0;return f.a.createElement(p.B,{className:"declaration"},f.a.createElement(w.a,{label:"Declaration",action:"search",locationProps:o,searchClick:function(){return e.onSearchClick()},showAgent:!0,agentHeader:!0,checkedProps:t}),f.a.createElement(p.n,{className:"declaration-Content"},f.a.createElement(A.a,{showModal:this.state.showModal,openOrCloseModal:function(t){return e.setState({showModal:t})},content:f.a.createElement(x.a,{headerName:"Delivery Order Validity",openOrCloseModal:this.searchByDate})}),f.a.createElement(N.a,{topMenuProps:this.topMenuItems}),this.state.message&&this.state.declarationArray.length<=0&&f.a.createElement("div",{className:"warning-message"},this.state.message),f.a.createElement("div",{className:"container-section"},this.state.declarationArray.length>0&&f.a.createElement(L.a,{message:"".concat(this.state.declarationArray.length," declarations")}),f.a.createElement("div",{className:"container-list"},this.props.allStoreDeclarations.map((function(t,n){return t.currentSelection=!1,e.props.allStoreDeclarations[n].selected&&(a+=1),a>1||M>=1?I=!0:0===a&&(I=!1),f.a.createElement(v.a,{key:n,onShortPress:function(a){e.state.opened?e.goToContainerList(t,n):a.stopPropagation()},onLongPress:function(a){e.state.opened?e.declarationLonpressed(t):a.stopPropagation()},longPressTime:800},f.a.createElement(p.g,{key:n,className:t.selected?"outer-card boxShadow ":"outer-card lightShadow"}," ",f.a.createElement(p.h,null,f.a.createElement("div",{className:"container-card"},f.a.createElement("div",{className:"twoItems borderBottom"},f.a.createElement("div",{className:"eachItemLeft"},f.a.createElement("div",{className:"decl-info"},f.a.createElement("span",{className:"decl-number"},f.a.createElement(p.y,{class:"gray-text"},"Declaration#")),f.a.createElement("span",{className:"decl-comments"},t.referenceNumber))),f.a.createElement("div",{className:"middle-item"},f.a.createElement("div",{className:"dov"},f.a.createElement("span",{className:""}))),f.a.createElement("div",{className:"eachItemRight"},f.a.createElement("div",{className:"dov"},f.a.createElement("span",{className:"dov-text"},f.a.createElement(p.y,{class:"gray-text"},"Deliver Order validity")),f.a.createElement("span",{className:"dov-number"},t.deliveryOrderValidity)))),f.a.createElement("div",{className:"twoItems"},f.a.createElement("div",{className:"eachItemLeft"},f.a.createElement("div",{className:"decl-info"},f.a.createElement("span",{className:"decl-number"}," ",f.a.createElement(p.y,{class:"gray-text"},"Consignee")),f.a.createElement("span",{className:"decl-comments"},t.consigneeDetails))),f.a.createElement("div",{className:"middle-item"},f.a.createElement("div",{className:"dov"},f.a.createElement("span",{className:""},f.a.createElement(y.a,{iconProps:e.contanerIconProps})))),f.a.createElement("div",{className:"eachItemRight"},f.a.createElement("div",{className:"secondRow"},f.a.createElement("div",{className:"dov"},f.a.createElement("span",{className:"dov-number"},t.containerList.length," Nos."),t.selectedNumber>0&&f.a.createElement("span",{className:"dov-selected-number"},t.selectedNumber," selected."))),f.a.createElement("div",{className:"secondRow"},f.a.createElement("div",{className:"badgeItem"},f.a.createElement("div",{className:"dov"},f.a.createElement("span",{className:""},f.a.createElement(O,{status:t.status})))))))))))})))),f.a.createElement(p.u,{threshold:"100px",disabled:this.state.disableInfiniteScroll,onIonInfinite:function(t){return e.searchNext(t)}},f.a.createElement(p.v,{loadingText:"Loading more..."})),f.a.createElement(S.a,{iconType:"cart",clickEvent:this.goToContainerCart})),f.a.createElement(P.a,null))}}]),a}(f.a.Component);t.default=Object(b.a)((function(e){return{allStoreDeclarations:e.Cart}}),(function(){return{addDeclarationToCart:function(e){D.a.dispatch({type:T.g,payLoad:e})},removeAllContainersInCart:function(){D.a.dispatch({type:T.t})},updateBoesInCart:function(e){D.a.dispatch({type:T.F,payLoad:e})}}}))(_)}}]);
//# sourceMappingURL=11.e5660467.chunk.js.map