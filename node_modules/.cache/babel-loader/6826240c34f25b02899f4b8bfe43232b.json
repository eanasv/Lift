{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\SVN-folder\\\\New-BRANCH-PUSH\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _objectSpread from \"D:\\\\SVN-folder\\\\New-BRANCH-PUSH\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"D:\\\\SVN-folder\\\\New-BRANCH-PUSH\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _toArray from \"D:\\\\SVN-folder\\\\New-BRANCH-PUSH\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toArray\";\nimport _slicedToArray from \"D:\\\\SVN-folder\\\\New-BRANCH-PUSH\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\SVN-folder\\\\New-BRANCH-PUSH\\\\New folder\\\\src\\\\pages\\\\myBooking\\\\containerDetails\\\\ContainerDetails.tsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { IonGrid, IonCol, IonContent, IonIcon, IonLabel, IonPage, IonRow, IonText, IonToolbar, IonButton, IonCard, IonCardContent } from \"@ionic/react\";\nimport ContainerCard from \"../containerDetails/containerCard/ContainerCard\";\nimport Header from \"../../../components/Header\";\nimport { useHistory } from \"react-router-dom\";\nimport { httpPostCallWithoutHeaderAndWithBody, httpGetCallWithoutHeader, httpPostCallWithoutHeaderAndBody } from \"../../../services/EndPointApi\";\nimport * as EndPointURL from \"../../../util/EndPointURL\";\nimport \"./ContainerDetails.scss\";\nimport Alert from \"../../../components/alert/Alert\";\nimport SlideUpModal from \"../../../components/PopUp/SlideUpModal\";\nimport { closeOutline } from \"ionicons/icons\";\nimport RoundedAvatar from \"../../../components/Avatar/RoundedAvatar\";\nimport { InAppBrowser } from \"@ionic-native/in-app-browser\";\nexport default function ContainerDetails(value) {\n  var _data$bookingDetails14,\n      _data$bookingDetails15,\n      _this3 = this;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      groupedData = _useState4[0],\n      setGroupedData = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _toArray(_useState5);\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      alertPopup = _useState8[0],\n      setAlertPopup = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      message = _useState10[0],\n      setMessage = _useState10[1];\n\n  var _useState11 = useState({}),\n      _useState12 = _slicedToArray(_useState11, 2),\n      deleteContainer = _useState12[0],\n      setDeleteContainer = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      showModal = _useState14[0],\n      setShowModal = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      showPaymentModal = _useState16[0],\n      setShowPaymentModal = _useState16[1];\n\n  var _useState17 = useState(),\n      _useState18 = _slicedToArray(_useState17, 2),\n      containerDetails = _useState18[0],\n      setContainerDetails = _useState18[1];\n\n  var _useState19 = useState(false),\n      _useState20 = _slicedToArray(_useState19, 2),\n      isInProgress = _useState20[0],\n      setIsInProgress = _useState20[1];\n\n  var _useState21 = useState(false),\n      _useState22 = _slicedToArray(_useState21, 2),\n      isDelivered = _useState22[0],\n      setIsDelivered = _useState22[1];\n\n  var _useState23 = useState(false),\n      _useState24 = _slicedToArray(_useState23, 2),\n      isCompleted = _useState24[0],\n      setIsCompleted = _useState24[1];\n\n  var _useState25 = useState(\"\"),\n      _useState26 = _slicedToArray(_useState25, 2),\n      paymentPage = _useState26[0],\n      setPaymentPage = _useState26[1];\n\n  var history = useHistory();\n  var ref;\n  var txnIds;\n  var options = \"zoom=no,footer=no,location=no\";\n  useEffect(function () {\n    var _value$history, _value$history$locati, _value$history$locati2;\n\n    fetchData(value === null || value === void 0 ? void 0 : (_value$history = value.history) === null || _value$history === void 0 ? void 0 : (_value$history$locati = _value$history.location) === null || _value$history$locati === void 0 ? void 0 : (_value$history$locati2 = _value$history$locati.state) === null || _value$history$locati2 === void 0 ? void 0 : _value$history$locati2.bookingNumber);\n    console.log(\"booking\", data === null || data === void 0 ? void 0 : data.bookingDetails);\n    console.log(\"containerDetails\", containerDetails);\n  }, []);\n\n  var fetchData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(referenceNumber) {\n      var appUrl, response, _value$history2, _value$history2$locat, _value$history3, _value$history3$locat, _value$history3$locat2, bookingStatus, conts, list;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              appUrl = EndPointURL.containerDetails + \"refNo=\" + referenceNumber;\n              _context.next = 3;\n              return httpGetCallWithoutHeader(appUrl);\n\n            case 3:\n              response = _context.sent;\n              _context.next = 6;\n              return response.success;\n\n            case 6:\n              if (!_context.sent) {\n                _context.next = 12;\n                break;\n              }\n\n              console.log(\"response\", response);\n              setData(_objectSpread(_objectSpread({}, data), {}, {\n                bookingDetails: value === null || value === void 0 ? void 0 : (_value$history2 = value.history) === null || _value$history2 === void 0 ? void 0 : (_value$history2$locat = _value$history2.location) === null || _value$history2$locat === void 0 ? void 0 : _value$history2$locat.state\n              }));\n              bookingStatus = value === null || value === void 0 ? void 0 : (_value$history3 = value.history) === null || _value$history3 === void 0 ? void 0 : (_value$history3$locat = _value$history3.location) === null || _value$history3$locat === void 0 ? void 0 : (_value$history3$locat2 = _value$history3$locat.state) === null || _value$history3$locat2 === void 0 ? void 0 : _value$history3$locat2.bookingStatus;\n              setContainerDetails(response === null || response === void 0 ? void 0 : response.data);\n\n              if (bookingStatus == \"TRANSCONF\") {\n                OnInProgress(\"inProgress\", response === null || response === void 0 ? void 0 : response.data);\n              } else {\n                conts = response === null || response === void 0 ? void 0 : response.data.containerList;\n                list = groupingByDeclaration(conts);\n                console.log('list', list);\n                setGroupedData(list);\n              }\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchData(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var OnInProgress = function OnInProgress(status) {\n    for (var _len = arguments.length, cont = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      cont[_key - 1] = arguments[_key];\n    }\n\n    console.log(\"cont\", cont);\n    var conts;\n\n    if (status == \"inProgress\") {\n      setIsCompleted(false);\n      setIsDelivered(false);\n      setIsInProgress(true);\n      var inProgressStatus = [\"PEND\", \"PENTRUCK\"];\n      conts = containerDetails == undefined ? cont[0].containerList.filter(function (cL) {\n        var _cL$refStatus;\n\n        return inProgressStatus.includes((_cL$refStatus = cL.refStatus) === null || _cL$refStatus === void 0 ? void 0 : _cL$refStatus.code);\n      }) : containerDetails.containerList.filter(function (cL) {\n        var _cL$refStatus2;\n\n        return inProgressStatus.includes((_cL$refStatus2 = cL.refStatus) === null || _cL$refStatus2 === void 0 ? void 0 : _cL$refStatus2.code);\n      });\n    } else if (status == \"delivered\") {\n      setIsInProgress(false);\n      setIsCompleted(false);\n      setIsDelivered(true);\n      var deliveredStatus = [\"FCL_DEL\", \"PMTTOK\", \"MTTOKASGN\"];\n      conts = containerDetails.containerList.filter(function (cL) {\n        var _cL$refStatus3;\n\n        return deliveredStatus.includes((_cL$refStatus3 = cL.refStatus) === null || _cL$refStatus3 === void 0 ? void 0 : _cL$refStatus3.code);\n      });\n    } else {\n      setIsInProgress(false);\n      setIsDelivered(false);\n      setIsCompleted(true);\n      var completedStatus = [\"MT_DEL\", \"COMPL\"];\n      conts = containerDetails.containerList.filter(function (cL) {\n        var _cL$refStatus4;\n\n        return completedStatus.includes((_cL$refStatus4 = cL.refStatus) === null || _cL$refStatus4 === void 0 ? void 0 : _cL$refStatus4.code);\n      });\n    }\n\n    console.log(\"d\", conts);\n    var list = groupingByDeclaration(conts);\n    console.log('list', list);\n    setGroupedData(list);\n  };\n\n  var groupingByDeclaration = function groupingByDeclaration(containers) {\n    return containers.reduce(function (acc, _ref2) {\n      var item = Object.assign({}, _ref2);\n      var key = \"\".concat(item.boeNumber, \",\").concat(item.orderValidity);\n      (acc[key] = acc[key] || []).push(item);\n      return acc;\n    }, {});\n  };\n\n  var canCellationRequest = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ctn) {\n      var response, _data$bookingDetails, r;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return console.info(\"BEFORE DELETE \", JSON.stringify(data.containers));\n\n            case 3:\n              _context2.next = 5;\n              return httpPostCallWithoutHeaderAndWithBody(EndPointURL.cancelRequestContainerUrl, ctn);\n\n            case 5:\n              response = _context2.sent;\n              _context2.next = 8;\n              return console.info(\"DELETE \", JSON.stringify(ctn.key));\n\n            case 8:\n              if (!(response === null || response === void 0 ? void 0 : response.success)) {\n                _context2.next = 18;\n                break;\n              }\n\n              _context2.next = 11;\n              return delete data.containers[ctn.key];\n\n            case 11:\n              _context2.next = 13;\n              return {\n                booking: data.booking,\n                containers: data.containers\n              };\n\n            case 13:\n              r = _context2.sent;\n              console.info(\"AFTER DELETED  \", r);\n              _context2.next = 17;\n              return setData(r);\n\n            case 17:\n              history.push(\"/bookingDetails/\" + (data === null || data === void 0 ? void 0 : (_data$bookingDetails = data.bookingDetails) === null || _data$bookingDetails === void 0 ? void 0 : _data$bookingDetails.cardStatus));\n\n            case 18:\n              _context2.next = 24;\n              break;\n\n            case 20:\n              _context2.prev = 20;\n              _context2.t0 = _context2[\"catch\"](0);\n              _context2.next = 24;\n              return console.log(\"ERROR +++ {} \", _context2.t0);\n\n            case 24:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 20]]);\n    }));\n\n    return function canCellationRequest(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleDelete = function handleDelete(item, actionType) {\n    console.log(\"delete\", actionType);\n\n    if (actionType) {\n      var _data$bookingDetails2;\n\n      setAlertPopup(false);\n      deleteContainer.cancelRemarks = item.cancellationReason;\n      console.log(deleteContainer);\n      canCellationRequest(deleteContainer);\n      console.log(\"status\", data === null || data === void 0 ? void 0 : (_data$bookingDetails2 = data.bookingDetails) === null || _data$bookingDetails2 === void 0 ? void 0 : _data$bookingDetails2.cardStatus);\n    } else {}\n  };\n\n  var alertProps = {\n    isShow: alertPopup,\n    message: message,\n    content: \"cancel the container?\",\n    icon: \"<img src='/assets/icon/are-you-sure.svg'/>\",\n    alertAction: handleDelete,\n    inputs: [{\n      name: \"cancellationReason\",\n      type: 'textarea',\n      placeholder: 'Reason for cancellaltion',\n      cssClass: 'input-class'\n    }],\n    itemName: \"Kindly check our <a href=`https://www.google.com/`> className='link-text'>cancellation policy</a> <br/>before proceeding.\" // cancelPolicy: true  \n\n  };\n\n  var viewContactDetails = function viewContactDetails(ctn) {\n    console.log(\"   -----    \", ctn);\n    var value = {\n      contact: {\n        consigneeContactNumber: ctn.consigneeContactNumber,\n        consigneeContactName: ctn === null || ctn === void 0 ? void 0 : ctn.consigneeContactName,\n        phoneNumber: ctn === null || ctn === void 0 ? void 0 : ctn.phoneNumber,\n        dropAddress: ctn === null || ctn === void 0 ? void 0 : ctn.dropAddress,\n        addressLine1: ctn === null || ctn === void 0 ? void 0 : ctn.addressLine1,\n        dropZone: ctn === null || ctn === void 0 ? void 0 : ctn.dropZoneCode,\n        selectedDropZoneLabel: ctn === null || ctn === void 0 ? void 0 : ctn.dropZoneLabel,\n        ctnNumber: ctn === null || ctn === void 0 ? void 0 : ctn.container_number,\n        dpwTransactionId: ctn === null || ctn === void 0 ? void 0 : ctn.dpwTransactionId,\n        requestDetailsNumber: ctn === null || ctn === void 0 ? void 0 : ctn.requestDetailsNumber,\n        latLng: ctn === null || ctn === void 0 ? void 0 : ctn.latLng\n      },\n      booking: data.details,\n      isContainerEdit: true\n    };\n    history.push(\"/addAddress\", value);\n  };\n\n  var viewTrack = function viewTrack(item) {\n    history.push(\"/track\", item);\n  };\n\n  var closeContainer = function closeContainer(ctn, id) {\n    console.info(\"data \", JSON.stringify(data.booking));\n    console.info(\"ctn \", JSON.stringify(ctn));\n    var deleteData = {\n      dpwTransactionId: ctn.dpwTransactionId,\n      requestDetailsNumber: ctn.requestDetailsNumber,\n      container_number: ctn.container_number,\n      refStatus: {\n        code: \"CNCL\"\n      },\n      key: id\n    };\n    setAlertPopup(true);\n    setMessage(ctn.container_number);\n    setDeleteContainer(deleteData);\n  };\n\n  var goBack = function goBack() {\n    var _data$bookingDetails3;\n\n    history.push(\"/bookingDetails/\" + (data === null || data === void 0 ? void 0 : (_data$bookingDetails3 = data.bookingDetails) === null || _data$bookingDetails3 === void 0 ? void 0 : _data$bookingDetails3.cardStatus));\n  };\n\n  var onInfoClick = function onInfoClick() {\n    console.log(\"info\");\n    setShowModal(true);\n  };\n\n  function PaymentDetails() {\n    var _this = this;\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"slide-up-details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(IonGrid, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(IonRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IonCol, {\n      size: \"8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"label-text\",\n      style: {\n        margin: 0,\n        fontSize: \"1.1rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 15\n      }\n    }, \"Payment Breakups\"), /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"header-text\",\n      style: {\n        margin: 0\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(IonCol, {\n      size: \"3\",\n      style: {\n        color: \"#0568AE\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 13\n      }\n    }, containerDetails.grossAmount, \" AED\"), /*#__PURE__*/React.createElement(IonCol, {\n      size: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IonIcon, {\n      icon: closeOutline,\n      className: \"close-icon\",\n      onClick: function onClick() {\n        return setShowPaymentModal(false);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 15\n      }\n    }))), containerDetails.paymentDetails.filter(function (pd) {\n      return pd.paymentType === \"transportation\";\n    }).map(function (item, index) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"data-text\",\n        key: index,\n        style: containerDetails.paymentDetails.filter(function (pd) {\n          return pd.paymentType === \"transportation\";\n        }).length == index + 1 ? {\n          padding: \"10px\"\n        } : {\n          borderBottom: \"1px solid #D7D7D7\",\n          padding: \"10px\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(IonRow, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(IonCol, {\n        className: \"column-space\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 17\n        }\n      }, \"Containers\"), /*#__PURE__*/React.createElement(IonCol, {\n        className: \"column-space\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 17\n        }\n      }, item.chargeDescription), /*#__PURE__*/React.createElement(IonCol, {\n        className: \"column-space\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 17\n        }\n      }, item.subTotalAmount, \" AED\")), /*#__PURE__*/React.createElement(IonRow, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(IonCol, {\n        className: \"column-space\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 17\n        }\n      }, \"Vat %\"), /*#__PURE__*/React.createElement(IonCol, {\n        className: \"column-space\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 17\n        }\n      }, \"5%\"), /*#__PURE__*/React.createElement(IonCol, {\n        className: \"column-space\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 17\n        }\n      }, item.totalVat, \" AED\")), /*#__PURE__*/React.createElement(IonRow, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(IonCol, {\n        className: \"column-space\",\n        size: \"8\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 17\n        }\n      }, \"Total\"), /*#__PURE__*/React.createElement(IonCol, {\n        className: \"column-space\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 17\n        }\n      }, item.totalAmount, \" AED\")));\n    }), /*#__PURE__*/React.createElement(IonRow, {\n      className: \"data-text\",\n      style: {\n        borderBottom: \"1px solid #D7D7D7\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IonCol, {\n      className: \"column-space\",\n      size: \"8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 13\n      }\n    }, \"Net Amount\"), /*#__PURE__*/React.createElement(IonCol, {\n      className: \"column-space\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 13\n      }\n    }, containerDetails.totalContainerTariff, \" AED\")), containerDetails.paymentDetails.filter(function (pd) {\n      return pd.paymentType !== \"transportation\";\n    }).map(function (item, index) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"data-text\",\n        key: index,\n        style: containerDetails.paymentDetails.filter(function (pd) {\n          return pd.paymentType !== \"transportation\";\n        }).length == index + 1 ? {} : {\n          borderBottom: \"1px solid #D7D7D7\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(IonRow, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(IonCol, {\n        className: \"column-space\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 17\n        }\n      }, \"Token Charges\"), /*#__PURE__*/React.createElement(IonCol, {\n        className: \"column-space\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 17\n        }\n      }, item.chargeDescription), /*#__PURE__*/React.createElement(IonCol, {\n        className: \"column-space\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 17\n        }\n      }, item.subTotalAmount, \" AED\")), /*#__PURE__*/React.createElement(IonRow, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(IonCol, {\n        className: \"column-space\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 17\n        }\n      }, \"Vat %\"), /*#__PURE__*/React.createElement(IonCol, {\n        className: \"column-space\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 17\n        }\n      }, \"5%\"), /*#__PURE__*/React.createElement(IonCol, {\n        className: \"column-space\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 17\n        }\n      }, item.totalVat, \" AED\")), /*#__PURE__*/React.createElement(IonRow, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(IonCol, {\n        className: \"column-space\",\n        size: \"8\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 17\n        }\n      }, \"Total\"), /*#__PURE__*/React.createElement(IonCol, {\n        className: \"column-space\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 17\n        }\n      }, item.totalAmount, \" AED\")));\n    }), /*#__PURE__*/React.createElement(IonRow, {\n      className: \"data-text\",\n      style: {\n        borderBottom: \"1px solid #D7D7D7\",\n        paddingBottom: \"10px\",\n        paddingTop: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IonCol, {\n      className: \"column-space\",\n      size: \"8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 13\n      }\n    }, \"Net Amount\"), /*#__PURE__*/React.createElement(IonCol, {\n      className: \"column-space\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 13\n      }\n    }, containerDetails.totalTokenTariff, \" AED\")), /*#__PURE__*/React.createElement(IonRow, {\n      className: \"data-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IonCol, {\n      className: \"column-space\",\n      size: \"8\",\n      style: {\n        fontSize: \"1.1rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 13\n      }\n    }, \"Gross Amount\"), /*#__PURE__*/React.createElement(IonCol, {\n      className: \"column-space\",\n      style: {\n        color: \"#0568AE\",\n        fontSize: \"1.1rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 13\n      }\n    }, containerDetails.grossAmount, \" AED\"))));\n  }\n\n  function BookingDetails() {\n    var _data$bookingDetails4,\n        _data$bookingDetails5,\n        _data$bookingDetails6,\n        _data$bookingDetails7,\n        _data$bookingDetails8,\n        _this2 = this,\n        _data$bookingDetails9;\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"slide-up-details\",\n      style: {\n        paddingLeft: \"15px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(IonGrid, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(IonRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IonCol, {\n      size: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(RoundedAvatar, {\n      color: \"#1DB3FE\",\n      name: \"IA\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(IonCol, {\n      size: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"label-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 15\n      }\n    }, data === null || data === void 0 ? void 0 : (_data$bookingDetails4 = data.bookingDetails) === null || _data$bookingDetails4 === void 0 ? void 0 : _data$bookingDetails4.bookingNumber), /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"header-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(IonCol, {\n      size: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IonIcon, {\n      icon: closeOutline,\n      className: \"close-icon\",\n      onClick: function onClick() {\n        return setShowModal(false);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(IonRow, {\n      className: \"row-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IonCol, {\n      className: \"column-space\",\n      size: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 13\n      }\n    }, \"Requestor Name\"), /*#__PURE__*/React.createElement(IonCol, {\n      className: \"column-space\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 13\n      }\n    }, \"Requestor Contact\")), /*#__PURE__*/React.createElement(IonRow, {\n      className: \"data-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IonCol, {\n      className: \"column-space\",\n      size: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 13\n      }\n    }, data === null || data === void 0 ? void 0 : (_data$bookingDetails5 = data.bookingDetails) === null || _data$bookingDetails5 === void 0 ? void 0 : _data$bookingDetails5.requesterName), /*#__PURE__*/React.createElement(IonCol, {\n      className: \"column-space\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 13\n      }\n    }, data === null || data === void 0 ? void 0 : (_data$bookingDetails6 = data.bookingDetails) === null || _data$bookingDetails6 === void 0 ? void 0 : _data$bookingDetails6.requesterContact)), (data === null || data === void 0 ? void 0 : (_data$bookingDetails7 = data.bookingDetails) === null || _data$bookingDetails7 === void 0 ? void 0 : _data$bookingDetails7.importerComments) !== null && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(IonRow, {\n      className: \"row-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IonCol, {\n      className: \"column-space\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 15\n      }\n    }, \"Importer Comments\")), /*#__PURE__*/React.createElement(IonRow, {\n      className: \"data-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IonCol, {\n      className: \"column-space\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 15\n      }\n    }, data === null || data === void 0 ? void 0 : (_data$bookingDetails8 = data.bookingDetails) === null || _data$bookingDetails8 === void 0 ? void 0 : _data$bookingDetails8.importerComments))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        paddingTop: \"15px\",\n        paddingBottom: \"15px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IonRow, {\n      className: \"data-text\",\n      style: {\n        paddingBottom: \"10px\",\n        fontSize: \"1.1rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IonCol, {\n      className: \"column-space\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 15\n      }\n    }, \"Payment Details\")), containerDetails.paymentDetails.filter(function (pd) {\n      return pd.paymentType === \"transportation\";\n    }).map(function (item, index) {\n      return /*#__PURE__*/React.createElement(IonRow, {\n        className: \"data-text\",\n        key: index,\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(IonCol, {\n        className: \"column-space\",\n        size: \"7\",\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 17\n        }\n      }, item.chargeDescription), /*#__PURE__*/React.createElement(IonCol, {\n        className: \"column-space\",\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 17\n        }\n      }, item.totalAmount, \" AED\"));\n    }), containerDetails.paymentDetails.filter(function (pd) {\n      return pd.paymentType === \"tokenIn\" || pd.paymentType === \"tokenOut\";\n    }).map(function (item, index) {\n      return /*#__PURE__*/React.createElement(IonRow, {\n        className: \"data-text\",\n        key: index,\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(IonCol, {\n        className: \"column-space\",\n        size: \"7\",\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 17\n        }\n      }, item.chargeDescription), /*#__PURE__*/React.createElement(IonCol, {\n        className: \"column-space\",\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 17\n        }\n      }, item.totalAmount, \" AED\"));\n    }), /*#__PURE__*/React.createElement(IonRow, {\n      className: \"data-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IonCol, {\n      className: \"column-space\",\n      size: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 15\n      }\n    }, \"Gross Amount\"), /*#__PURE__*/React.createElement(IonCol, {\n      className: \"column-space\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 15\n      }\n    }, containerDetails.grossAmount, \" AED\"))), /*#__PURE__*/React.createElement(IonRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IonCol, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IonButton, {\n      className: \"blue-link-text\",\n      fill: \"clear\",\n      onClick: function onClick() {\n        setShowModal(false);\n        setTimeout(function () {\n          setShowPaymentModal(true);\n        }, 2500);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 13\n      }\n    }, \"View Detailed Breakups\")), (data === null || data === void 0 ? void 0 : (_data$bookingDetails9 = data.bookingDetails) === null || _data$bookingDetails9 === void 0 ? void 0 : _data$bookingDetails9.bookingStatus) == \"FPAY\" && /*#__PURE__*/React.createElement(IonCol, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 63\n      }\n    }, /*#__PURE__*/React.createElement(IonButton, {\n      className: \"link-text\",\n      fill: \"clear\",\n      onClick: function onClick() {\n        var _data$bookingDetails10;\n\n        return paymentInfo(data === null || data === void 0 ? void 0 : (_data$bookingDetails10 = data.bookingDetails) === null || _data$bookingDetails10 === void 0 ? void 0 : _data$bookingDetails10.bookingNumber);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 13\n      }\n    }, \"Retry payment\")))));\n  }\n\n  function postToExternalSite(_x3, _x4) {\n    return _postToExternalSite.apply(this, arguments);\n  }\n\n  function _postToExternalSite() {\n    _postToExternalSite = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(url, txnId) {\n      var paymentCompl, result;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              txnIds = txnId;\n              ref = InAppBrowser.create(url, \"_blank\", options);\n              result = ref.on(\"loadstop\").subscribe( /*#__PURE__*/function () {\n                var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event) {\n                  return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                    while (1) {\n                      switch (_context3.prev = _context3.next) {\n                        case 0:\n                          _context3.next = 2;\n                          return checkPaymentSuccess(event.url, txnId);\n\n                        case 2:\n                          paymentCompl = _context3.sent;\n\n                          if (!paymentCompl) {\n                            _context3.next = 9;\n                            break;\n                          }\n\n                          _context3.next = 6;\n                          return paymentCompl;\n\n                        case 6:\n                          return _context3.abrupt(\"return\", _context3.sent);\n\n                        case 9:\n                        case \"end\":\n                          return _context3.stop();\n                      }\n                    }\n                  }, _callee3);\n                }));\n\n                return function (_x9) {\n                  return _ref4.apply(this, arguments);\n                };\n              }());\n              ref.on(\"exit\").subscribe( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n                return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n                  while (1) {\n                    switch (_context4.prev = _context4.next) {\n                      case 0:\n                        console.log(\"exxxxxxiiiitt\");\n                        checkPaymentStatus(txnId);\n\n                      case 2:\n                      case \"end\":\n                        return _context4.stop();\n                    }\n                  }\n                }, _callee4);\n              })), function (err) {\n                console.log(err);\n              });\n              _context5.next = 6;\n              return result;\n\n            case 6:\n              return _context5.abrupt(\"return\", _context5.sent);\n\n            case 7:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n    return _postToExternalSite.apply(this, arguments);\n  }\n\n  function checkPaymentSuccess(_x5, _x6) {\n    return _checkPaymentSuccess.apply(this, arguments);\n  }\n\n  function _checkPaymentSuccess() {\n    _checkPaymentSuccess = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(url, txnId) {\n      var roStatus, test;\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              if (!url.includes(\"/mobileResponseFromRosoomPaymentApp\")) {\n                _context7.next = 13;\n                break;\n              }\n\n              ref.close();\n              _context7.next = 4;\n              return ref.on(\"exit\").subscribe( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n                return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n                  while (1) {\n                    switch (_context6.prev = _context6.next) {\n                      case 0:\n                      case \"end\":\n                        return _context6.stop();\n                    }\n                  }\n                }, _callee6);\n              })), function (err) {\n                console.log(err);\n              });\n\n            case 4:\n              roStatus = _context7.sent;\n              _context7.next = 7;\n              return checkPaymentStatus(txnId);\n\n            case 7:\n              test = _context7.sent;\n              _context7.next = 10;\n              return test;\n\n            case 10:\n              return _context7.abrupt(\"return\", _context7.sent);\n\n            case 13:\n              return _context7.abrupt(\"return\", false);\n\n            case 14:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n    return _checkPaymentSuccess.apply(this, arguments);\n  }\n\n  function checkPaymentStatus(_x7) {\n    return _checkPaymentStatus.apply(this, arguments);\n  }\n\n  function _checkPaymentStatus() {\n    _checkPaymentStatus = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(txnId) {\n      var appUrl, response;\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              appUrl = EndPointURL.rosoomPaymentStatusCheck + txnId;\n              _context8.next = 3;\n              return httpGetCallWithoutHeader(appUrl);\n\n            case 3:\n              response = _context8.sent;\n              _context8.next = 6;\n              return response.success;\n\n            case 6:\n              if (!_context8.sent) {\n                _context8.next = 20;\n                break;\n              }\n\n              if (!(response.data.data.dataItems[0].status == \"SUCC\")) {\n                _context8.next = 12;\n                break;\n              }\n\n              _context8.next = 10;\n              return setPaymentPage(\"success\");\n\n            case 10:\n              _context8.next = 19;\n              break;\n\n            case 12:\n              if (!(response.data.data.dataItems[0].status == \"FAIL\")) {\n                _context8.next = 17;\n                break;\n              }\n\n              _context8.next = 15;\n              return setPaymentPage(\"fail\");\n\n            case 15:\n              _context8.next = 19;\n              break;\n\n            case 17:\n              _context8.next = 19;\n              return setPaymentPage(\"pending\");\n\n            case 19:\n              return _context8.abrupt(\"return\", response);\n\n            case 20:\n              return _context8.abrupt(\"return\", response);\n\n            case 21:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n    return _checkPaymentStatus.apply(this, arguments);\n  }\n\n  function paymentInfo(_x8) {\n    return _paymentInfo.apply(this, arguments);\n  }\n\n  function _paymentInfo() {\n    _paymentInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(bookingNumber) {\n      var appUrl, response, url, txnId;\n      return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              appUrl = EndPointURL.reinitializeUrl + bookingNumber;\n              _context9.next = 3;\n              return httpPostCallWithoutHeaderAndBody(appUrl);\n\n            case 3:\n              response = _context9.sent;\n              _context9.next = 6;\n              return response.success;\n\n            case 6:\n              if (!_context9.sent) {\n                _context9.next = 15;\n                break;\n              }\n\n              _context9.next = 9;\n              return response.data.data.dataItems[0].url;\n\n            case 9:\n              url = _context9.sent;\n              _context9.next = 12;\n              return response.data.data.dataItems[0].transactionId;\n\n            case 12:\n              txnId = _context9.sent;\n              _context9.next = 15;\n              return postToExternalSite(url, txnId);\n\n            case 15:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9);\n    }));\n    return _paymentInfo.apply(this, arguments);\n  }\n\n  function ConfirmScreenTabs() {\n    return /*#__PURE__*/React.createElement(IonRow, {\n      id: \"confirm-screen\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(IonCol, {\n      className: isInProgress ? \"clicked\" : \"not-clicked\",\n      onClick: function onClick() {\n        return OnInProgress(\"inProgress\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 9\n      }\n    }, \"IN PROGRESS\"), /*#__PURE__*/React.createElement(IonCol, {\n      className: isDelivered ? \"clicked\" : \"not-clicked\",\n      onClick: function onClick() {\n        return OnInProgress(\"delivered\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 9\n      }\n    }, \"DELIVERED\"), /*#__PURE__*/React.createElement(IonCol, {\n      className: isCompleted ? \"clicked\" : \"not-clicked\",\n      onClick: function onClick() {\n        return OnInProgress(\"completed\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 9\n      }\n    }, \"COMPLETED\"));\n  }\n\n  function BookingNumberTab(props) {\n    var _props$boe, _props$boe2, _props$boe3;\n\n    return /*#__PURE__*/React.createElement(IonRow, {\n      className: \"booking-number-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(IonCol, {\n      size: \"6\",\n      className: \"number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 9\n      }\n    }, (_props$boe = props.boe) === null || _props$boe === void 0 ? void 0 : _props$boe.split(\",\")[0]), ((_props$boe2 = props.boe) === null || _props$boe2 === void 0 ? void 0 : _props$boe2.split(\",\")[1]) !== undefined && /*#__PURE__*/React.createElement(IonCol, {\n      className: \"date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 52\n      }\n    }, /*#__PURE__*/React.createElement(IonLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 11\n      }\n    }, \"DO Validity : \"), /*#__PURE__*/React.createElement(IonLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 11\n      }\n    }, (_props$boe3 = props.boe) === null || _props$boe3 === void 0 ? void 0 : _props$boe3.split(\",\")[1])));\n  }\n\n  function ContainerToolbar() {\n    var _padStart, _data$bookingDetails11, _padStart2, _data$bookingDetails12, _data$bookingDetails13;\n\n    return /*#__PURE__*/React.createElement(IonToolbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(IonRow, {\n      className: \"container-toolbar-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(IonCol, {\n      size: \"1\",\n      className: \"container-col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IonIcon, {\n      src: \"/assets/icon/container.svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(IonCol, {\n      size: \"2.8\",\n      className: \"padding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IonRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IonText, {\n      className: \"data-font\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 15\n      }\n    }, (_padStart = ((data === null || data === void 0 ? void 0 : (_data$bookingDetails11 = data.bookingDetails) === null || _data$bookingDetails11 === void 0 ? void 0 : _data$bookingDetails11.containerCount) + \"\").padStart(2, \"0\")) !== null && _padStart !== void 0 ? _padStart : 0)), /*#__PURE__*/React.createElement(IonRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IonText, {\n      className: \"title-font\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 15\n      }\n    }, \"Containers\"))), /*#__PURE__*/React.createElement(IonCol, {\n      size: \"1\",\n      className: \"container-col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IonIcon, {\n      src: \"/assets/icon/truck-grey.svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(IonCol, {\n      size: \"2.8\",\n      className: \"padding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IonRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IonText, {\n      className: \"data-font\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 15\n      }\n    }, (_padStart2 = ((data === null || data === void 0 ? void 0 : (_data$bookingDetails12 = data.bookingDetails) === null || _data$bookingDetails12 === void 0 ? void 0 : _data$bookingDetails12.truckCount) + \"\").padStart(2, \"0\")) !== null && _padStart2 !== void 0 ? _padStart2 : 0)), /*#__PURE__*/React.createElement(IonRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IonText, {\n      className: \"title-font\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 15\n      }\n    }, \"Trucks\"))), /*#__PURE__*/React.createElement(IonCol, {\n      size: \"2\",\n      className: \"container-col background\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IonIcon, {\n      src: \"/assets/icon/invoices-download.svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(IonCol, {\n      size: \"2.4\",\n      className: \"container-col-amnt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IonText, {\n      className: \"amnt-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 13\n      }\n    }, data === null || data === void 0 ? void 0 : (_data$bookingDetails13 = data.bookingDetails) === null || _data$bookingDetails13 === void 0 ? void 0 : _data$bookingDetails13.totalAmount, \" AED \"))));\n  }\n\n  return /*#__PURE__*/React.createElement(IonPage, {\n    id: \"container-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 564,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    label: data === null || data === void 0 ? void 0 : (_data$bookingDetails14 = data.bookingDetails) === null || _data$bookingDetails14 === void 0 ? void 0 : _data$bookingDetails14.bookingNumber,\n    action: \"info\",\n    customBack: true,\n    backClick: function backClick() {\n      return goBack();\n    },\n    agentHeader: true,\n    infoClick: onInfoClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 565,\n      columnNumber: 7\n    }\n  }), (data === null || data === void 0 ? void 0 : data.bookingDetails) !== undefined && /*#__PURE__*/React.createElement(ContainerToolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 566,\n      columnNumber: 46\n    }\n  }), /*#__PURE__*/React.createElement(IonContent, {\n    fullscreen: true,\n    scrollEvents: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SlideUpModal, {\n    showModal: showModal,\n    openOrCloseModal: function openOrCloseModal(status) {\n      return setShowModal(status);\n    },\n    content: /*#__PURE__*/React.createElement(BookingDetails, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 20\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 571,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(SlideUpModal, {\n    showModal: showPaymentModal,\n    openOrCloseModal: function openOrCloseModal(status) {\n      setShowPaymentModal(status);\n    },\n    content: /*#__PURE__*/React.createElement(PaymentDetails, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 20\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 576,\n      columnNumber: 9\n    }\n  }), (data === null || data === void 0 ? void 0 : (_data$bookingDetails15 = data.bookingDetails) === null || _data$bookingDetails15 === void 0 ? void 0 : _data$bookingDetails15.bookingStatus) == \"TRANSCONF\" && /*#__PURE__*/React.createElement(ConfirmScreenTabs, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 582,\n      columnNumber: 11\n    }\n  }), groupedData !== undefined && Object.keys(groupedData).map(function (boe, index) {\n    var _data$bookingDetails16;\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      __self: _this3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 11\n      }\n    }, (data === null || data === void 0 ? void 0 : (_data$bookingDetails16 = data.bookingDetails) === null || _data$bookingDetails16 === void 0 ? void 0 : _data$bookingDetails16.bookingStatus) !== \"TRANSCONF\" && /*#__PURE__*/React.createElement(BookingNumberTab, {\n      boe: boe,\n      __self: _this3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 15\n      }\n    }), groupedData[boe].map(function (item, index) {\n      var _data$bookingDetails17, _value$location, _value$location$state, _data$bookingDetails18, _item$refStatus;\n\n      return /*#__PURE__*/React.createElement(ContainerCard, {\n        bookingStatus: data === null || data === void 0 ? void 0 : (_data$bookingDetails17 = data.bookingDetails) === null || _data$bookingDetails17 === void 0 ? void 0 : _data$bookingDetails17.bookingStatus,\n        key: index,\n        userType: value === null || value === void 0 ? void 0 : (_value$location = value.location) === null || _value$location === void 0 ? void 0 : (_value$location$state = _value$location.state) === null || _value$location$state === void 0 ? void 0 : _value$location$state.userType,\n        container_number: item === null || item === void 0 ? void 0 : item.container_number,\n        consigneeName: item === null || item === void 0 ? void 0 : item.consigneeDetails,\n        pickUpLocation: item === null || item === void 0 ? void 0 : item.pickupLocation,\n        dropLocation: item === null || item === void 0 ? void 0 : item.dropAddress,\n        dropZone: item === null || item === void 0 ? void 0 : item.dropZoneLabel,\n        bookingNumber: data === null || data === void 0 ? void 0 : (_data$bookingDetails18 = data.bookingDetails) === null || _data$bookingDetails18 === void 0 ? void 0 : _data$bookingDetails18.bookingNumber,\n        dropTime: item === null || item === void 0 ? void 0 : item.date_time,\n        boeNumber: item === null || item === void 0 ? void 0 : item.boeNumber,\n        containerWeight: item === null || item === void 0 ? void 0 : item.containerWeight,\n        isoCode: item === null || item === void 0 ? void 0 : item.iso_code,\n        holdAuthority: item === null || item === void 0 ? void 0 : item.holdAuthority,\n        storageValidity: item === null || item === void 0 ? void 0 : item.storagePaidTill,\n        initials: item === null || item === void 0 ? void 0 : item.initials,\n        cancelRemarks: item === null || item === void 0 ? void 0 : item.cancelRemarks,\n        containerStatus: item === null || item === void 0 ? void 0 : (_item$refStatus = item.refStatus) === null || _item$refStatus === void 0 ? void 0 : _item$refStatus.code,\n        containerType: item === null || item === void 0 ? void 0 : item.containerType,\n        viewClick: function viewClick() {\n          viewContactDetails(item);\n        },\n        trackClick: function trackClick() {\n          return viewTrack(item);\n        },\n        closeClick: function closeClick() {\n          closeContainer(item, index);\n        },\n        __self: _this3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 15\n        }\n      });\n    }));\n  }), Object.keys(groupedData).length === 0 && groupedData.constructor === Object && /*#__PURE__*/React.createElement(IonCard, {\n    className: \"noData\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 619,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonCardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 620,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 621,\n      columnNumber: 15\n    }\n  }, \"No Data to show\"))), /*#__PURE__*/React.createElement(Alert, {\n    alertProps: alertProps,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 626,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["D:/SVN-folder/New-BRANCH-PUSH/New folder/src/pages/myBooking/containerDetails/ContainerDetails.tsx"],"names":["React","useEffect","useState","IonGrid","IonCol","IonContent","IonIcon","IonLabel","IonPage","IonRow","IonText","IonToolbar","IonButton","IonCard","IonCardContent","ContainerCard","Header","useHistory","httpPostCallWithoutHeaderAndWithBody","httpGetCallWithoutHeader","httpPostCallWithoutHeaderAndBody","EndPointURL","Alert","SlideUpModal","closeOutline","RoundedAvatar","InAppBrowser","ContainerDetails","value","data","setData","groupedData","setGroupedData","alertPopup","setAlertPopup","message","setMessage","deleteContainer","setDeleteContainer","showModal","setShowModal","showPaymentModal","setShowPaymentModal","containerDetails","setContainerDetails","isInProgress","setIsInProgress","isDelivered","setIsDelivered","isCompleted","setIsCompleted","paymentPage","setPaymentPage","history","ref","txnIds","options","fetchData","location","state","bookingNumber","console","log","bookingDetails","referenceNumber","appUrl","response","success","bookingStatus","OnInProgress","conts","containerList","list","groupingByDeclaration","status","cont","inProgressStatus","undefined","filter","cL","includes","refStatus","code","deliveredStatus","completedStatus","containers","reduce","acc","item","key","boeNumber","orderValidity","push","canCellationRequest","ctn","info","JSON","stringify","cancelRequestContainerUrl","booking","r","cardStatus","handleDelete","actionType","cancelRemarks","cancellationReason","alertProps","isShow","content","icon","alertAction","inputs","name","type","placeholder","cssClass","itemName","viewContactDetails","contact","consigneeContactNumber","consigneeContactName","phoneNumber","dropAddress","addressLine1","dropZone","dropZoneCode","selectedDropZoneLabel","dropZoneLabel","ctnNumber","container_number","dpwTransactionId","requestDetailsNumber","latLng","details","isContainerEdit","viewTrack","closeContainer","id","deleteData","goBack","onInfoClick","PaymentDetails","margin","fontSize","color","grossAmount","paymentDetails","pd","paymentType","map","index","length","padding","borderBottom","chargeDescription","subTotalAmount","totalVat","totalAmount","totalContainerTariff","paddingBottom","paddingTop","totalTokenTariff","BookingDetails","paddingLeft","requesterName","requesterContact","importerComments","setTimeout","paymentInfo","postToExternalSite","url","txnId","create","result","on","subscribe","event","checkPaymentSuccess","paymentCompl","checkPaymentStatus","err","close","roStatus","test","rosoomPaymentStatusCheck","dataItems","reinitializeUrl","transactionId","ConfirmScreenTabs","BookingNumberTab","props","boe","split","ContainerToolbar","containerCount","padStart","truckCount","Object","keys","userType","consigneeDetails","pickupLocation","date_time","containerWeight","iso_code","holdAuthority","storagePaidTill","initials","containerType","constructor"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,OAAT,EAAkBC,MAAlB,EAA0BC,UAA1B,EAAsCC,OAAtC,EAA+CC,QAA/C,EAAyDC,OAAzD,EAAkEC,MAAlE,EAA0EC,OAA1E,EAAmFC,UAAnF,EAA+FC,SAA/F,EAA0GC,OAA1G,EAAmHC,cAAnH,QAAyI,cAAzI;AACA,OAAOC,aAAP,MAA0B,iDAA1B;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,oCAAT,EAA+CC,wBAA/C,EAAyEC,gCAAzE,QAAiH,+BAAjH;AACA,OAAO,KAAKC,WAAZ,MAA6B,2BAA7B;AACA,OAAO,yBAAP;AACA,OAAOC,KAAP,MAAkB,iCAAlB;AACA,OAAOC,YAAP,MAAyB,wCAAzB;AACA,SAASC,YAAT,QAA6B,gBAA7B;AACA,OAAOC,aAAP,MAA0B,0CAA1B;AACA,SAASC,YAAT,QAA6B,8BAA7B;AAEA,eAAe,SAASC,gBAAT,CAA0BC,KAA1B,EAAiC;AAAA;AAAA;AAAA;;AAC9C,kBAAwB1B,QAAQ,CAAM,EAAN,CAAhC;AAAA;AAAA,MAAO2B,IAAP;AAAA,MAAaC,OAAb;;AACA,mBAAsC5B,QAAQ,CAAM,EAAN,CAA9C;AAAA;AAAA,MAAO6B,WAAP;AAAA,MAAoBC,cAApB;;AACA,mBAAW9B,QAAQ,CAAC,KAAD,CAAnB;AAAA;;AACA,mBAAoCA,QAAQ,CAAC,KAAD,CAA5C;AAAA;AAAA,MAAO+B,UAAP;AAAA,MAAmBC,aAAnB;;AACA,mBAA8BhC,QAAQ,CAAC,EAAD,CAAtC;AAAA;AAAA,MAAOiC,OAAP;AAAA,MAAgBC,UAAhB;;AACA,oBAA8ClC,QAAQ,CAAM,EAAN,CAAtD;AAAA;AAAA,MAAOmC,eAAP;AAAA,MAAwBC,kBAAxB;;AACA,oBAAkCpC,QAAQ,CAAU,KAAV,CAA1C;AAAA;AAAA,MAAOqC,SAAP;AAAA,MAAkBC,YAAlB;;AACA,oBAAgDtC,QAAQ,CAAU,KAAV,CAAxD;AAAA;AAAA,MAAOuC,gBAAP;AAAA,MAAyBC,mBAAzB;;AACA,oBAAgDxC,QAAQ,EAAxD;AAAA;AAAA,MAAOyC,gBAAP;AAAA,MAAyBC,mBAAzB;;AACA,oBAAwC1C,QAAQ,CAAU,KAAV,CAAhD;AAAA;AAAA,MAAO2C,YAAP;AAAA,MAAqBC,eAArB;;AACA,oBAAsC5C,QAAQ,CAAU,KAAV,CAA9C;AAAA;AAAA,MAAO6C,WAAP;AAAA,MAAoBC,cAApB;;AACA,oBAAsC9C,QAAQ,CAAU,KAAV,CAA9C;AAAA;AAAA,MAAO+C,WAAP;AAAA,MAAoBC,cAApB;;AACA,oBAAsChD,QAAQ,CAAC,EAAD,CAA9C;AAAA;AAAA,MAAOiD,WAAP;AAAA,MAAoBC,cAApB;;AACA,MAAIC,OAAO,GAAGpC,UAAU,EAAxB;AACA,MAAIqC,GAAJ;AACA,MAAIC,MAAJ;AACA,MAAIC,OAAO,GAAG,+BAAd;AAEAvD,EAAAA,SAAS,CAAC,YAAM;AAAA;;AACdwD,IAAAA,SAAS,CAAC7B,KAAD,aAACA,KAAD,yCAACA,KAAK,CAAEyB,OAAR,4EAAC,eAAgBK,QAAjB,oFAAC,sBAA0BC,KAA3B,2DAAC,uBAAiCC,aAAlC,CAAT;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBjC,IAAvB,aAAuBA,IAAvB,uBAAuBA,IAAI,CAAEkC,cAA7B;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCnB,gBAAhC;AACD,GAJQ,EAIN,EAJM,CAAT;;AAMA,MAAMc,SAAS;AAAA,wEAAG,iBAAOO,eAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AACZC,cAAAA,MADY,GACH5C,WAAW,CAACsB,gBAAZ,GAA+B,QAA/B,GAA0CqB,eADvC;AAAA;AAAA,qBAEK7C,wBAAwB,CAAC8C,MAAD,CAF7B;;AAAA;AAEZC,cAAAA,QAFY;AAAA;AAAA,qBAGNA,QAAQ,CAACC,OAHH;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAIdN,cAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBI,QAAxB;AACApC,cAAAA,OAAO,iCACFD,IADE;AAELkC,gBAAAA,cAAc,EAAEnC,KAAF,aAAEA,KAAF,0CAAEA,KAAK,CAAEyB,OAAT,6EAAE,gBAAgBK,QAAlB,0DAAE,sBAA0BC;AAFrC,iBAAP;AAIIS,cAAAA,aATU,GASMxC,KATN,aASMA,KATN,0CASMA,KAAK,CAAEyB,OATb,6EASM,gBAAgBK,QATtB,oFASM,sBAA0BC,KAThC,2DASM,uBAAiCS,aATvC;AAUdxB,cAAAA,mBAAmB,CAACsB,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAErC,IAAX,CAAnB;;AACA,kBAAIuC,aAAa,IAAI,WAArB,EAAkC;AAChCC,gBAAAA,YAAY,CAAC,YAAD,EAAeH,QAAf,aAAeA,QAAf,uBAAeA,QAAQ,CAAErC,IAAzB,CAAZ;AACD,eAFD,MAEO;AACDyC,gBAAAA,KADC,GACOJ,QADP,aACOA,QADP,uBACOA,QAAQ,CAAErC,IAAV,CAAe0C,aADtB;AAEDC,gBAAAA,IAFC,GAEMC,qBAAqB,CAACH,KAAD,CAF3B;AAGLT,gBAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBU,IAApB;AACAxC,gBAAAA,cAAc,CAACwC,IAAD,CAAd;AACD;;AAlBa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAATf,SAAS;AAAA;AAAA;AAAA,KAAf;;AAsBA,MAAMY,YAAY,GAAG,SAAfA,YAAe,CAACK,MAAD,EAAqB;AAAA,sCAATC,IAAS;AAATA,MAAAA,IAAS;AAAA;;AACxCd,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBa,IAApB;AACA,QAAIL,KAAJ;;AACA,QAAII,MAAM,IAAI,YAAd,EAA4B;AAC1BxB,MAAAA,cAAc,CAAC,KAAD,CAAd;AACAF,MAAAA,cAAc,CAAC,KAAD,CAAd;AACAF,MAAAA,eAAe,CAAC,IAAD,CAAf;AACA,UAAI8B,gBAAgB,GAAG,CAAC,MAAD,EAAS,UAAT,CAAvB;AACAN,MAAAA,KAAK,GAAG3B,gBAAgB,IAAIkC,SAApB,GACJF,IAAI,CAAC,CAAD,CAAJ,CAAQJ,aAAR,CAAsBO,MAAtB,CAA6B,UAAAC,EAAE;AAAA;;AAAA,eAAIH,gBAAgB,CAACI,QAAjB,kBAA0BD,EAAE,CAACE,SAA7B,kDAA0B,cAAcC,IAAxC,CAAJ;AAAA,OAA/B,CADI,GAEJvC,gBAAgB,CAAC4B,aAAjB,CAA+BO,MAA/B,CAAsC,UAAAC,EAAE;AAAA;;AAAA,eAAIH,gBAAgB,CAACI,QAAjB,mBAA0BD,EAAE,CAACE,SAA7B,mDAA0B,eAAcC,IAAxC,CAAJ;AAAA,OAAxC,CAFJ;AAGD,KARD,MAQO,IAAIR,MAAM,IAAI,WAAd,EAA2B;AAChC5B,MAAAA,eAAe,CAAC,KAAD,CAAf;AACAI,MAAAA,cAAc,CAAC,KAAD,CAAd;AACAF,MAAAA,cAAc,CAAC,IAAD,CAAd;AACA,UAAImC,eAAe,GAAG,CAAC,SAAD,EAAY,QAAZ,EAAsB,WAAtB,CAAtB;AACAb,MAAAA,KAAK,GAAG3B,gBAAgB,CAAC4B,aAAjB,CAA+BO,MAA/B,CAAsC,UAAAC,EAAE;AAAA;;AAAA,eAAII,eAAe,CAACH,QAAhB,mBAAyBD,EAAE,CAACE,SAA5B,mDAAyB,eAAcC,IAAvC,CAAJ;AAAA,OAAxC,CAAR;AACD,KANM,MAMA;AACLpC,MAAAA,eAAe,CAAC,KAAD,CAAf;AACAE,MAAAA,cAAc,CAAC,KAAD,CAAd;AACAE,MAAAA,cAAc,CAAC,IAAD,CAAd;AACA,UAAIkC,eAAe,GAAG,CAAC,QAAD,EAAW,OAAX,CAAtB;AACAd,MAAAA,KAAK,GAAG3B,gBAAgB,CAAC4B,aAAjB,CAA+BO,MAA/B,CAAsC,UAAAC,EAAE;AAAA;;AAAA,eAAIK,eAAe,CAACJ,QAAhB,mBAAyBD,EAAE,CAACE,SAA5B,mDAAyB,eAAcC,IAAvC,CAAJ;AAAA,OAAxC,CAAR;AACD;;AACDrB,IAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBQ,KAAjB;AACA,QAAIE,IAAI,GAAGC,qBAAqB,CAACH,KAAD,CAAhC;AACAT,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBU,IAApB;AACAxC,IAAAA,cAAc,CAACwC,IAAD,CAAd;AACD,GA5BD;;AA8BA,MAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACY,UAAD,EAAqB;AACjD,WAAOA,UAAU,CAACC,MAAX,CAAkB,UAAUC,GAAV,SAA4B;AAAA,UAARC,IAAQ;AACnD,UAAMC,GAAG,aAAMD,IAAI,CAACE,SAAX,cAAwBF,IAAI,CAACG,aAA7B,CAAT;AACA,OAACJ,GAAG,CAACE,GAAD,CAAH,GAAWF,GAAG,CAACE,GAAD,CAAH,IAAY,EAAxB,EAA4BG,IAA5B,CAAiCJ,IAAjC;AACA,aAAOD,GAAP;AACD,KAJM,EAIJ,EAJI,CAAP;AAKD,GAND;;AAQA,MAAMM,mBAAmB;AAAA,yEAAG,kBAAOC,GAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAGlBjC,OAAO,CAACkC,IAAR,CAAa,gBAAb,EAA+BC,IAAI,CAACC,SAAL,CAAepE,IAAI,CAACwD,UAApB,CAA/B,CAHkB;;AAAA;AAAA;AAAA,qBAIHnE,oCAAoC,CAACG,WAAW,CAAC6E,yBAAb,EAAwCJ,GAAxC,CAJjC;;AAAA;AAIpB5B,cAAAA,QAJoB;AAAA;AAAA,qBAKlBL,OAAO,CAACkC,IAAR,CAAa,SAAb,EAAwBC,IAAI,CAACC,SAAL,CAAeH,GAAG,CAACL,GAAnB,CAAxB,CALkB;;AAAA;AAAA,oBAMpBvB,QANoB,aAMpBA,QANoB,uBAMpBA,QAAQ,CAAEC,OANU;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAOhB,OAAOtC,IAAI,CAACwD,UAAL,CAAgBS,GAAG,CAACL,GAApB,CAPS;;AAAA;AAAA;AAAA,qBAQR;AAAEU,gBAAAA,OAAO,EAAEtE,IAAI,CAACsE,OAAhB;AAAyBd,gBAAAA,UAAU,EAAExD,IAAI,CAACwD;AAA1C,eARQ;;AAAA;AAQlBe,cAAAA,CARkB;AAStBvC,cAAAA,OAAO,CAACkC,IAAR,CAAa,iBAAb,EAAgCK,CAAhC;AATsB;AAAA,qBAUhBtE,OAAO,CAACsE,CAAD,CAVS;;AAAA;AAWtB/C,cAAAA,OAAO,CAACuC,IAAR,CAAa,sBAAqB/D,IAArB,aAAqBA,IAArB,+CAAqBA,IAAI,CAAEkC,cAA3B,yDAAqB,qBAAsBsC,UAA3C,CAAb;;AAXsB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,qBAclBxC,OAAO,CAACC,GAAR,CAAY,eAAZ,eAdkB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAnB+B,mBAAmB;AAAA;AAAA;AAAA,KAAzB;;AAkBA,MAAMS,YAAY,GAAG,SAAfA,YAAe,CAACd,IAAD,EAAOe,UAAP,EAAsB;AACzC1C,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsByC,UAAtB;;AACA,QAAIA,UAAJ,EAAgB;AAAA;;AACdrE,MAAAA,aAAa,CAAC,KAAD,CAAb;AACAG,MAAAA,eAAe,CAACmE,aAAhB,GAAgChB,IAAI,CAACiB,kBAArC;AACA5C,MAAAA,OAAO,CAACC,GAAR,CAAYzB,eAAZ;AACAwD,MAAAA,mBAAmB,CAACxD,eAAD,CAAnB;AACAwB,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBjC,IAAtB,aAAsBA,IAAtB,gDAAsBA,IAAI,CAAEkC,cAA5B,0DAAsB,sBAAsBsC,UAA5C;AACD,KAND,MAMO,CAEN;AACF,GAXD;;AAaA,MAAMK,UAAU,GAAG;AACjBC,IAAAA,MAAM,EAAE1E,UADS;AAEjBE,IAAAA,OAAO,EAAEA,OAFQ;AAGjByE,IAAAA,OAAO,EAAE,uBAHQ;AAIjBC,IAAAA,IAAI,EAAE,4CAJW;AAKjBC,IAAAA,WAAW,EAAER,YALI;AAMjBS,IAAAA,MAAM,EAAE,CACN;AACEC,MAAAA,IAAI,EAAE,oBADR;AAEEC,MAAAA,IAAI,EAAE,UAFR;AAGEC,MAAAA,WAAW,EAAE,0BAHf;AAIEC,MAAAA,QAAQ,EAAE;AAJZ,KADM,CANS;AAcjBC,IAAAA,QAAQ,EAAE,2HAdO,CAejB;;AAfiB,GAAnB;;AAkBA,MAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACvB,GAAD,EAAS;AAClCjC,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BgC,GAA5B;AACA,QAAIlE,KAAK,GAAG;AACV0F,MAAAA,OAAO,EAAE;AACPC,QAAAA,sBAAsB,EAAEzB,GAAG,CAACyB,sBADrB;AAEPC,QAAAA,oBAAoB,EAAE1B,GAAF,aAAEA,GAAF,uBAAEA,GAAG,CAAE0B,oBAFpB;AAGPC,QAAAA,WAAW,EAAE3B,GAAF,aAAEA,GAAF,uBAAEA,GAAG,CAAE2B,WAHX;AAIPC,QAAAA,WAAW,EAAE5B,GAAF,aAAEA,GAAF,uBAAEA,GAAG,CAAE4B,WAJX;AAKPC,QAAAA,YAAY,EAAE7B,GAAF,aAAEA,GAAF,uBAAEA,GAAG,CAAE6B,YALZ;AAMPC,QAAAA,QAAQ,EAAE9B,GAAF,aAAEA,GAAF,uBAAEA,GAAG,CAAE+B,YANR;AAOPC,QAAAA,qBAAqB,EAAEhC,GAAF,aAAEA,GAAF,uBAAEA,GAAG,CAAEiC,aAPrB;AAQPC,QAAAA,SAAS,EAAElC,GAAF,aAAEA,GAAF,uBAAEA,GAAG,CAAEmC,gBART;AASPC,QAAAA,gBAAgB,EAAEpC,GAAF,aAAEA,GAAF,uBAAEA,GAAG,CAAEoC,gBAThB;AAUPC,QAAAA,oBAAoB,EAAErC,GAAF,aAAEA,GAAF,uBAAEA,GAAG,CAAEqC,oBAVpB;AAWPC,QAAAA,MAAM,EAAEtC,GAAF,aAAEA,GAAF,uBAAEA,GAAG,CAAEsC;AAXN,OADC;AAcVjC,MAAAA,OAAO,EAAEtE,IAAI,CAACwG,OAdJ;AAeVC,MAAAA,eAAe,EAAE;AAfP,KAAZ;AAiBAjF,IAAAA,OAAO,CAACuC,IAAR,CAAa,aAAb,EAA4BhE,KAA5B;AACD,GApBD;;AAsBA,MAAM2G,SAAS,GAAG,SAAZA,SAAY,CAAC/C,IAAD,EAAU;AAC1BnC,IAAAA,OAAO,CAACuC,IAAR,CAAa,QAAb,EAAuBJ,IAAvB;AACD,GAFD;;AAIA,MAAMgD,cAAc,GAAG,SAAjBA,cAAiB,CAAC1C,GAAD,EAAM2C,EAAN,EAAa;AAClC5E,IAAAA,OAAO,CAACkC,IAAR,CAAa,OAAb,EAAsBC,IAAI,CAACC,SAAL,CAAepE,IAAI,CAACsE,OAApB,CAAtB;AACAtC,IAAAA,OAAO,CAACkC,IAAR,CAAa,MAAb,EAAqBC,IAAI,CAACC,SAAL,CAAeH,GAAf,CAArB;AACA,QAAI4C,UAAU,GAAG;AACfR,MAAAA,gBAAgB,EAAEpC,GAAG,CAACoC,gBADP;AAEfC,MAAAA,oBAAoB,EAAErC,GAAG,CAACqC,oBAFX;AAGfF,MAAAA,gBAAgB,EAAEnC,GAAG,CAACmC,gBAHP;AAIfhD,MAAAA,SAAS,EAAE;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAJI;AAKfO,MAAAA,GAAG,EAAEgD;AALU,KAAjB;AAOAvG,IAAAA,aAAa,CAAC,IAAD,CAAb;AACAE,IAAAA,UAAU,CAAC0D,GAAG,CAACmC,gBAAL,CAAV;AACA3F,IAAAA,kBAAkB,CAACoG,UAAD,CAAlB;AACD,GAbD;;AAeA,MAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AAAA;;AACnBtF,IAAAA,OAAO,CAACuC,IAAR,CAAa,sBAAqB/D,IAArB,aAAqBA,IAArB,gDAAqBA,IAAI,CAAEkC,cAA3B,0DAAqB,sBAAsBsC,UAA3C,CAAb;AACD,GAFD;;AAIA,MAAMuC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxB/E,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAtB,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACD,GAHD;;AAKA,WAASqG,cAAT,GAA0B;AAAA;;AACxB,wBACE;AAAK,MAAA,EAAE,EAAC,kBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAM,MAAA,SAAS,EAAC,YAAhB;AAA6B,MAAA,KAAK,EAAE;AAAEC,QAAAA,MAAM,EAAE,CAAV;AAAaC,QAAAA,QAAQ,EAAE;AAAvB,OAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAEE;AAAI,MAAA,SAAS,EAAC,aAAd;AAA4B,MAAA,KAAK,EAAE;AAAED,QAAAA,MAAM,EAAE;AAAV,OAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,eAKE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,GAAb;AAAiB,MAAA,KAAK,EAAE;AAAEE,QAAAA,KAAK,EAAE;AAAT,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGrG,gBAAgB,CAACsG,WADpB,SALF,eAQE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAEzH,YAAf;AAA6B,MAAA,SAAS,EAAC,YAAvC;AAAoD,MAAA,OAAO,EAAE;AAAA,eAAMkB,mBAAmB,CAAC,KAAD,CAAzB;AAAA,OAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CARF,CADF,EAaGC,gBAAgB,CAACuG,cAAjB,CAAgCpE,MAAhC,CAAuC,UAAAqE,EAAE;AAAA,aAAIA,EAAE,CAACC,WAAH,KAAmB,gBAAvB;AAAA,KAAzC,EAAkFC,GAAlF,CAAsF,UAAC7D,IAAD,EAAO8D,KAAP;AAAA,0BACrF;AAAK,QAAA,SAAS,EAAC,WAAf;AAA2B,QAAA,GAAG,EAAEA,KAAhC;AACE,QAAA,KAAK,EACH3G,gBAAgB,CAACuG,cAAjB,CAAgCpE,MAAhC,CAAuC,UAAAqE,EAAE,EAAI;AAC3C,iBAAQA,EAAE,CAACC,WAAH,KAAmB,gBAA3B;AACD,SAFD,EAEGG,MAFH,IAEaD,KAAK,GAAG,CAFrB,GAEyB;AAAEE,UAAAA,OAAO,EAAE;AAAX,SAFzB,GAE+C;AAAEC,UAAAA,YAAY,EAAE,mBAAhB;AAAqCD,UAAAA,OAAO,EAAE;AAA9C,SAJnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAIE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGhE,IAAI,CAACkE,iBADR,CAJF,eAOE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGlE,IAAI,CAACmE,cADR,SAPF,CALF,eAgBE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAIE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,eAOE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGnE,IAAI,CAACoE,QADR,SAPF,CAhBF,eA2BE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAiC,QAAA,IAAI,EAAC,GAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAIE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGpE,IAAI,CAACqE,WADR,SAJF,CA3BF,CADqF;AAAA,KAAtF,CAbH,eAkDE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,WAAlB;AAA8B,MAAA,KAAK,EAAE;AAAEJ,QAAAA,YAAY,EAAE;AAAhB,OAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,IAAI,EAAC,GAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG9G,gBAAgB,CAACmH,oBADpB,SAJF,CAlDF,EA0DGnH,gBAAgB,CAACuG,cAAjB,CAAgCpE,MAAhC,CAAuC,UAAAqE,EAAE;AAAA,aAAIA,EAAE,CAACC,WAAH,KAAmB,gBAAvB;AAAA,KAAzC,EAAkFC,GAAlF,CAAsF,UAAC7D,IAAD,EAAO8D,KAAP;AAAA,0BACrF;AAAK,QAAA,SAAS,EAAC,WAAf;AAA2B,QAAA,GAAG,EAAEA,KAAhC;AACE,QAAA,KAAK,EACH3G,gBAAgB,CAACuG,cAAjB,CAAgCpE,MAAhC,CAAuC,UAAAqE,EAAE,EAAI;AAAE,iBAAQA,EAAE,CAACC,WAAH,KAAmB,gBAA3B;AAA8C,SAA7F,EAA+FG,MAA/F,IAAyGD,KAAK,GAAG,CAAjH,GAAqH,EAArH,GAA0H;AAAEG,UAAAA,YAAY,EAAE;AAAhB,SAF9H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAGE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,eAIE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGjE,IAAI,CAACkE,iBADR,CAJF,eAOE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGlE,IAAI,CAACmE,cADR,SAPF,CAHF,eAcE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAIE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,eAOE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGnE,IAAI,CAACoE,QADR,SAPF,CAdF,eAyBE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAiC,QAAA,IAAI,EAAC,GAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAIE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGpE,IAAI,CAACqE,WADR,SAJF,CAzBF,CADqF;AAAA,KAAtF,CA1DH,eA6FE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,WAAlB;AAA8B,MAAA,KAAK,EAAE;AAAEJ,QAAAA,YAAY,EAAE,mBAAhB;AAAqCM,QAAAA,aAAa,EAAE,MAApD;AAA4DC,QAAAA,UAAU,EAAE;AAAxE,OAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,IAAI,EAAC,GAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGrH,gBAAgB,CAACsH,gBADpB,SAJF,CA7FF,eAqGE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,WAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,IAAI,EAAC,GAAtC;AAA0C,MAAA,KAAK,EAAE;AAAElB,QAAAA,QAAQ,EAAE;AAAZ,OAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAIE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE,SAAT;AAAoBD,QAAAA,QAAQ,EAAE;AAA9B,OAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGpG,gBAAgB,CAACsG,WADpB,SAJF,CArGF,CADF,CADF;AAkHD;;AAED,WAASiB,cAAT,GAA0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACxB,wBACE;AAAK,MAAA,EAAE,EAAC,kBAAR;AAA2B,MAAA,KAAK,EAAE;AAAEC,QAAAA,WAAW,EAAE;AAAf,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,aAAD;AAAe,MAAA,KAAK,EAAE,SAAtB;AAAiC,MAAA,IAAI,EAAE,IAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,eAIE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,IAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAM,MAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8BtI,IAA9B,aAA8BA,IAA9B,gDAA8BA,IAAI,CAAEkC,cAApC,0DAA8B,sBAAsBH,aAApD,CADF,eAEE;AAAI,MAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAJF,eAQE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAEpC,YAAf;AAA6B,MAAA,SAAS,EAAC,YAAvC;AAAoD,MAAA,OAAO,EAAE;AAAA,eAAMgB,YAAY,CAAC,KAAD,CAAlB;AAAA,OAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CARF,CADF,eAaE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,UAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,IAAI,EAAC,GAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAIE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAJF,CAbF,eAqBE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,WAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,IAAI,EAAC,GAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGX,IADH,aACGA,IADH,gDACGA,IAAI,CAAEkC,cADT,0DACG,sBAAsBqG,aADzB,CADF,eAIE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGvI,IADH,aACGA,IADH,gDACGA,IAAI,CAAEkC,cADT,0DACG,sBAAsBsG,gBADzB,CAJF,CArBF,EA6BG,CAAAxI,IAAI,SAAJ,IAAAA,IAAI,WAAJ,qCAAAA,IAAI,CAAEkC,cAAN,gFAAsBuG,gBAAtB,MAA2C,IAA3C,iBAAmD,uDAClD,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,UAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,CADkD,eAMlD,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,WAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGzI,IADH,aACGA,IADH,gDACGA,IAAI,CAAEkC,cADT,0DACG,sBAAsBuG,gBADzB,CADF,CANkD,CA7BtD,eAyCE;AAAK,MAAA,KAAK,EAAE;AAAEN,QAAAA,UAAU,EAAE,MAAd;AAAsBD,QAAAA,aAAa,EAAE;AAArC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,WAAlB;AAA8B,MAAA,KAAK,EAAE;AAAEA,QAAAA,aAAa,EAAE,MAAjB;AAAyBhB,QAAAA,QAAQ,EAAE;AAAnC,OAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,CADF,EAMGpG,gBAAgB,CAACuG,cAAjB,CAAgCpE,MAAhC,CAAuC,UAAAqE,EAAE;AAAA,aAAIA,EAAE,CAACC,WAAH,KAAmB,gBAAvB;AAAA,KAAzC,EAAkFC,GAAlF,CAAsF,UAAC7D,IAAD,EAAO8D,KAAP;AAAA,0BACrF,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,WAAlB;AAA8B,QAAA,GAAG,EAAEA,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAiC,QAAA,IAAI,EAAC,GAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG9D,IAAI,CAACkE,iBADR,CADF,eAIE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGlE,IAAI,CAACqE,WADR,SAJF,CADqF;AAAA,KAAtF,CANH,EAgBGlH,gBAAgB,CAACuG,cAAjB,CAAgCpE,MAAhC,CAAuC,UAAAqE,EAAE;AAAA,aAAIA,EAAE,CAACC,WAAH,KAAmB,SAAnB,IAAgCD,EAAE,CAACC,WAAH,KAAmB,UAAvD;AAAA,KAAzC,EAA4GC,GAA5G,CAAgH,UAAC7D,IAAD,EAAO8D,KAAP;AAAA,0BAC/G,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,WAAlB;AAA8B,QAAA,GAAG,EAAEA,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAiC,QAAA,IAAI,EAAC,GAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG9D,IAAI,CAACkE,iBADR,CADF,eAIE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGlE,IAAI,CAACqE,WADR,SAJF,CAD+G;AAAA,KAAhH,CAhBH,eA0BE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,WAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,IAAI,EAAC,GAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAIE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGlH,gBAAgB,CAACsG,WADpB,SAJF,CA1BF,CAzCF,eA4EE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,SAAD;AACE,MAAA,SAAS,EAAC,gBADZ;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,OAAO,EAAE,mBAAM;AACbzG,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACA+H,QAAAA,UAAU,CAAC,YAAM;AACf7H,UAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACD,SAFS,EAEP,IAFO,CAAV;AAGD,OARH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADA,CADF,EAeG,CAAAb,IAAI,SAAJ,IAAAA,IAAI,WAAJ,qCAAAA,IAAI,CAAEkC,cAAN,gFAAsBK,aAAtB,KAAuC,MAAvC,iBAAiD,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAClD,oBAAC,SAAD;AACE,MAAA,SAAS,EAAC,WADZ;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,OAAO,EAAE;AAAA;;AAAA,eAAMoG,WAAW,CAAC3I,IAAD,aAACA,IAAD,iDAACA,IAAI,CAAEkC,cAAP,2DAAC,uBAAsBH,aAAvB,CAAjB;AAAA,OAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADkD,CAfpD,CA5EF,CADF,CADF;AA0GD;;AAxZ6C,WA0Z/B6G,kBA1Z+B;AAAA;AAAA;;AAAA;AAAA,mFA0Z9C,kBAAkCC,GAAlC,EAAuCC,KAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AACEpH,cAAAA,MAAM,GAAGoH,KAAT;AAEArH,cAAAA,GAAG,GAAG5B,YAAY,CAACkJ,MAAb,CAAoBF,GAApB,EAAyB,QAAzB,EAAmClH,OAAnC,CAAN;AAEIqH,cAAAA,MALN,GAKevH,GAAG,CAACwH,EAAJ,CAAO,UAAP,EAAmBC,SAAnB;AAAA,qFAA6B,kBAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCACjBC,mBAAmB,CAACD,KAAK,CAACN,GAAP,EAAYC,KAAZ,CADF;;AAAA;AACtCO,0BAAAA,YADsC;;AAAA,+BAElCA,YAFkC;AAAA;AAAA;AAAA;;AAAA;AAAA,iCAGrBA,YAHqB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAA7B;;AAAA;AAAA;AAAA;AAAA,kBALf;AAaE5H,cAAAA,GAAG,CAACwH,EAAJ,CAAO,MAAP,EAAeC,SAAf,wEACI;AAAA;AAAA;AAAA;AAAA;AACIlH,wBAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAqH,wBAAAA,kBAAkB,CAACR,KAAD,CAAlB;;AAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,IAKI,UAACS,GAAD,EAAS;AACLvH,gBAAAA,OAAO,CAACC,GAAR,CAAYsH,GAAZ;AACH,eAPL;AAbF;AAAA,qBAsBeP,MAtBf;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KA1Z8C;AAAA;AAAA;;AAAA,WAmbjCI,mBAnbiC;AAAA;AAAA;;AAAA;AAAA,oFAmbhD,kBAAmCP,GAAnC,EAAwCC,KAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACQD,GAAG,CAAC1F,QAAJ,CAAa,qCAAb,CADR;AAAA;AAAA;AAAA;;AAEQ1B,cAAAA,GAAG,CAAC+H,KAAJ;AAFR;AAAA,qBAG6B/H,GAAG,CAACwH,EAAJ,CAAO,MAAP,EAAeC,SAAf,wEACjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADiB,IAEjB,UAACK,GAAD,EAAS;AACLvH,gBAAAA,OAAO,CAACC,GAAR,CAAYsH,GAAZ;AACH,eAJgB,CAH7B;;AAAA;AAGYE,cAAAA,QAHZ;AAAA;AAAA,qBASyBH,kBAAkB,CAACR,KAAD,CAT3C;;AAAA;AASYY,cAAAA,IATZ;AAAA;AAAA,qBAUqBA,IAVrB;;AAAA;AAAA;;AAAA;AAAA,gDAYe,KAZf;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAnbgD;AAAA;AAAA;;AAAA,WAmcjCJ,kBAnciC;AAAA;AAAA;;AAAA;AAAA,mFAmchD,kBAAkCR,KAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AACQ1G,cAAAA,MADR,GACiB5C,WAAW,CAACmK,wBAAZ,GAAuCb,KADxD;AAAA;AAAA,qBAEyBxJ,wBAAwB,CAAC8C,MAAD,CAFjD;;AAAA;AAEQC,cAAAA,QAFR;AAAA;AAAA,qBAGcA,QAAQ,CAACC,OAHvB;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,oBAIYD,QAAQ,CAACrC,IAAT,CAAcA,IAAd,CAAmB4J,SAAnB,CAA6B,CAA7B,EAAgC/G,MAAhC,IAA0C,MAJtD;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAKkBtB,cAAc,CAAC,SAAD,CALhC;;AAAA;AAAA;AAAA;;AAAA;AAAA,oBAMmBc,QAAQ,CAACrC,IAAT,CAAcA,IAAd,CAAmB4J,SAAnB,CAA6B,CAA7B,EAAgC/G,MAAhC,IAA0C,MAN7D;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAOkBtB,cAAc,CAAC,MAAD,CAPhC;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,qBASkBA,cAAc,CAAC,SAAD,CAThC;;AAAA;AAAA,gDAWec,QAXf;;AAAA;AAAA,gDAaWA,QAbX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAncgD;AAAA;AAAA;;AAAA,WAmdjCsG,WAndiC;AAAA;AAAA;;AAAA;AAAA,4EAmdhD,kBAA2B5G,aAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AACQK,cAAAA,MADR,GACiB5C,WAAW,CAACqK,eAAZ,GAA8B9H,aAD/C;AAAA;AAAA,qBAEyBxC,gCAAgC,CAAC6C,MAAD,CAFzD;;AAAA;AAEQC,cAAAA,QAFR;AAAA;AAAA,qBAGcA,QAAQ,CAACC,OAHvB;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAIwBD,QAAQ,CAACrC,IAAT,CAAcA,IAAd,CAAmB4J,SAAnB,CAA6B,CAA7B,EAAgCf,GAJxD;;AAAA;AAIYA,cAAAA,GAJZ;AAAA;AAAA,qBAK0BxG,QAAQ,CAACrC,IAAT,CAAcA,IAAd,CAAmB4J,SAAnB,CAA6B,CAA7B,EAAgCE,aAL1D;;AAAA;AAKYhB,cAAAA,KALZ;AAAA;AAAA,qBAMcF,kBAAkB,CAACC,GAAD,EAAMC,KAAN,CANhC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAndgD;AAAA;AAAA;;AA6d9C,WAASiB,iBAAT,GAA6B;AAC3B,wBACE,oBAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAE/I,YAAY,GAAG,SAAH,GAAe,aAA9C;AAA6D,MAAA,OAAO,EAAE;AAAA,eAAMwB,YAAY,CAAC,YAAD,CAAlB;AAAA,OAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAIE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAEtB,WAAW,GAAG,SAAH,GAAe,aAA7C;AAA4D,MAAA,OAAO,EAAE;AAAA,eAAMsB,YAAY,CAAC,WAAD,CAAlB;AAAA,OAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAJF,eAOE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAEpB,WAAW,GAAG,SAAH,GAAe,aAA7C;AAA4D,MAAA,OAAO,EAAE;AAAA,eAAMoB,YAAY,CAAC,WAAD,CAAlB;AAAA,OAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAPF,CADF;AAaD;;AAED,WAASwH,gBAAT,CAA0BC,KAA1B,EAAiC;AAAA;;AAC/B,wBACE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,oBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,GAAb;AAAiB,MAAA,SAAS,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACGA,KAAK,CAACC,GADT,+CACG,WAAWC,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CADH,CADF,EAIG,gBAAAF,KAAK,CAACC,GAAN,4DAAWC,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,OAA6BnH,SAA7B,iBAA0C,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,MAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACzC,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADyC,eAEzC,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAWiH,KAAK,CAACC,GAAjB,gDAAW,YAAWC,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAAX,CAFyC,CAJ7C,CADF;AAWD;;AAED,WAASC,gBAAT,GAA4B;AAAA;;AAC1B,wBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,uBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,GAAb;AAAiB,MAAA,SAAS,EAAC,eAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD;AAAS,MAAA,GAAG,EAAC,4BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,eAIE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,KAAb;AAAmB,MAAA,SAAS,EAAC,cAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,WAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACG,CAAC,CAAApK,IAAI,SAAJ,IAAAA,IAAI,WAAJ,sCAAAA,IAAI,CAAEkC,cAAN,kFAAsBmI,cAAtB,IAAuC,EAAxC,EAA4CC,QAA5C,CAAqD,CAArD,EAAwD,GAAxD,CADH,iDACmE,CADnE,CADF,CADF,eAME,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,YAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CANF,CAJF,eAcE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,GAAb;AAAiB,MAAA,SAAS,EAAC,eAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD;AAAS,MAAA,GAAG,EAAC,6BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAdF,eAiBE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,KAAb;AAAmB,MAAA,SAAS,EAAC,cAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,WAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACG,CAAC,CAAAtK,IAAI,SAAJ,IAAAA,IAAI,WAAJ,sCAAAA,IAAI,CAAEkC,cAAN,kFAAsBqI,UAAtB,IAAmC,EAApC,EAAwCD,QAAxC,CAAiD,CAAjD,EAAoD,GAApD,CADH,mDAC+D,CAD/D,CADF,CADF,eAME,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,YAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CANF,CAjBF,eA2BE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,GAAb;AAAiB,MAAA,SAAS,EAAC,0BAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD;AAAS,MAAA,GAAG,EAAC,oCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CA3BF,eA8BE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,KAAb;AAAmB,MAAA,SAAS,EAAC,oBAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,WAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgCtK,IAAhC,aAAgCA,IAAhC,iDAAgCA,IAAI,CAAEkC,cAAtC,2DAAgC,uBAAsB8F,WAAtD,UADF,CA9BF,CADF,CADF;AAsCD;;AAED,sBACE,oBAAC,OAAD;AAAS,IAAA,EAAE,EAAC,mBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAEhI,IAAF,aAAEA,IAAF,iDAAEA,IAAI,CAAEkC,cAAR,2DAAE,uBAAsBH,aAArC;AAAoD,IAAA,MAAM,EAAC,MAA3D;AAAkE,IAAA,UAAU,EAAE,IAA9E;AAAoF,IAAA,SAAS,EAAE;AAAA,aAAM+E,MAAM,EAAZ;AAAA,KAA/F;AAA+G,IAAA,WAAW,EAAE,IAA5H;AAAkI,IAAA,SAAS,EAAEC,WAA7I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEG,CAAA/G,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEkC,cAAN,MAAyBc,SAAzB,iBAAsC,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFzC,eAGE,oBAAC,UAAD;AACE,IAAA,UAAU,MADZ;AAEE,IAAA,YAAY,EAAE,IAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE,oBAAC,YAAD;AACE,IAAA,SAAS,EAAEtC,SADb;AAEE,IAAA,gBAAgB,EAAE,0BAACmC,MAAD;AAAA,aAAYlC,YAAY,CAACkC,MAAD,CAAxB;AAAA,KAFpB;AAGE,IAAA,OAAO,eAAE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,eASE,oBAAC,YAAD;AACE,IAAA,SAAS,EAAEjC,gBADb;AAEE,IAAA,gBAAgB,EAAE,0BAACiC,MAAD,EAAY;AAAEhC,MAAAA,mBAAmB,CAACgC,MAAD,CAAnB;AAA8B,KAFhE;AAGE,IAAA,OAAO,eAAE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,EAcG,CAAA7C,IAAI,SAAJ,IAAAA,IAAI,WAAJ,sCAAAA,IAAI,CAAEkC,cAAN,kFAAsBK,aAAtB,KAAuC,WAAvC,iBACC,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfJ,EAgBGrC,WAAW,KAAK8C,SAAhB,IAA6BwH,MAAM,CAACC,IAAP,CAAYvK,WAAZ,EAAyBsH,GAAzB,CAA6B,UAAC0C,GAAD,EAAMzC,KAAN;AAAA;;AAAA,wBACzD;AAAK,MAAA,GAAG,EAAEA,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,CAAAzH,IAAI,SAAJ,IAAAA,IAAI,WAAJ,sCAAAA,IAAI,CAAEkC,cAAN,kFAAsBK,aAAtB,MAAwC,WAAxC,iBACC,oBAAC,gBAAD;AAAkB,MAAA,GAAG,EAAE2H,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGGhK,WAAW,CAACgK,GAAD,CAAX,CAAiB1C,GAAjB,CAAqB,UAAC7D,IAAD,EAAO8D,KAAP;AAAA;;AAAA,0BACpB,oBAAC,aAAD;AACE,QAAA,aAAa,EAAEzH,IAAF,aAAEA,IAAF,iDAAEA,IAAI,CAAEkC,cAAR,2DAAE,uBAAsBK,aADvC;AAEE,QAAA,GAAG,EAAEkF,KAFP;AAGE,QAAA,QAAQ,EAAE1H,KAAF,aAAEA,KAAF,0CAAEA,KAAK,CAAE8B,QAAT,6EAAE,gBAAiBC,KAAnB,0DAAE,sBAAwB4I,QAHpC;AAIE,QAAA,gBAAgB,EAAE/G,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEyC,gBAJ1B;AAKE,QAAA,aAAa,EAAEzC,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEgH,gBALvB;AAME,QAAA,cAAc,EAAEhH,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEiH,cANxB;AAOE,QAAA,YAAY,EAAEjH,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEkC,WAPtB;AAQE,QAAA,QAAQ,EAAElC,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEuC,aARlB;AASE,QAAA,aAAa,EAAElG,IAAF,aAAEA,IAAF,iDAAEA,IAAI,CAAEkC,cAAR,2DAAE,uBAAsBH,aATvC;AAUE,QAAA,QAAQ,EAAE4B,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEkH,SAVlB;AAWE,QAAA,SAAS,EAAElH,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEE,SAXnB;AAYE,QAAA,eAAe,EAAEF,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEmH,eAZzB;AAaE,QAAA,OAAO,EAAEnH,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEoH,QAbjB;AAcE,QAAA,aAAa,EAAEpH,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEqH,aAdvB;AAeE,QAAA,eAAe,EAAErH,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEsH,eAfzB;AAgBE,QAAA,QAAQ,EAAEtH,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEuH,QAhBlB;AAiBE,QAAA,aAAa,EAAEvH,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEgB,aAjBvB;AAkBE,QAAA,eAAe,EAAEhB,IAAF,aAAEA,IAAF,0CAAEA,IAAI,CAAEP,SAAR,oDAAE,gBAAiBC,IAlBpC;AAmBE,QAAA,aAAa,EAAEM,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEwH,aAnBvB;AAoBE,QAAA,SAAS,EAAE,qBAAM;AACf3F,UAAAA,kBAAkB,CAAC7B,IAAD,CAAlB;AACD,SAtBH;AAuBE,QAAA,UAAU,EAAE;AAAA,iBAAM+C,SAAS,CAAC/C,IAAD,CAAf;AAAA,SAvBd;AAwBE,QAAA,UAAU,EAAE,sBAAM;AAChBgD,UAAAA,cAAc,CAAChD,IAAD,EAAO8D,KAAP,CAAd;AACD,SA1BH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADoB;AAAA,KAArB,CAHH,CADyD;AAAA,GAA7B,CAhBhC,EAmDG+C,MAAM,CAACC,IAAP,CAAYvK,WAAZ,EAAyBwH,MAAzB,KAAoC,CAApC,IAAyCxH,WAAW,CAACkL,WAAZ,KAA4BZ,MAArE,iBACC,oBAAC,OAAD;AAAS,IAAA,SAAS,EAAC,QAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,CADF,CApDJ,eA2DE,oBAAC,KAAD;AAAO,IAAA,UAAU,EAAE3F,UAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA3DF,CAHF,CADF;AAsFD","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { IonGrid, IonCol, IonContent, IonIcon, IonLabel, IonPage, IonRow, IonText, IonToolbar, IonButton, IonCard, IonCardContent } from \"@ionic/react\";\r\nimport ContainerCard from \"../containerDetails/containerCard/ContainerCard\";\r\nimport Header from \"../../../components/Header\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { httpPostCallWithoutHeaderAndWithBody, httpGetCallWithoutHeader, httpPostCallWithoutHeaderAndBody } from \"../../../services/EndPointApi\";\r\nimport * as EndPointURL from \"../../../util/EndPointURL\";\r\nimport \"./ContainerDetails.scss\";\r\nimport Alert from \"../../../components/alert/Alert\";\r\nimport SlideUpModal from \"../../../components/PopUp/SlideUpModal\";\r\nimport { closeOutline } from \"ionicons/icons\";\r\nimport RoundedAvatar from \"../../../components/Avatar/RoundedAvatar\";\r\nimport { InAppBrowser } from \"@ionic-native/in-app-browser\";\r\n\r\nexport default function ContainerDetails(value) {\r\n  const [data, setData] = useState<any>({});\r\n  const [groupedData, setGroupedData] = useState<any>({});\r\n  const [] = useState(false);\r\n  const [alertPopup, setAlertPopup] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [deleteContainer, setDeleteContainer] = useState<any>({});\r\n  const [showModal, setShowModal] = useState<boolean>(false);\r\n  const [showPaymentModal, setShowPaymentModal] = useState<boolean>(false);\r\n  const [containerDetails, setContainerDetails] = useState<any>();\r\n  const [isInProgress, setIsInProgress] = useState<boolean>(false);\r\n  const [isDelivered, setIsDelivered] = useState<boolean>(false);\r\n  const [isCompleted, setIsCompleted] = useState<boolean>(false);\r\n  const [paymentPage, setPaymentPage] = useState(\"\");\r\n  let history = useHistory();\r\n  var ref;\r\n  var txnIds;\r\n  var options = \"zoom=no,footer=no,location=no\";\r\n\r\n  useEffect(() => {\r\n    fetchData(value?.history?.location?.state?.bookingNumber);\r\n    console.log(\"booking\", data?.bookingDetails);\r\n    console.log(\"containerDetails\", containerDetails);\r\n  }, []);\r\n\r\n  const fetchData = async (referenceNumber) => {\r\n    let appUrl = EndPointURL.containerDetails + \"refNo=\" + referenceNumber;\r\n    var response = await httpGetCallWithoutHeader(appUrl);\r\n    if (await response.success) {\r\n      console.log(\"response\", response);\r\n      setData({\r\n        ...data,\r\n        bookingDetails: value?.history?.location?.state\r\n      });\r\n      let bookingStatus = value?.history?.location?.state?.bookingStatus;\r\n      setContainerDetails(response?.data);\r\n      if (bookingStatus == \"TRANSCONF\") {\r\n        OnInProgress(\"inProgress\", response?.data)\r\n      } else {\r\n        var conts = response?.data.containerList;\r\n        var list = groupingByDeclaration(conts)\r\n        console.log('list', list);\r\n        setGroupedData(list);\r\n      }\r\n    }\r\n  }\r\n\r\n  const OnInProgress = (status, ...cont) => {\r\n    console.log(\"cont\", cont);\r\n    let conts;\r\n    if (status == \"inProgress\") {\r\n      setIsCompleted(false);\r\n      setIsDelivered(false);\r\n      setIsInProgress(true);\r\n      let inProgressStatus = [\"PEND\", \"PENTRUCK\"];\r\n      conts = containerDetails == undefined\r\n        ? cont[0].containerList.filter(cL => inProgressStatus.includes(cL.refStatus?.code))\r\n        : containerDetails.containerList.filter(cL => inProgressStatus.includes(cL.refStatus?.code));\r\n    } else if (status == \"delivered\") {\r\n      setIsInProgress(false);\r\n      setIsCompleted(false);\r\n      setIsDelivered(true);\r\n      let deliveredStatus = [\"FCL_DEL\", \"PMTTOK\", \"MTTOKASGN\"];\r\n      conts = containerDetails.containerList.filter(cL => deliveredStatus.includes(cL.refStatus?.code));\r\n    } else {\r\n      setIsInProgress(false);\r\n      setIsDelivered(false);\r\n      setIsCompleted(true);\r\n      let completedStatus = [\"MT_DEL\", \"COMPL\"];\r\n      conts = containerDetails.containerList.filter(cL => completedStatus.includes(cL.refStatus?.code));\r\n    }\r\n    console.log(\"d\", conts)\r\n    var list = groupingByDeclaration(conts)\r\n    console.log('list', list);\r\n    setGroupedData(list);\r\n  }\r\n\r\n  const groupingByDeclaration = (containers: any) => {\r\n    return containers.reduce(function (acc, { ...item }) {\r\n      const key = `${item.boeNumber},${item.orderValidity}`;\r\n      (acc[key] = acc[key] || []).push(item);\r\n      return acc;\r\n    }, {});\r\n  }\r\n\r\n  const canCellationRequest = async (ctn) => {\r\n\r\n    try {\r\n      await console.info(\"BEFORE DELETE \", JSON.stringify(data.containers));\r\n      let response = await httpPostCallWithoutHeaderAndWithBody(EndPointURL.cancelRequestContainerUrl, ctn);\r\n      await console.info(\"DELETE \", JSON.stringify(ctn.key));\r\n      if (response?.success) {\r\n        await delete data.containers[ctn.key];\r\n        let r = await { booking: data.booking, containers: data.containers };\r\n        console.info(\"AFTER DELETED  \", r);\r\n        await setData(r);\r\n        history.push(\"/bookingDetails/\" + data?.bookingDetails?.cardStatus);\r\n      }\r\n    } catch (error) {\r\n      await console.log(\"ERROR +++ {} \", error);\r\n    }\r\n  };\r\n\r\n  const handleDelete = (item, actionType) => {\r\n    console.log(\"delete\", actionType)\r\n    if (actionType) {\r\n      setAlertPopup(false);\r\n      deleteContainer.cancelRemarks = item.cancellationReason;\r\n      console.log(deleteContainer);\r\n      canCellationRequest(deleteContainer);\r\n      console.log(\"status\", data?.bookingDetails?.cardStatus);\r\n    } else {\r\n\r\n    }\r\n  };\r\n\r\n  const alertProps = {\r\n    isShow: alertPopup,\r\n    message: message,\r\n    content: \"cancel the container?\",\r\n    icon: \"<img src='/assets/icon/are-you-sure.svg'/>\",\r\n    alertAction: handleDelete,\r\n    inputs: [\r\n      {\r\n        name: \"cancellationReason\",\r\n        type: 'textarea',\r\n        placeholder: 'Reason for cancellaltion',\r\n        cssClass: 'input-class',\r\n      }\r\n    ],\r\n    itemName: \"Kindly check our <a href=`https://www.google.com/`> className='link-text'>cancellation policy</a> <br/>before proceeding.\",\r\n    // cancelPolicy: true  \r\n  };\r\n\r\n  const viewContactDetails = (ctn) => {\r\n    console.log(\"   -----    \", ctn);\r\n    let value = {\r\n      contact: {\r\n        consigneeContactNumber: ctn.consigneeContactNumber,\r\n        consigneeContactName: ctn?.consigneeContactName,\r\n        phoneNumber: ctn?.phoneNumber,\r\n        dropAddress: ctn?.dropAddress,\r\n        addressLine1: ctn?.addressLine1,\r\n        dropZone: ctn?.dropZoneCode,\r\n        selectedDropZoneLabel: ctn?.dropZoneLabel,\r\n        ctnNumber: ctn?.container_number,\r\n        dpwTransactionId: ctn?.dpwTransactionId,\r\n        requestDetailsNumber: ctn?.requestDetailsNumber,\r\n        latLng: ctn?.latLng,\r\n      },\r\n      booking: data.details,\r\n      isContainerEdit: true\r\n    };\r\n    history.push(\"/addAddress\", value);\r\n  };\r\n\r\n  const viewTrack = (item) => {\r\n    history.push(\"/track\", item);\r\n  };\r\n\r\n  const closeContainer = (ctn, id) => {\r\n    console.info(\"data \", JSON.stringify(data.booking));\r\n    console.info(\"ctn \", JSON.stringify(ctn));\r\n    let deleteData = {\r\n      dpwTransactionId: ctn.dpwTransactionId,\r\n      requestDetailsNumber: ctn.requestDetailsNumber,\r\n      container_number: ctn.container_number,\r\n      refStatus: { code: \"CNCL\" },\r\n      key: id,\r\n    };\r\n    setAlertPopup(true);\r\n    setMessage(ctn.container_number);\r\n    setDeleteContainer(deleteData);\r\n  };\r\n\r\n  const goBack = () => {\r\n    history.push(\"/bookingDetails/\" + data?.bookingDetails?.cardStatus);\r\n  }\r\n\r\n  const onInfoClick = () => {\r\n    console.log(\"info\");\r\n    setShowModal(true);\r\n  }\r\n\r\n  function PaymentDetails() {\r\n    return (\r\n      <div id=\"slide-up-details\">\r\n        <IonGrid>\r\n          <IonRow>\r\n            <IonCol size=\"8\">\r\n              <span className=\"label-text\" style={{ margin: 0, fontSize: \"1.1rem\" }}>Payment Breakups</span>\r\n              <hr className=\"header-text\" style={{ margin: 0 }} />\r\n            </IonCol>\r\n            <IonCol size=\"3\" style={{ color: \"#0568AE\" }}>\r\n              {containerDetails.grossAmount} AED\r\n            </IonCol>\r\n            <IonCol size=\"1\">\r\n              <IonIcon icon={closeOutline} className=\"close-icon\" onClick={() => setShowPaymentModal(false)} />\r\n            </IonCol>\r\n          </IonRow>\r\n          {containerDetails.paymentDetails.filter(pd => pd.paymentType === \"transportation\").map((item, index) => (\r\n            <div className=\"data-text\" key={index}\r\n              style={\r\n                containerDetails.paymentDetails.filter(pd => {\r\n                  return (pd.paymentType === \"transportation\")\r\n                }).length == index + 1 ? { padding: \"10px\" } : { borderBottom: \"1px solid #D7D7D7\", padding: \"10px\" }}>\r\n              <IonRow>\r\n                <IonCol className=\"column-space\">\r\n                  Containers\r\n                </IonCol>\r\n                <IonCol className=\"column-space\">\r\n                  {item.chargeDescription}\r\n                </IonCol>\r\n                <IonCol className=\"column-space\">\r\n                  {item.subTotalAmount} AED\r\n                </IonCol>\r\n              </IonRow>\r\n              <IonRow>\r\n                <IonCol className=\"column-space\">\r\n                  Vat %\r\n                </IonCol>\r\n                <IonCol className=\"column-space\">\r\n                  5%\r\n                </IonCol>\r\n                <IonCol className=\"column-space\">\r\n                  {item.totalVat} AED\r\n                </IonCol>\r\n              </IonRow>\r\n              <IonRow>\r\n                <IonCol className=\"column-space\" size=\"8\">\r\n                  Total\r\n                </IonCol>\r\n                <IonCol className=\"column-space\">\r\n                  {item.totalAmount} AED\r\n                </IonCol>\r\n              </IonRow>\r\n            </div>))}\r\n          <IonRow className=\"data-text\" style={{ borderBottom: \"1px solid #D7D7D7\" }}>\r\n            <IonCol className=\"column-space\" size=\"8\">\r\n              Net Amount\r\n            </IonCol>\r\n            <IonCol className=\"column-space\">\r\n              {containerDetails.totalContainerTariff} AED\r\n            </IonCol>\r\n          </IonRow>\r\n          {containerDetails.paymentDetails.filter(pd => pd.paymentType !== \"transportation\").map((item, index) => (\r\n            <div className=\"data-text\" key={index}\r\n              style={\r\n                containerDetails.paymentDetails.filter(pd => { return (pd.paymentType !== \"transportation\") }).length == index + 1 ? {} : { borderBottom: \"1px solid #D7D7D7\" }}>\r\n              <IonRow>\r\n                <IonCol className=\"column-space\">\r\n                  Token Charges\r\n                </IonCol>\r\n                <IonCol className=\"column-space\">\r\n                  {item.chargeDescription}\r\n                </IonCol>\r\n                <IonCol className=\"column-space\">\r\n                  {item.subTotalAmount} AED\r\n                </IonCol>\r\n              </IonRow>\r\n              <IonRow>\r\n                <IonCol className=\"column-space\">\r\n                  Vat %\r\n                </IonCol>\r\n                <IonCol className=\"column-space\">\r\n                  5%\r\n                </IonCol>\r\n                <IonCol className=\"column-space\">\r\n                  {item.totalVat} AED\r\n                </IonCol>\r\n              </IonRow>\r\n              <IonRow>\r\n                <IonCol className=\"column-space\" size=\"8\">\r\n                  Total\r\n                </IonCol>\r\n                <IonCol className=\"column-space\">\r\n                  {item.totalAmount} AED\r\n                </IonCol>\r\n              </IonRow>\r\n            </div>))}\r\n          <IonRow className=\"data-text\" style={{ borderBottom: \"1px solid #D7D7D7\", paddingBottom: \"10px\", paddingTop: \"10px\" }}>\r\n            <IonCol className=\"column-space\" size=\"8\" >\r\n              Net Amount\r\n            </IonCol>\r\n            <IonCol className=\"column-space\">\r\n              {containerDetails.totalTokenTariff} AED\r\n            </IonCol>\r\n          </IonRow>\r\n          <IonRow className=\"data-text\">\r\n            <IonCol className=\"column-space\" size=\"8\" style={{ fontSize: \"1.1rem\" }}>\r\n              Gross Amount\r\n            </IonCol>\r\n            <IonCol className=\"column-space\" style={{ color: \"#0568AE\", fontSize: \"1.1rem\" }}>\r\n              {containerDetails.grossAmount} AED\r\n            </IonCol>\r\n          </IonRow>\r\n        </IonGrid>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  function BookingDetails() {\r\n    return (\r\n      <div id=\"slide-up-details\" style={{ paddingLeft: \"15px\" }}>\r\n        <IonGrid>\r\n          <IonRow>\r\n            <IonCol size=\"1\">\r\n              <RoundedAvatar color={\"#1DB3FE\"} name={\"IA\"} />\r\n            </IonCol>\r\n            <IonCol size=\"10\">\r\n              <span className=\"label-text\">{data?.bookingDetails?.bookingNumber}</span>\r\n              <hr className=\"header-text\" />\r\n            </IonCol>\r\n            <IonCol size=\"1\">\r\n              <IonIcon icon={closeOutline} className=\"close-icon\" onClick={() => setShowModal(false)} />\r\n            </IonCol>\r\n          </IonRow>\r\n          <IonRow className=\"row-text\">\r\n            <IonCol className=\"column-space\" size=\"7\">\r\n              Requestor Name\r\n            </IonCol>\r\n            <IonCol className=\"column-space\">\r\n              Requestor Contact\r\n            </IonCol>\r\n          </IonRow>\r\n          <IonRow className=\"data-text\">\r\n            <IonCol className=\"column-space\" size=\"7\">\r\n              {data?.bookingDetails?.requesterName}\r\n            </IonCol>\r\n            <IonCol className=\"column-space\">\r\n              {data?.bookingDetails?.requesterContact}\r\n            </IonCol>\r\n          </IonRow>\r\n          {data?.bookingDetails?.importerComments !== null && <>\r\n            <IonRow className=\"row-text\">\r\n              <IonCol className=\"column-space\">\r\n                Importer Comments\r\n              </IonCol>\r\n            </IonRow>\r\n            <IonRow className=\"data-text\">\r\n              <IonCol className=\"column-space\">\r\n                {data?.bookingDetails?.importerComments}\r\n              </IonCol>\r\n            </IonRow>\r\n          </>}\r\n          <div style={{ paddingTop: \"15px\", paddingBottom: \"15px\" }}>\r\n            <IonRow className=\"data-text\" style={{ paddingBottom: \"10px\", fontSize: \"1.1rem\" }}>\r\n              <IonCol className=\"column-space\">\r\n                Payment Details\r\n              </IonCol>\r\n            </IonRow>\r\n            {containerDetails.paymentDetails.filter(pd => pd.paymentType === \"transportation\").map((item, index) => (\r\n              <IonRow className=\"data-text\" key={index}>\r\n                <IonCol className=\"column-space\" size=\"7\">\r\n                  {item.chargeDescription}\r\n                </IonCol>\r\n                <IonCol className=\"column-space\" >\r\n                  {item.totalAmount} AED\r\n                </IonCol>\r\n              </IonRow>\r\n            ))}\r\n            {containerDetails.paymentDetails.filter(pd => pd.paymentType === \"tokenIn\" || pd.paymentType === \"tokenOut\").map((item, index) => (\r\n              <IonRow className=\"data-text\" key={index}>\r\n                <IonCol className=\"column-space\" size=\"7\">\r\n                  {item.chargeDescription}\r\n                </IonCol>\r\n                <IonCol className=\"column-space\" >\r\n                  {item.totalAmount} AED\r\n                </IonCol>\r\n              </IonRow>\r\n            ))}\r\n            <IonRow className=\"data-text\">\r\n              <IonCol className=\"column-space\" size=\"7\">\r\n                Gross Amount\r\n              </IonCol>\r\n              <IonCol className=\"column-space\" >\r\n                {containerDetails.grossAmount} AED\r\n              </IonCol>\r\n            </IonRow>\r\n          </div>\r\n          <IonRow>\r\n            <IonCol>\r\n            <IonButton\r\n              className=\"blue-link-text\"\r\n              fill=\"clear\"\r\n              onClick={() => {\r\n                setShowModal(false);\r\n                setTimeout(() => {\r\n                  setShowPaymentModal(true)\r\n                }, 2500);\r\n              }}\r\n            >\r\n              View Detailed Breakups\r\n            </IonButton>\r\n            </IonCol>\r\n            {data?.bookingDetails?.bookingStatus == \"FPAY\" && <IonCol>\r\n            <IonButton\r\n              className=\"link-text\"\r\n              fill=\"clear\"\r\n              onClick={() => paymentInfo(data?.bookingDetails?.bookingNumber)}\r\n            >\r\n              Retry payment\r\n            </IonButton>\r\n            </IonCol>}\r\n          </IonRow>\r\n        </IonGrid>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  async function postToExternalSite(url, txnId) {\r\n    txnIds = txnId;\r\n    var paymentCompl;\r\n    ref = InAppBrowser.create(url, \"_blank\", options);\r\n\r\n    var result = ref.on(\"loadstop\").subscribe(async (event) => {\r\n        paymentCompl = await checkPaymentSuccess(event.url, txnId);\r\n        if (paymentCompl) {\r\n            return await paymentCompl;\r\n        } else {\r\n        }\r\n    });\r\n\r\n    ref.on(\"exit\").subscribe(\r\n        async () => {\r\n            console.log(\"exxxxxxiiiitt\");\r\n            checkPaymentStatus(txnId);\r\n        },\r\n        (err) => {\r\n            console.log(err);\r\n        }\r\n    );\r\n    return await result;\r\n}\r\n\r\nasync function checkPaymentSuccess(url, txnId) {\r\n    if (url.includes(\"/mobileResponseFromRosoomPaymentApp\")) {\r\n        ref.close();\r\n        var roStatus = await ref.on(\"exit\").subscribe(\r\n            async () => { },\r\n            (err) => {\r\n                console.log(err);\r\n            }\r\n        );\r\n        var test = await checkPaymentStatus(txnId);\r\n        return await test;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\nasync function checkPaymentStatus(txnId) {\r\n    var appUrl = EndPointURL.rosoomPaymentStatusCheck + txnId;\r\n    var response = await httpGetCallWithoutHeader(appUrl);\r\n    if (await response.success) {\r\n        if (response.data.data.dataItems[0].status == \"SUCC\") {\r\n            await setPaymentPage(\"success\");\r\n        } else if (response.data.data.dataItems[0].status == \"FAIL\") {\r\n            await setPaymentPage(\"fail\");\r\n        } else {\r\n            await setPaymentPage(\"pending\");\r\n        }\r\n        return response;\r\n    }\r\n    return response;\r\n}\r\n\r\nasync function paymentInfo(bookingNumber) {\r\n    var appUrl = EndPointURL.reinitializeUrl + bookingNumber;\r\n    var response = await httpPostCallWithoutHeaderAndBody(appUrl);\r\n    if (await response.success) {\r\n        var url = await response.data.data.dataItems[0].url;\r\n        var txnId = await response.data.data.dataItems[0].transactionId;\r\n        await postToExternalSite(url, txnId);\r\n    }\r\n}\r\n\r\n  function ConfirmScreenTabs() {\r\n    return (\r\n      <IonRow id=\"confirm-screen\">\r\n        <IonCol className={isInProgress ? \"clicked\" : \"not-clicked\"} onClick={() => OnInProgress(\"inProgress\")}>\r\n          IN PROGRESS\r\n        </IonCol>\r\n        <IonCol className={isDelivered ? \"clicked\" : \"not-clicked\"} onClick={() => OnInProgress(\"delivered\")}>\r\n          DELIVERED\r\n        </IonCol>\r\n        <IonCol className={isCompleted ? \"clicked\" : \"not-clicked\"} onClick={() => OnInProgress(\"completed\")}>\r\n          COMPLETED\r\n        </IonCol>\r\n      </IonRow>\r\n    )\r\n  }\r\n\r\n  function BookingNumberTab(props) {\r\n    return (\r\n      <IonRow className=\"booking-number-row\">\r\n        <IonCol size=\"6\" className=\"number\">\r\n          {props.boe?.split(\",\")[0]}\r\n        </IonCol>\r\n        {props.boe?.split(\",\")[1] !== undefined && <IonCol className=\"date\">\r\n          <IonLabel>DO Validity : </IonLabel>\r\n          <IonLabel>{props.boe?.split(\",\")[1]}</IonLabel>\r\n        </IonCol>}\r\n      </IonRow>\r\n    )\r\n  }\r\n\r\n  function ContainerToolbar() {\r\n    return (\r\n      <IonToolbar>\r\n        <IonRow className=\"container-toolbar-row\">\r\n          <IonCol size=\"1\" className=\"container-col\">\r\n            <IonIcon src=\"/assets/icon/container.svg\" />\r\n          </IonCol>\r\n          <IonCol size=\"2.8\" className=\"padding-left\">\r\n            <IonRow>\r\n              <IonText className=\"data-font\">\r\n                {(data?.bookingDetails?.containerCount + \"\").padStart(2, \"0\") ?? 0}\r\n              </IonText>\r\n            </IonRow>\r\n            <IonRow>\r\n              <IonText className=\"title-font\">Containers</IonText>\r\n            </IonRow>\r\n          </IonCol>\r\n          <IonCol size=\"1\" className=\"container-col\">\r\n            <IonIcon src=\"/assets/icon/truck-grey.svg\" />\r\n          </IonCol>\r\n          <IonCol size=\"2.8\" className=\"padding-left\">\r\n            <IonRow>\r\n              <IonText className=\"data-font\">\r\n                {(data?.bookingDetails?.truckCount + \"\").padStart(2, \"0\") ?? 0}\r\n              </IonText>\r\n            </IonRow>\r\n            <IonRow>\r\n              <IonText className=\"title-font\">Trucks</IonText>\r\n            </IonRow>\r\n          </IonCol>\r\n          <IonCol size=\"2\" className=\"container-col background\">\r\n            <IonIcon src=\"/assets/icon/invoices-download.svg\" />\r\n          </IonCol>\r\n          <IonCol size=\"2.4\" className=\"container-col-amnt\">\r\n            <IonText className=\"amnt-text\">{data?.bookingDetails?.totalAmount} AED </IonText>\r\n          </IonCol>\r\n        </IonRow>\r\n      </IonToolbar>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <IonPage id=\"container-details\">\r\n      <Header label={data?.bookingDetails?.bookingNumber} action=\"info\" customBack={true} backClick={() => goBack()} agentHeader={true} infoClick={onInfoClick} />\r\n      {data?.bookingDetails !== undefined && <ContainerToolbar />}\r\n      <IonContent\r\n        fullscreen\r\n        scrollEvents={true}\r\n      >\r\n        <SlideUpModal\r\n          showModal={showModal}\r\n          openOrCloseModal={(status) => setShowModal(status)}\r\n          content={<BookingDetails />}\r\n        />\r\n        <SlideUpModal\r\n          showModal={showPaymentModal}\r\n          openOrCloseModal={(status) => { setShowPaymentModal(status); }}\r\n          content={<PaymentDetails />}\r\n        />\r\n        {data?.bookingDetails?.bookingStatus == \"TRANSCONF\" &&\r\n          <ConfirmScreenTabs />}\r\n        {groupedData !== undefined && Object.keys(groupedData).map((boe, index) => (\r\n          <div key={index}>\r\n            {data?.bookingDetails?.bookingStatus !== \"TRANSCONF\" &&\r\n              <BookingNumberTab boe={boe} />}\r\n            {groupedData[boe].map((item, index) => (\r\n              <ContainerCard\r\n                bookingStatus={data?.bookingDetails?.bookingStatus}\r\n                key={index}\r\n                userType={value?.location?.state?.userType}\r\n                container_number={item?.container_number}\r\n                consigneeName={item?.consigneeDetails}\r\n                pickUpLocation={item?.pickupLocation}\r\n                dropLocation={item?.dropAddress}\r\n                dropZone={item?.dropZoneLabel}\r\n                bookingNumber={data?.bookingDetails?.bookingNumber}\r\n                dropTime={item?.date_time}\r\n                boeNumber={item?.boeNumber}\r\n                containerWeight={item?.containerWeight}\r\n                isoCode={item?.iso_code}\r\n                holdAuthority={item?.holdAuthority}\r\n                storageValidity={item?.storagePaidTill}\r\n                initials={item?.initials}\r\n                cancelRemarks={item?.cancelRemarks}\r\n                containerStatus={item?.refStatus?.code}\r\n                containerType={item?.containerType}\r\n                viewClick={() => {\r\n                  viewContactDetails(item);\r\n                }}\r\n                trackClick={() => viewTrack(item)}\r\n                closeClick={() => {\r\n                  closeContainer(item, index);\r\n                }}\r\n              />\r\n            ))}\r\n          </div>))}\r\n        {Object.keys(groupedData).length === 0 && groupedData.constructor === Object &&\r\n          <IonCard className=\"noData\">\r\n            <IonCardContent>\r\n              <IonLabel>No Data to show</IonLabel>\r\n            </IonCardContent>\r\n          </IonCard>\r\n\r\n        }\r\n        <Alert alertProps={alertProps} />\r\n      </IonContent>\r\n       {/* <IonContent  fullscreen hidden={paymentPage == \"\"}>\r\n          <div hidden={paymentPage !== \"success\"}>\r\n            <PaymentSuccess \r\n            referenceNumber={referenceNumber}\r\n            locationProps={props.history}/>\r\n          </div>\r\n          <div hidden={paymentPage !== \"fail\"}>\r\n            <PaymentFailed \r\n            referenceNumber={referenceNumber}\r\n            locationProps={props.history}/>\r\n          </div>\r\n          <div hidden={paymentPage !== \"pending\"}>\r\n            <PaymentPending\r\n              hidden={true}\r\n              referenceNumber={referenceNumber}\r\n              locationProps={props.history}\r\n            />\r\n          </div>\r\n          </IonContent> */}\r\n    </IonPage>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}