{"ast":null,"code":"import _defineProperty from \"D:\\\\SVN-folder\\\\New-BRANCH-PUSH\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"D:\\\\SVN-folder\\\\New-BRANCH-PUSH\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _objectSpread from \"D:\\\\SVN-folder\\\\New-BRANCH-PUSH\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"D:\\\\SVN-folder\\\\New-BRANCH-PUSH\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\SVN-folder\\\\New-BRANCH-PUSH\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\SVN-folder\\\\New-BRANCH-PUSH\\\\New folder\\\\src\\\\components\\\\BookQuick.tsx\";\n\nimport { IonContent, IonLabel, IonPage } from \"@ionic/react\";\nimport { useHistory } from \"react-router-dom\";\nimport moment from \"moment\";\nimport React, { useEffect, useState } from \"react\";\nimport { createArrayOfObjectWithKeyAndValue, todayDate } from \"../services/Common\";\nimport { fetchContainerSummaryPayment, getAddressApi, getRequestByContainer, getRequestByDeclaration, getTruckTypeApi } from \"../services/EndPointApi\";\nimport { dropIntervals } from \"../util/Constants\";\nimport * as utils from \"../util/Utilities\";\nimport Calendar from \"./calendar/Calendar\";\nimport DrpdownInput from \"./dropdownInput/DrpdownInput\";\nimport TxtInput from \"./txtinput/TxtInput\";\nimport BorderWithFloatingText from \"./InputBorders/BorderWithFloatingText\";\nvar containerList = [];\n\nvar BookQuick = function BookQuick(_ref) {\n  var _form$droplocation$co, _form$droplocation, _form$droplocation$co2, _form$droplocation2, _form$droplocation$ph, _form$droplocation3;\n\n  var buttonAction = _ref.buttonAction;\n  var history = useHistory();\n  var plusIcon = {\n    name: \"plusQuick\",\n    slot: \"end\",\n    class: \"slotEnd\"\n  };\n  var calenderIcon = {\n    name: \"calendar\",\n    slot: \"start\",\n    class: \"calenderMargin\"\n  };\n  console.log(\"&&&&^%%%\", buttonAction);\n\n  var _useState = useState({\n    declNumber: \"\",\n    containerNumber: \"\",\n    truckCount: \"\",\n    dateAndTime: todayDate,\n    minDate: todayDate,\n    truckType: \"\",\n    droplocation: {\n      consigneeContactName: \"\",\n      consigneeContactNumber: \"\",\n      phoneNumber: \"\"\n    },\n    contactPerson: \"\",\n    contactNumber: \"\",\n    submitted: false,\n    valid: false,\n    dropInterval: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      form = _useState2[0],\n      setForm = _useState2[1];\n\n  var initialIcon = {\n    declNumber: plusIcon,\n    containerNumber: plusIcon\n  };\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errors = _useState4[0],\n      setErrors = _useState4[1];\n\n  var _useState5 = useState(initialIcon),\n      _useState6 = _slicedToArray(_useState5, 2),\n      icon = _useState6[0],\n      seticon = _useState6[1]; //const [listTruckType, setListTruckType] = useState([]);\n\n\n  var _useState7 = useState(buttonAction),\n      _useState8 = _slicedToArray(_useState7, 2),\n      action = _useState8[0],\n      setAction = _useState8[1];\n\n  var _useState9 = useState({\n    address: [],\n    listTruck: [],\n    disbaleHr: 1,\n    dateAndTime: \"\"\n  }),\n      _useState10 = _slicedToArray(_useState9, 2),\n      timeAddressTruckDataList = _useState10[0],\n      settimeAddressTruckDataList = _useState10[1];\n\n  useEffect(function () {\n    getListAddress();\n    getTruck();\n  }, []);\n  useEffect(function () {\n    if (buttonAction === \"book\") {\n      onContinue();\n    }\n  }, [buttonAction]);\n\n  var getTruck = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res, _res$data, _res$data2;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return getTruckTypeApi();\n\n            case 2:\n              res = _context.sent;\n\n              if (res === null || res === void 0 ? void 0 : res.success) {\n                console.log(res);\n                settimeAddressTruckDataList(function (prevState) {\n                  return _objectSpread(_objectSpread({}, prevState), {}, {\n                    listTruck: res === null || res === void 0 ? void 0 : res.data\n                  });\n                });\n                setTimeout(function () {\n                  console.log(timeAddressTruckDataList);\n                }, 2000);\n              } else {\n                setErrors(_objectSpread(_objectSpread({}, errors), {}, {\n                  general: (res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.message) || (res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.error)\n                }));\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getTruck() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var getListAddress = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var res, mindateOfDisable, formattedMindate;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return getAddressApi();\n\n            case 2:\n              res = _context2.sent;\n              _context2.t0 = console;\n              _context2.next = 6;\n              return res;\n\n            case 6:\n              _context2.t1 = _context2.sent;\n\n              _context2.t0.log.call(_context2.t0, _context2.t1);\n\n              // if (res?.success) {\n              mindateOfDisable = utils.addTimeToDateTime(new Date(), 1 * (res === null || res === void 0 ? void 0 : res.disableHrs) * 60 || 1);\n              formattedMindate = mindateOfDisable.toISOString();\n              console.log(mindateOfDisable, formattedMindate);\n              settimeAddressTruckDataList(function (prevState) {\n                return _objectSpread(_objectSpread({}, prevState), {}, {\n                  address: res === null || res === void 0 ? void 0 : res.addressDtoList,\n                  disbaleHr: res === null || res === void 0 ? void 0 : res.disableHrs,\n                  dateAndTime: formattedMindate\n                });\n              });\n              setForm(_objectSpread(_objectSpread({}, form), {}, {\n                minDate: formattedMindate,\n                dateAndTime: formattedMindate\n              })); // }\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function getListAddress() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var minusIcon = {\n    name: \"minusQ\",\n    slot: \"end\",\n    class: \"slotEnd\"\n  };\n  var totalTruckNumber = createArrayOfObjectWithKeyAndValue(); //Array.from({ length: truckNumber }, (_, i) => i + 1);\n\n  console.log(totalTruckNumber);\n  var blankIcon = {\n    name: \"\",\n    slot: \"\",\n    class: \"\"\n  };\n\n  var handleChange = function handleChange(e, value) {\n    setErrors(_objectSpread(_objectSpread({}, errors), {}, _defineProperty({}, e.target.name, \"\")));\n\n    if (e.target.name === \"declNumber\") {\n      form.containerNumber = \"\";\n      seticon({\n        containerNumber: minusIcon,\n        declNumber: blankIcon\n      });\n    } else if (e.target.name === \"containerNumber\") {\n      form.declNumber = \"\";\n      seticon({\n        declNumber: minusIcon,\n        containerNumber: blankIcon\n      });\n    }\n\n    setForm(_objectSpread(_objectSpread({}, form), {}, _defineProperty({}, e.target.name, value)));\n\n    if (e.target.value === \"\") {\n      seticon(initialIcon);\n    }\n\n    console.log(form);\n  };\n\n  var onBlur = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e) {\n      var _response, response, _response$data, _response$data$data, _response$data$data$d, _response$data2, _response$data2$data, _response$data2$data$, _response$data3, _response$data3$data, _response$data3$data$, _response2, _response2$data, _response2$data$data, _response2$data$data$;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!(e.target.value && e.target.value != \"\")) {\n                _context3.next = 12;\n                break;\n              }\n\n              setErrors(_objectSpread(_objectSpread({}, errors), {}, _defineProperty({}, e.target.name, \"\")));\n\n              if (!(e.target.name === \"declNumber\")) {\n                _context3.next = 8;\n                break;\n              }\n\n              _context3.next = 5;\n              return getRequestByDeclaration(form.declNumber);\n\n            case 5:\n              response = _context3.sent;\n              _context3.next = 11;\n              break;\n\n            case 8:\n              _context3.next = 10;\n              return getRequestByContainer(form.containerNumber);\n\n            case 10:\n              response = _context3.sent;\n\n            case 11:\n              if ((_response = response) === null || _response === void 0 ? void 0 : _response.success) {\n                containerList = ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$data = _response$data.data) === null || _response$data$data === void 0 ? void 0 : (_response$data$data$d = _response$data$data.dataItems[0]) === null || _response$data$data$d === void 0 ? void 0 : _response$data$data$d.containerList) || [(_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : (_response$data2$data = _response$data2.data) === null || _response$data2$data === void 0 ? void 0 : (_response$data2$data$ = _response$data2$data.dataItems[0]) === null || _response$data2$data$ === void 0 ? void 0 : _response$data2$data$.container];\n                setErrors(_objectSpread(_objectSpread({}, errors), {}, _defineProperty({}, e.target.name, ((_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : (_response$data3$data = _response$data3.data) === null || _response$data3$data === void 0 ? void 0 : (_response$data3$data$ = _response$data3$data.dataItems[0]) === null || _response$data3$data$ === void 0 ? void 0 : _response$data3$data$.noOfContainers) ? response.data.data.dataItems[0].noOfContainers + \" container selected\" : \"1 Container Selected\")));\n              } else {\n                setErrors(_objectSpread(_objectSpread({}, errors), {}, _defineProperty({}, e.target.name, ((_response2 = response) === null || _response2 === void 0 ? void 0 : (_response2$data = _response2.data) === null || _response2$data === void 0 ? void 0 : (_response2$data$data = _response2$data.data) === null || _response2$data$data === void 0 ? void 0 : (_response2$data$data$ = _response2$data$data.dataItems[0]) === null || _response2$data$data$ === void 0 ? void 0 : _response2$data$data$.error) || \"Invalid \" + e.target.lable)));\n              }\n\n            case 12:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function onBlur(_x) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var validateDetails = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var key;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              console.log(form, Object.keys(form.droplocation).length);\n              setErrors({\n                general: form.declNumber === \"\" && form.containerNumber === \"\" ? \"one from declaration/container number is mandatory\" : \"\",\n                truckType: form.truckType === \"\" ? \"Truck Type Selection is Mandatory\" : \"\",\n                droplocation: form.droplocation.consigneeContactName === \"\" ? \"Address Selection is Mandatory\" : \"\",\n                truckCount: form.truckCount === \"\" ? \"Truck Selection is Mandatory\" : \"\"\n              });\n              _context4.t0 = _regeneratorRuntime.keys(errors);\n\n            case 3:\n              if ((_context4.t1 = _context4.t0()).done) {\n                _context4.next = 9;\n                break;\n              }\n\n              key = _context4.t1.value;\n\n              if (!(errors[key] !== null && errors[key] != \"\")) {\n                _context4.next = 7;\n                break;\n              }\n\n              return _context4.abrupt(\"return\", false);\n\n            case 7:\n              _context4.next = 3;\n              break;\n\n            case 9:\n              return _context4.abrupt(\"return\", true);\n\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function validateDetails() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  function createRequestObject() {\n    var result = [];\n    var vals; //if (form.declNumber && form.declNumber != \"\") {\n\n    console.log(form.droplocation);\n    containerList.forEach(function (element) {\n      var test = _objectSpread(_objectSpread({}, element), form.droplocation);\n\n      test.refVehicleTypeCode = form.truckType;\n      test.requestDetailsNumber = null;\n      result.push(test);\n    });\n    var truckTypeArray = createrequestTruckType(form.dropInterval, form.dateAndTime, form.truckCount, form.truckType);\n    console.log(\"%%%$$##  : \", {\n      requestTruckType: truckTypeArray !== null && truckTypeArray !== void 0 ? truckTypeArray : [],\n      containerList: result,\n      multiLocAndTime: false\n    });\n    return {\n      requestTruckType: truckTypeArray !== null && truckTypeArray !== void 0 ? truckTypeArray : [],\n      containerList: result,\n      multiLocAndTime: false\n    }; //  }\n  }\n\n  function createrequestTruckType(interval, dateTime, numberOftruck, truckType) {\n    var truckTypes = [];\n    var truckVar;\n    var nbTruck = Number(numberOftruck);\n    var intervalInMilliSeconds = utils.convertToMillSeconds(interval);\n    var myInterval = 0;\n\n    for (var i = 0; i < nbTruck; i++) {\n      var _truckType$value, _truckType$label;\n\n      truckVar = {\n        dateAndTime: moment(form.dateAndTime).format(\"DD/MM/YYYY H:mm\"),\n        index: i,\n        interval: interval,\n        vehicleCode: (_truckType$value = truckType === null || truckType === void 0 ? void 0 : truckType.value) !== null && _truckType$value !== void 0 ? _truckType$value : \"code\",\n        vehicleName: (_truckType$label = truckType === null || truckType === void 0 ? void 0 : truckType.label) !== null && _truckType$label !== void 0 ? _truckType$label : \"name\"\n      };\n      truckTypes.push(truckVar);\n      myInterval = myInterval + intervalInMilliSeconds;\n    }\n\n    return truckTypes;\n  }\n\n  var onContinue = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var emptyField, r, resp, _resp$data, _resp$data$data, response, payment, _response$data4, _response$data5;\n\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return validateDetails();\n\n            case 2:\n              emptyField = _context5.sent;\n\n              if (!emptyField) {\n                _context5.next = 12;\n                break;\n              }\n\n              _context5.next = 6;\n              return createRequestObject();\n\n            case 6:\n              r = _context5.sent;\n              console.log(r);\n              _context5.next = 10;\n              return fetchContainerSummaryPayment(r);\n\n            case 10:\n              resp = _context5.sent;\n\n              if (resp === null || resp === void 0 ? void 0 : resp.success) {\n                response = (_resp$data = resp.data) === null || _resp$data === void 0 ? void 0 : (_resp$data$data = _resp$data.data) === null || _resp$data$data === void 0 ? void 0 : _resp$data$data.dataItems[0];\n                payment = {\n                  grossAmount: response === null || response === void 0 ? void 0 : response.grossAmount,\n                  containerCountforToken: response === null || response === void 0 ? void 0 : response.containerCountforToken,\n                  tokenAmount: response === null || response === void 0 ? void 0 : response.tokenAmount,\n                  tokenVat: response === null || response === void 0 ? void 0 : response.tokenVatAmount,\n                  tokenVatAmount: response === null || response === void 0 ? void 0 : response.tokenVatAmount,\n                  totalTokenCharge: response === null || response === void 0 ? void 0 : response.totalTokenCharge,\n                  totalTariff: response === null || response === void 0 ? void 0 : response.totalTariff,\n                  paymentDetails: response === null || response === void 0 ? void 0 : response.paymentDetails,\n                  vatProfileDto: response === null || response === void 0 ? void 0 : response.vatProfileDto,\n                  totalVat: response === null || response === void 0 ? void 0 : response.totalVat,\n                  requestTruckType: r.requestTruckType,\n                  paymentType: \"INSTANT\",\n                  containerList: response.containerList,\n                  multiLocAndTime: false,\n                  containerSummary: response.containerSummary //containerSummary:\n\n                };\n                console.log(payment);\n                history.push(\"/quickBook/payment\", payment); // if (\n                //   (form.declNumber !== \"\" || form.containerNumber !== \"\") &&\n                //   Object.keys(form.truckType).length !== 0 &&\n                //   //Object.keys(dropLocation).length !== 0 &&\n                //   form.droplocation.consigneeContactName !== \"\" &&\n                //   form.truckCount !== \"\"\n                // ) {\n                //   let r: any = await createRequestObject();\n                //   // props.clickedContinue(r, r?.requestTruckType);\n                // }\n                //};\n              } else {\n                setErrors(_objectSpread(_objectSpread({}, errors), {}, {\n                  general: (response === null || response === void 0 ? void 0 : (_response$data4 = response.data) === null || _response$data4 === void 0 ? void 0 : _response$data4.message) || (response === null || response === void 0 ? void 0 : (_response$data5 = response.data) === null || _response$data5 === void 0 ? void 0 : _response$data5.error)\n                }));\n              }\n\n            case 12:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function onContinue() {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(IonPage, {\n    className: \"BookTruck-Location\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IonContent, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"book-quick\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"validationMessage \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    className: \"\",\n    hidden: errors.general === \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 13\n    }\n  }, errors.general)), /*#__PURE__*/React.createElement(TxtInput, {\n    name: \"declNumber\",\n    value: form.declNumber,\n    label: \"Declaration Number\",\n    errors: errors.declNumber,\n    type: \"text\",\n    required: true,\n    onChange: handleChange,\n    datatype: \"TEXT\",\n    placeholder: \"Declaration Number\",\n    icon: icon.declNumber,\n    onBlur: onBlur,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TxtInput, {\n    name: \"containerNumber\",\n    value: form.containerNumber,\n    label: \"Container Number\",\n    errors: errors.containerNumber,\n    type: \"text\",\n    required: true,\n    onChange: handleChange,\n    datatype: \"TEXT\",\n    placeholder: \"Enter Number\",\n    icon: icon.containerNumber,\n    onBlur: onBlur,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"twoItem\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"eachElement\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 13\n    }\n  }, \" \", /*#__PURE__*/React.createElement(DrpdownInput, {\n    name: \"truckCount\",\n    value: form.truckCount,\n    label: \"Truck Count\",\n    errors: errors.truckCount,\n    type: \"text\",\n    required: true,\n    onChange: handleChange,\n    datatype: \"TEXT\",\n    placeholder: \"Enter Count\",\n    listValues: totalTruckNumber,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"eachElement\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DrpdownInput, {\n    name: \"dropInterval\",\n    value: form.dropInterval,\n    label: \"Drop Interval\",\n    errors: errors.dropInterval,\n    required: true,\n    onChange: handleChange,\n    datatype: \"TEXT\",\n    type: \"text\",\n    placeholder: \"Select Interval\",\n    listValues: dropIntervals,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(BorderWithFloatingText, {\n    label: \"Date\",\n    content: /*#__PURE__*/React.createElement(Calendar, {\n      name: \"dateAndTime\",\n      value: form.dateAndTime,\n      label: \"Date\",\n      errors: errors.dateAndTime,\n      type: \"text\",\n      required: true,\n      onChange: handleChange,\n      placeholder: \"text\",\n      minDate: form.minDate,\n      icon: calenderIcon,\n      displayFormat: \"DD-MMM-YYYY HH:mm\",\n      className: \"dropdownInput\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 15\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DrpdownInput, {\n    name: \"truckType\",\n    value: form.truckType,\n    label: \"Truck Type\",\n    errors: errors.truckType,\n    required: true,\n    onChange: handleChange,\n    datatype: \"TEXT\",\n    type: \"text\",\n    placeholder: \"Select Type\",\n    listValues: timeAddressTruckDataList.listTruck,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DrpdownInput, {\n    name: \"droplocation\",\n    value: form.droplocation,\n    label: \"Drop Address\",\n    errors: errors.droplocation,\n    type: \"address\",\n    required: true,\n    onChange: handleChange,\n    datatype: \"TEXT\",\n    placeholder: \"Enter Address\",\n    listValues: timeAddressTruckDataList.address,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TxtInput, {\n    name: \"contactPerson\",\n    value: (_form$droplocation$co = (_form$droplocation = form.droplocation) === null || _form$droplocation === void 0 ? void 0 : _form$droplocation.consigneeContactName) !== null && _form$droplocation$co !== void 0 ? _form$droplocation$co : \"\",\n    label: \"Contact Person\",\n    type: \"text\",\n    required: true,\n    datatype: \"TEXT\",\n    placeholder: \"Name\",\n    readonly: true,\n    onChange: handleChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TxtInput, {\n    name: \"consigneeContactNumber\",\n    value: (_form$droplocation$co2 = (_form$droplocation2 = form.droplocation) === null || _form$droplocation2 === void 0 ? void 0 : _form$droplocation2.consigneeContactNumber) !== null && _form$droplocation$co2 !== void 0 ? _form$droplocation$co2 : \"\",\n    label: \"Mobile Number\",\n    type: \"text\",\n    required: true,\n    datatype: \"TEXT\",\n    placeholder: \"Enter Number\",\n    readonly: true,\n    onChange: handleChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TxtInput, {\n    name: \"phoneNumber\",\n    value: (_form$droplocation$ph = (_form$droplocation3 = form.droplocation) === null || _form$droplocation3 === void 0 ? void 0 : _form$droplocation3.phoneNumber) !== null && _form$droplocation$ph !== void 0 ? _form$droplocation$ph : \"\",\n    label: \"Phone Number\",\n    type: \"text\",\n    required: true,\n    datatype: \"TEXT\",\n    placeholder: \"Enter Number\",\n    readonly: true,\n    onChange: handleChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default BookQuick;","map":{"version":3,"sources":["D:/SVN-folder/New-BRANCH-PUSH/New folder/src/components/BookQuick.tsx"],"names":["IonContent","IonLabel","IonPage","useHistory","moment","React","useEffect","useState","createArrayOfObjectWithKeyAndValue","todayDate","fetchContainerSummaryPayment","getAddressApi","getRequestByContainer","getRequestByDeclaration","getTruckTypeApi","dropIntervals","utils","Calendar","DrpdownInput","TxtInput","BorderWithFloatingText","containerList","BookQuick","buttonAction","history","plusIcon","name","slot","class","calenderIcon","console","log","declNumber","containerNumber","truckCount","dateAndTime","minDate","truckType","droplocation","consigneeContactName","consigneeContactNumber","phoneNumber","contactPerson","contactNumber","submitted","valid","dropInterval","form","setForm","initialIcon","errors","setErrors","icon","seticon","action","setAction","address","listTruck","disbaleHr","timeAddressTruckDataList","settimeAddressTruckDataList","getListAddress","getTruck","onContinue","res","success","prevState","data","setTimeout","general","message","error","mindateOfDisable","addTimeToDateTime","Date","disableHrs","formattedMindate","toISOString","addressDtoList","minusIcon","totalTruckNumber","blankIcon","handleChange","e","value","target","onBlur","response","dataItems","container","noOfContainers","lable","validateDetails","Object","keys","length","key","createRequestObject","result","vals","forEach","element","test","refVehicleTypeCode","requestDetailsNumber","push","truckTypeArray","createrequestTruckType","requestTruckType","multiLocAndTime","interval","dateTime","numberOftruck","truckTypes","truckVar","nbTruck","Number","intervalInMilliSeconds","convertToMillSeconds","myInterval","i","format","index","vehicleCode","vehicleName","label","emptyField","r","resp","payment","grossAmount","containerCountforToken","tokenAmount","tokenVat","tokenVatAmount","totalTokenCharge","totalTariff","paymentDetails","vatProfileDto","totalVat","paymentType","containerSummary"],"mappings":"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","sourcesContent":["import { IonContent, IonLabel, IonPage } from \"@ionic/react\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n  createArrayOfObjectWithKeyAndValue,\r\n  todayDate,\r\n} from \"../services/Common\";\r\nimport {\r\n  fetchContainerSummaryPayment,\r\n  getAddressApi,\r\n  getRequestByContainer,\r\n  getRequestByDeclaration,\r\n  getTruckTypeApi,\r\n} from \"../services/EndPointApi\";\r\nimport { dropIntervals, truckNumber } from \"../util/Constants\";\r\nimport * as utils from \"../util/Utilities\";\r\nimport Calendar from \"./calendar/Calendar\";\r\nimport DrpdownInput from \"./dropdownInput/DrpdownInput\";\r\nimport TxtInput from \"./txtinput/TxtInput\";\r\nimport BorderWithFloatingText from \"./InputBorders/BorderWithFloatingText\";\r\nimport UnderLineOnly from \"./InputBorders/UnderLineOnly\";\r\nvar containerList = [];\r\ninterface bookQuickProps {\r\n  buttonAction: any;\r\n}\r\nconst BookQuick: React.FC<bookQuickProps> = ({ buttonAction }) => {\r\n  let history = useHistory();\r\n  const plusIcon = {\r\n    name: \"plusQuick\",\r\n    slot: \"end\",\r\n    class: \"slotEnd\",\r\n  };\r\n  const calenderIcon = {\r\n    name: \"calendar\",\r\n    slot: \"start\",\r\n    class: \"calenderMargin\",\r\n  };\r\n  console.log(\"&&&&^%%%\", buttonAction);\r\n  const [form, setForm] = useState({\r\n    declNumber: \"\",\r\n    containerNumber: \"\",\r\n    truckCount: \"\",\r\n    dateAndTime: todayDate,\r\n    minDate: todayDate,\r\n    truckType: \"\",\r\n    droplocation: {\r\n      consigneeContactName: \"\",\r\n      consigneeContactNumber: \"\",\r\n      phoneNumber: \"\",\r\n    },\r\n    contactPerson: \"\",\r\n    contactNumber: \"\",\r\n    submitted: false,\r\n    valid: false,\r\n    dropInterval: \"\",\r\n  });\r\n  var initialIcon = { declNumber: plusIcon, containerNumber: plusIcon };\r\n  const [errors, setErrors] = useState<any>({});\r\n  const [icon, seticon] = useState(initialIcon);\r\n  //const [listTruckType, setListTruckType] = useState([]);\r\n\r\n  const [action, setAction] = useState(buttonAction);\r\n  const [timeAddressTruckDataList, settimeAddressTruckDataList] = useState<any>(\r\n    {\r\n      address: [],\r\n      listTruck: [],\r\n      disbaleHr: 1,\r\n      dateAndTime: \"\",\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    getListAddress();\r\n    getTruck();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (buttonAction === \"book\") {\r\n      onContinue();\r\n    }\r\n  }, [buttonAction]);\r\n\r\n  const getTruck = async () => {\r\n    let res: any = await getTruckTypeApi();\r\n    {\r\n      if (res?.success) {\r\n        console.log(res);\r\n        settimeAddressTruckDataList((prevState) => ({\r\n          ...prevState,\r\n          listTruck: res?.data,\r\n        }));\r\n        setTimeout(() => {\r\n          console.log(timeAddressTruckDataList);\r\n        }, 2000);\r\n      } else {\r\n        setErrors({\r\n          ...errors,\r\n          general: res?.data?.message || res?.data?.error,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const getListAddress = async () => {\r\n    let res: any = await getAddressApi();\r\n    console.log(await res);\r\n    // if (res?.success) {\r\n    var mindateOfDisable = utils.addTimeToDateTime(\r\n      new Date(),\r\n      1 * res?.disableHrs * 60 || 1\r\n    );\r\n    var formattedMindate = mindateOfDisable.toISOString();\r\n    console.log(mindateOfDisable, formattedMindate);\r\n    settimeAddressTruckDataList((prevState) => ({\r\n      ...prevState,\r\n      address: res?.addressDtoList,\r\n      disbaleHr: res?.disableHrs,\r\n      dateAndTime: formattedMindate,\r\n    }));\r\n    setForm({\r\n      ...form,\r\n      minDate: formattedMindate,\r\n      dateAndTime: formattedMindate,\r\n    });\r\n    // }\r\n  };\r\n\r\n  const minusIcon = {\r\n    name: \"minusQ\",\r\n    slot: \"end\",\r\n    class: \"slotEnd\",\r\n  };\r\n\r\n  var totalTruckNumber = createArrayOfObjectWithKeyAndValue(); //Array.from({ length: truckNumber }, (_, i) => i + 1);\r\n  console.log(totalTruckNumber);\r\n\r\n  const blankIcon = { name: \"\", slot: \"\", class: \"\" };\r\n\r\n  const handleChange = (e: any, value: any) => {\r\n    setErrors({ ...errors, [e.target.name]: \"\" });\r\n    if (e.target.name === \"declNumber\") {\r\n      form.containerNumber = \"\";\r\n      seticon({ containerNumber: minusIcon, declNumber: blankIcon });\r\n    } else if (e.target.name === \"containerNumber\") {\r\n      form.declNumber = \"\";\r\n      seticon({ declNumber: minusIcon, containerNumber: blankIcon });\r\n    }\r\n    setForm({\r\n      ...form,\r\n      [e.target.name]: value,\r\n    });\r\n\r\n    if (e.target.value === \"\") {\r\n      seticon(initialIcon);\r\n    }\r\n    console.log(form);\r\n  };\r\n\r\n  const onBlur = async (e) => {\r\n    if (e.target.value && e.target.value != \"\") {\r\n      setErrors({ ...errors, [e.target.name]: \"\" });\r\n      let response: any;\r\n      if (e.target.name === \"declNumber\") {\r\n        response = await getRequestByDeclaration(form.declNumber);\r\n      } else {\r\n        response = await getRequestByContainer(form.containerNumber);\r\n      }\r\n      if (response?.success) {\r\n        containerList = response.data?.data?.dataItems[0]?.containerList || [\r\n          response.data?.data?.dataItems[0]?.container,\r\n        ];\r\n        setErrors({\r\n          ...errors,\r\n          [e.target.name]: response.data?.data?.dataItems[0]?.noOfContainers\r\n            ? response.data.data.dataItems[0].noOfContainers +\r\n              \" container selected\"\r\n            : \"1 Container Selected\",\r\n        });\r\n      } else {\r\n        setErrors({\r\n          ...errors,\r\n          [e.target.name]:\r\n            response?.data?.data?.dataItems[0]?.error ||\r\n            \"Invalid \" + e.target.lable,\r\n        });\r\n      }\r\n    }\r\n    //seticon({ declNumber: blankIcon, containerNumber: minusIcon });\r\n  };\r\n\r\n  const validateDetails = async () => {\r\n    console.log(form, Object.keys(form.droplocation).length);\r\n    setErrors({\r\n      general:\r\n        form.declNumber === \"\" && form.containerNumber === \"\"\r\n          ? \"one from declaration/container number is mandatory\"\r\n          : \"\",\r\n      truckType:\r\n        form.truckType === \"\" ? \"Truck Type Selection is Mandatory\" : \"\",\r\n      droplocation:\r\n        form.droplocation.consigneeContactName === \"\"\r\n          ? \"Address Selection is Mandatory\"\r\n          : \"\",\r\n      truckCount: form.truckCount === \"\" ? \"Truck Selection is Mandatory\" : \"\",\r\n    });\r\n\r\n    for (var key in errors) {\r\n      if (errors[key] !== null && errors[key] != \"\") return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  function createRequestObject(): any {\r\n    let result: any[] = [];\r\n    let vals;\r\n    //if (form.declNumber && form.declNumber != \"\") {\r\n    console.log(form.droplocation);\r\n    containerList.forEach((element: any) => {\r\n      var test = {\r\n        ...element,\r\n        ...form.droplocation,\r\n      };\r\n      test.refVehicleTypeCode = form.truckType;\r\n      test.requestDetailsNumber = null;\r\n      result.push(test);\r\n    });\r\n    let truckTypeArray: any[] = createrequestTruckType(\r\n      form.dropInterval,\r\n      form.dateAndTime,\r\n      form.truckCount,\r\n      form.truckType\r\n    );\r\n\r\n    console.log(\"%%%$$##  : \", {\r\n      requestTruckType: truckTypeArray ?? [],\r\n      containerList: result,\r\n      multiLocAndTime: false,\r\n    });\r\n    return {\r\n      requestTruckType: truckTypeArray ?? [],\r\n      containerList: result,\r\n      multiLocAndTime: false,\r\n    };\r\n    //  }\r\n  }\r\n\r\n  function createrequestTruckType(\r\n    interval: string,\r\n    dateTime: string,\r\n    numberOftruck: string,\r\n    truckType: any\r\n  ): any[] {\r\n    let truckTypes: any[] = [];\r\n    let truckVar: any;\r\n    let nbTruck = Number(numberOftruck);\r\n    let intervalInMilliSeconds: number = utils.convertToMillSeconds(interval);\r\n    let myInterval: number = 0;\r\n    for (let i = 0; i < nbTruck; i++) {\r\n      truckVar = {\r\n        dateAndTime: moment(form.dateAndTime).format(\"DD/MM/YYYY H:mm\"),\r\n        index: i,\r\n        interval: interval,\r\n        vehicleCode: truckType?.value ?? \"code\",\r\n        vehicleName: truckType?.label ?? \"name\",\r\n      };\r\n      truckTypes.push(truckVar);\r\n      myInterval = myInterval + intervalInMilliSeconds;\r\n    }\r\n\r\n    return truckTypes;\r\n  }\r\n\r\n  const onContinue = async () => {\r\n    var emptyField = await validateDetails();\r\n    if (emptyField) {\r\n      let r: any = await createRequestObject();\r\n      console.log(r);\r\n      var resp = await fetchContainerSummaryPayment(r);\r\n      if (resp?.success) {\r\n        var response = resp.data?.data?.dataItems[0];\r\n        var payment: any = {\r\n          grossAmount: response?.grossAmount,\r\n          containerCountforToken: response?.containerCountforToken,\r\n          tokenAmount: response?.tokenAmount,\r\n          tokenVat: response?.tokenVatAmount,\r\n          tokenVatAmount: response?.tokenVatAmount,\r\n          totalTokenCharge: response?.totalTokenCharge,\r\n          totalTariff: response?.totalTariff,\r\n          paymentDetails: response?.paymentDetails,\r\n          vatProfileDto: response?.vatProfileDto,\r\n          totalVat: response?.totalVat,\r\n          requestTruckType: r.requestTruckType,\r\n          paymentType: \"INSTANT\",\r\n          containerList: response.containerList,\r\n          multiLocAndTime: false,\r\n          containerSummary: response.containerSummary,\r\n          //containerSummary:\r\n        };\r\n        console.log(payment);\r\n        history.push(\"/quickBook/payment\", payment);\r\n        // if (\r\n        //   (form.declNumber !== \"\" || form.containerNumber !== \"\") &&\r\n        //   Object.keys(form.truckType).length !== 0 &&\r\n        //   //Object.keys(dropLocation).length !== 0 &&\r\n        //   form.droplocation.consigneeContactName !== \"\" &&\r\n        //   form.truckCount !== \"\"\r\n        // ) {\r\n        //   let r: any = await createRequestObject();\r\n        //   // props.clickedContinue(r, r?.requestTruckType);\r\n        // }\r\n        //};\r\n      } else {\r\n        setErrors({\r\n          ...errors,\r\n          general: response?.data?.message || response?.data?.error,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <IonPage className=\"BookTruck-Location\">\r\n      <IonContent>\r\n        <div className=\"book-quick\">\r\n          <div className=\"validationMessage \">\r\n            <IonLabel className=\"\" hidden={errors.general === \"\"}>\r\n              {errors.general}\r\n            </IonLabel>\r\n          </div>\r\n          <TxtInput\r\n            name={\"declNumber\"}\r\n            value={form.declNumber}\r\n            label=\"Declaration Number\"\r\n            errors={errors.declNumber}\r\n            type=\"text\"\r\n            required={true}\r\n            onChange={handleChange}\r\n            datatype=\"TEXT\"\r\n            placeholder=\"Declaration Number\"\r\n            icon={icon.declNumber}\r\n            onBlur={onBlur}\r\n          />\r\n          <TxtInput\r\n            name={\"containerNumber\"}\r\n            value={form.containerNumber}\r\n            label=\"Container Number\"\r\n            errors={errors.containerNumber}\r\n            type=\"text\"\r\n            required={true}\r\n            onChange={handleChange}\r\n            datatype=\"TEXT\"\r\n            placeholder=\"Enter Number\"\r\n            icon={icon.containerNumber}\r\n            onBlur={onBlur}\r\n          />\r\n          <div className=\"twoItem\">\r\n            <div className=\"eachElement\">\r\n              {\" \"}\r\n              <DrpdownInput\r\n                name={\"truckCount\"}\r\n                value={form.truckCount}\r\n                label=\"Truck Count\"\r\n                errors={errors.truckCount}\r\n                type=\"text\"\r\n                required={true}\r\n                onChange={handleChange}\r\n                datatype=\"TEXT\"\r\n                placeholder=\"Enter Count\"\r\n                listValues={totalTruckNumber}\r\n              />\r\n            </div>\r\n            <div className=\"eachElement\">\r\n              <DrpdownInput\r\n                name={\"dropInterval\"}\r\n                value={form.dropInterval}\r\n                label=\"Drop Interval\"\r\n                errors={errors.dropInterval}\r\n                required={true}\r\n                onChange={handleChange}\r\n                datatype=\"TEXT\"\r\n                type=\"text\"\r\n                placeholder=\"Select Interval\"\r\n                listValues={dropIntervals}\r\n              />\r\n            </div>\r\n          </div>\r\n          <BorderWithFloatingText\r\n            label=\"Date\"\r\n            content={\r\n              <Calendar\r\n                name={\"dateAndTime\"}\r\n                value={form.dateAndTime}\r\n                label=\"Date\"\r\n                errors={errors.dateAndTime}\r\n                type=\"text\"\r\n                required={true}\r\n                onChange={handleChange}\r\n                placeholder=\"text\"\r\n                minDate={form.minDate}\r\n                icon={calenderIcon}\r\n                displayFormat=\"DD-MMM-YYYY HH:mm\"\r\n                className=\"dropdownInput\"\r\n              />\r\n            }\r\n          />\r\n          <DrpdownInput\r\n            name={\"truckType\"}\r\n            value={form.truckType}\r\n            label=\"Truck Type\"\r\n            errors={errors.truckType}\r\n            required={true}\r\n            onChange={handleChange}\r\n            datatype=\"TEXT\"\r\n            type=\"text\"\r\n            placeholder=\"Select Type\"\r\n            listValues={timeAddressTruckDataList.listTruck}\r\n          />\r\n\r\n          <DrpdownInput\r\n            name={\"droplocation\"}\r\n            value={form.droplocation}\r\n            label=\"Drop Address\"\r\n            errors={errors.droplocation}\r\n            type=\"address\"\r\n            required={true}\r\n            onChange={handleChange}\r\n            datatype=\"TEXT\"\r\n            placeholder=\"Enter Address\"\r\n            listValues={timeAddressTruckDataList.address}\r\n          />\r\n\r\n          <TxtInput\r\n            name={\"contactPerson\"}\r\n            value={form.droplocation?.consigneeContactName ?? \"\"}\r\n            label=\"Contact Person\"\r\n            type=\"text\"\r\n            required={true}\r\n            datatype=\"TEXT\"\r\n            placeholder=\"Name\"\r\n            readonly={true}\r\n            onChange={handleChange}\r\n          />\r\n\r\n          <TxtInput\r\n            name={\"consigneeContactNumber\"}\r\n            value={form.droplocation?.consigneeContactNumber ?? \"\"}\r\n            label=\"Mobile Number\"\r\n            type=\"text\"\r\n            required={true}\r\n            datatype=\"TEXT\"\r\n            placeholder=\"Enter Number\"\r\n            readonly={true}\r\n            onChange={handleChange}\r\n          />\r\n\r\n          <TxtInput\r\n            name={\"phoneNumber\"}\r\n            value={form.droplocation?.phoneNumber ?? \"\"}\r\n            label=\"Phone Number\"\r\n            type=\"text\"\r\n            required={true}\r\n            datatype=\"TEXT\"\r\n            placeholder=\"Enter Number\"\r\n            readonly={true}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n      </IonContent>\r\n    </IonPage>\r\n  );\r\n};\r\nexport default BookQuick;\r\n"]},"metadata":{},"sourceType":"module"}