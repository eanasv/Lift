{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\SVN-folder\\\\New-BRANCH-PUSH\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\SVN-folder\\\\New-BRANCH-PUSH\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\SVN-folder\\\\New-BRANCH-PUSH\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\SVN-folder\\\\New-BRANCH-PUSH\\\\New folder\\\\src\\\\pages\\\\pushNotification\\\\Notifications.tsx\";\nimport { IonCol, IonContent, IonLabel, IonPage, IonRow } from \"@ionic/react\";\nimport React, { useEffect, useState } from \"react\";\nimport * as EndPointURL from \"../../util/EndPointURL\";\nimport { httpGetCallWithoutHeader, httpPostCallWithoutHeaderAndBody } from \"../../services/EndPointApi\";\nimport \"./Notifications.scss\";\nimport MainTabs from \"../MainTabs\";\nimport Store from \"../../redux/Store\";\nimport Header from \"../../components/Header\";\nexport default function Notifications(props) {\n  var _this = this;\n\n  console.log(props);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      newnNotfication = _useState2[0],\n      setNewNotification = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      accessedNotfication = _useState4[0],\n      setAccessedNotfication = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      agent = _useState6[0],\n      setAgent = _useState6[1];\n\n  Store.subscribe(function () {\n    setAgent(Store.getState().CheckUserStatus.user.selectedAgent);\n  });\n  useEffect(function () {\n    var response = httpGetCallWithoutHeader(EndPointURL.fetchAllNotificationUrl);\n    response.then(function (result) {\n      if (result.success) {\n        var data1 = result.data.data.dataItems.filter(function (item) {\n          return item.accessed === \"N\";\n        });\n        console.log(\"data1\", data1);\n        setNewNotification(data1);\n        var data2 = result.data.data.dataItems.filter(function (item) {\n          return item.accessed === \"Y\";\n        });\n        setAccessedNotfication(data2);\n      }\n    });\n  }, [agent]);\n\n  var onNewNotificationClick = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(resId, appLink) {\n      var appUrl, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              appUrl = EndPointURL.fetchAllNotificationUrl + \"/\" + resId;\n              _context.next = 3;\n              return httpPostCallWithoutHeaderAndBody(appUrl);\n\n            case 3:\n              response = _context.sent;\n              _context.next = 6;\n              return response.success;\n\n            case 6:\n              if (!_context.sent) {\n                _context.next = 8;\n                break;\n              }\n\n              if (appLink !== null) props.history.push(appLink);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onNewNotificationClick(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(IonPage, {\n    id: \"notifications-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    label: \"Notifications\",\n    action: \"search\",\n    showAgent: true,\n    agentHeader: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(IonContent, {\n    \"padding-top\": true,\n    className: \"page-content\",\n    fullscreen: true,\n    scrollEvents: true,\n    scrollY: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonRow, {\n    className: \"divider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    size: \"12\",\n    className: \"full-width\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonRow, {\n    className: \"sort-divider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    className: \"data-font\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, \"New\"))), newnNotfication.length > 0 ? newnNotfication.filter(function (item) {\n    return item.accessed === \"N\";\n  }).map(function (item, index) {\n    return /*#__PURE__*/React.createElement(IonCol, {\n      size: \"12\",\n      className: \"full-width\",\n      key: index,\n      onClick: function onClick() {\n        return onNewNotificationClick(item.responseUuid, item.appNotificationDto.appLink);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IonRow, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(IonLabel, {\n      className: \"notification-font\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, item.appNotificationDto.message)), /*#__PURE__*/React.createElement(IonRow, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(IonLabel, {\n      className: \"notification-date\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    }, item.duration)));\n  }) : /*#__PURE__*/React.createElement(IonCol, {\n    size: \"12\",\n    className: \"full-width ion-text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    className: \"notification-date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, \"No Notification to show\"))), /*#__PURE__*/React.createElement(IonRow, {\n    className: \"accessed-status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    size: \"12\",\n    className: \"full-width\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonRow, {\n    className: \"sort-divider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    className: \"data-font\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }, \"Earlier\"))), accessedNotfication.length > 0 ? accessedNotfication.filter(function (item) {\n    return item.accessed === \"Y\";\n  }).map(function (item, index) {\n    return /*#__PURE__*/React.createElement(IonCol, {\n      size: \"12\",\n      className: \"full-width\",\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IonRow, {\n      onClick: function onClick() {\n        if (item.appNotificationDto.appLink !== null) props.history.push(item.appNotificationDto.appLink);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(IonLabel, {\n      className: \"notification-font\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }\n    }, item.appNotificationDto.message)), /*#__PURE__*/React.createElement(IonRow, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(IonLabel, {\n      className: \"notification-date\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }\n    }, item.duration)));\n  }) : /*#__PURE__*/React.createElement(IonCol, {\n    size: \"12\",\n    className: \"full-width ion-text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    className: \"notification-date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 15\n    }\n  }, \"No Notification to show\")))), /*#__PURE__*/React.createElement(IonContent, {\n    style: {\n      maxHeight: \"86px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MainTabs, {\n    selected: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["D:/SVN-folder/New-BRANCH-PUSH/New folder/src/pages/pushNotification/Notifications.tsx"],"names":["IonCol","IonContent","IonLabel","IonPage","IonRow","React","useEffect","useState","EndPointURL","httpGetCallWithoutHeader","httpPostCallWithoutHeaderAndBody","MainTabs","Store","Header","Notifications","props","console","log","newnNotfication","setNewNotification","accessedNotfication","setAccessedNotfication","agent","setAgent","subscribe","getState","CheckUserStatus","user","selectedAgent","response","fetchAllNotificationUrl","then","result","success","data1","data","dataItems","filter","item","accessed","data2","onNewNotificationClick","resId","appLink","appUrl","history","push","length","map","index","responseUuid","appNotificationDto","message","duration","maxHeight"],"mappings":"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","sourcesContent":["import {\r\n  IonCol,\r\n  IonContent,\r\n  IonLabel,\r\n  IonPage,\r\n  IonRow,\r\n} from \"@ionic/react\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport * as EndPointURL from \"../../util/EndPointURL\";\r\nimport {\r\n  httpGetCallWithoutHeader,\r\n  httpPostCallWithoutHeaderAndBody\r\n} from \"../../services/EndPointApi\";\r\nimport \"./Notifications.scss\";\r\nimport MainTabs from \"../MainTabs\";\r\nimport Store from \"../../redux/Store\";\r\nimport Header from \"../../components/Header\";\r\n\r\nexport default function Notifications(props: any) {\r\n  console.log(props);\r\n  const [newnNotfication, setNewNotification] = useState([]);\r\n  const [accessedNotfication, setAccessedNotfication] = useState([]);\r\n  const [agent, setAgent] = useState();\r\n  Store.subscribe(() => {\r\n    setAgent(Store.getState().CheckUserStatus.user.selectedAgent);\r\n  });\r\n\r\n  useEffect(() => {\r\n    var response = httpGetCallWithoutHeader(\r\n      EndPointURL.fetchAllNotificationUrl\r\n    );\r\n    response.then((result) => {\r\n      if (result.success) {\r\n        let data1 = result.data.data.dataItems.filter(\r\n          (item) => item.accessed === \"N\"\r\n        );\r\n        console.log(\"data1\", data1);\r\n        setNewNotification(data1);\r\n        let data2 = result.data.data.dataItems.filter(\r\n          (item) => item.accessed === \"Y\"\r\n        );\r\n        setAccessedNotfication(data2);\r\n      }\r\n    });\r\n  }, [agent]);\r\n\r\n  const onNewNotificationClick = async (resId, appLink) => {\r\n    let appUrl = EndPointURL.fetchAllNotificationUrl + \"/\" + resId;\r\n    var response = await httpPostCallWithoutHeaderAndBody(appUrl);\r\n    if (await response.success) {\r\n      if (appLink !== null) props.history.push(appLink);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <IonPage id=\"notifications-page\">\r\n      <Header\r\n        label=\"Notifications\"\r\n        action=\"search\"\r\n        showAgent={true}\r\n        agentHeader={true}\r\n      />\r\n      <IonContent\r\n        padding-top\r\n        className=\"page-content\"\r\n        fullscreen\r\n        scrollEvents={true}\r\n        scrollY={true}\r\n      >\r\n        <IonRow className=\"divider\">\r\n          <IonCol size=\"12\" className=\"full-width\">\r\n            <IonRow className=\"sort-divider\">\r\n              <IonLabel className=\"data-font\">New</IonLabel>\r\n            </IonRow>\r\n          </IonCol>\r\n          {newnNotfication.length > 0 ? (\r\n            newnNotfication\r\n              .filter((item) => item.accessed === \"N\")\r\n              .map((item, index) => (\r\n                <IonCol\r\n                  size=\"12\"\r\n                  className=\"full-width\"\r\n                  key={index}\r\n                  onClick={() =>\r\n                    onNewNotificationClick(\r\n                      item.responseUuid,\r\n                      item.appNotificationDto.appLink\r\n                    )\r\n                  }\r\n                >\r\n                  <IonRow>\r\n                    <IonLabel className=\"notification-font\">\r\n                      {item.appNotificationDto.message}\r\n                    </IonLabel>\r\n                  </IonRow>\r\n                  <IonRow>\r\n                    <IonLabel className=\"notification-date\">\r\n                      {item.duration}\r\n                    </IonLabel>\r\n                  </IonRow>\r\n                </IonCol>\r\n              ))\r\n          ) : (\r\n            <IonCol size=\"12\" className=\"full-width ion-text-center\">\r\n              <IonLabel className=\"notification-date\">\r\n                No Notification to show\r\n              </IonLabel>\r\n            </IonCol>\r\n          )}\r\n        </IonRow>\r\n        <IonRow className=\"accessed-status\">\r\n          <IonCol size=\"12\" className=\"full-width\">\r\n            <IonRow className=\"sort-divider\">\r\n              <IonLabel className=\"data-font\">Earlier</IonLabel>\r\n            </IonRow>\r\n          </IonCol>\r\n          {accessedNotfication.length > 0 ? (\r\n            accessedNotfication\r\n              .filter((item) => item.accessed === \"Y\")\r\n              .map((item, index) => (\r\n                <IonCol size=\"12\" className=\"full-width\" key={index}>\r\n                  <IonRow\r\n                    onClick={() => {\r\n                      if (item.appNotificationDto.appLink !== null)\r\n                        props.history.push(item.appNotificationDto.appLink);\r\n                    }}\r\n                  >\r\n                    <IonLabel className=\"notification-font\">\r\n                      {item.appNotificationDto.message}\r\n                    </IonLabel>\r\n                  </IonRow>\r\n                  <IonRow>\r\n                    <IonLabel className=\"notification-date\">\r\n                      {item.duration}\r\n                    </IonLabel>\r\n                  </IonRow>\r\n                </IonCol>\r\n              ))\r\n          ) : (\r\n            <IonCol size=\"12\" className=\"full-width ion-text-center\">\r\n              <IonLabel className=\"notification-date\">\r\n                No Notification to show\r\n              </IonLabel>\r\n            </IonCol>\r\n          )}\r\n        </IonRow>\r\n      </IonContent>\r\n      <IonContent style={{ maxHeight: \"86px\" }}>\r\n        <MainTabs selected={true} />\r\n      </IonContent>\r\n    </IonPage>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}